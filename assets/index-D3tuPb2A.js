var DE=Object.defineProperty;var T3=l=>{throw TypeError(l)};var PE=(l,t,e)=>t in l?DE(l,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):l[t]=e;var Kt=(l,t,e)=>PE(l,typeof t!="symbol"?t+"":t,e),vy=(l,t,e)=>t.has(l)||T3("Cannot "+e);var f=(l,t,e)=>(vy(l,t,"read from private field"),e?e.call(l):t.get(l)),I=(l,t,e)=>t.has(l)?T3("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(l):t.set(l,e),M=(l,t,e,i)=>(vy(l,t,"write to private field"),i?i.call(l,e):t.set(l,e),e),B=(l,t,e)=>(vy(l,t,"access private method"),e);var la=(l,t,e,i)=>({set _(s){M(l,t,s,e)},get _(){return f(l,t,i)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=e(s);fetch(s.href,r)}})();var by={exports:{}},g0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R3;function OE(){if(R3)return g0;R3=1;var l=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,s,r){var o=null;if(r!==void 0&&(o=""+r),s.key!==void 0&&(o=""+s.key),"key"in s){r={};for(var c in s)c!=="key"&&(r[c]=s[c])}else r=s;return s=r.ref,{$$typeof:l,type:i,key:o,ref:s!==void 0?s:null,props:r}}return g0.Fragment=t,g0.jsx=e,g0.jsxs=e,g0}var M3;function FE(){return M3||(M3=1,by.exports=OE()),by.exports}var Pt=FE(),yy={exports:{}},Ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k3;function IE(){if(k3)return Ue;k3=1;var l=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function A($){return $===null||typeof $!="object"?null:($=y&&$[y]||$["@@iterator"],typeof $=="function"?$:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,E={};function T($,St,P){this.props=$,this.context=St,this.refs=E,this.updater=P||b}T.prototype.isReactComponent={},T.prototype.setState=function($,St){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,St,"setState")},T.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function L(){}L.prototype=T.prototype;function R($,St,P){this.props=$,this.context=St,this.refs=E,this.updater=P||b}var k=R.prototype=new L;k.constructor=R,N(k,T.prototype),k.isPureReactComponent=!0;var j=Array.isArray,H={H:null,A:null,T:null,S:null},tt=Object.prototype.hasOwnProperty;function Z($,St,P,V,K,at){return P=at.ref,{$$typeof:l,type:$,key:St,ref:P!==void 0?P:null,props:at}}function Q($,St){return Z($.type,St,void 0,void 0,void 0,$.props)}function et($){return typeof $=="object"&&$!==null&&$.$$typeof===l}function ft($){var St={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(P){return St[P]})}var q=/\/+/g;function W($,St){return typeof $=="object"&&$!==null&&$.key!=null?ft(""+$.key):St.toString(36)}function lt(){}function nt($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(lt,lt):($.status="pending",$.then(function(St){$.status==="pending"&&($.status="fulfilled",$.value=St)},function(St){$.status==="pending"&&($.status="rejected",$.reason=St)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function Tt($,St,P,V,K){var at=typeof $;(at==="undefined"||at==="boolean")&&($=null);var ut=!1;if($===null)ut=!0;else switch(at){case"bigint":case"string":case"number":ut=!0;break;case"object":switch($.$$typeof){case l:case t:ut=!0;break;case m:return ut=$._init,Tt(ut($._payload),St,P,V,K)}}if(ut)return K=K($),ut=V===""?"."+W($,0):V,j(K)?(P="",ut!=null&&(P=ut.replace(q,"$&/")+"/"),Tt(K,St,P,"",function(Et){return Et})):K!=null&&(et(K)&&(K=Q(K,P+(K.key==null||$&&$.key===K.key?"":(""+K.key).replace(q,"$&/")+"/")+ut)),St.push(K)),1;ut=0;var bt=V===""?".":V+":";if(j($))for(var At=0;At<$.length;At++)V=$[At],at=bt+W(V,At),ut+=Tt(V,St,P,at,K);else if(At=A($),typeof At=="function")for($=At.call($),At=0;!(V=$.next()).done;)V=V.value,at=bt+W(V,At++),ut+=Tt(V,St,P,at,K);else if(at==="object"){if(typeof $.then=="function")return Tt(nt($),St,P,V,K);throw St=String($),Error("Objects are not valid as a React child (found: "+(St==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":St)+"). If you meant to render a collection of children, use an array instead.")}return ut}function it($,St,P){if($==null)return $;var V=[],K=0;return Tt($,V,"","",function(at){return St.call(P,at,K++)}),V}function ct($){if($._status===-1){var St=$._result;St=St(),St.then(function(P){($._status===0||$._status===-1)&&($._status=1,$._result=P)},function(P){($._status===0||$._status===-1)&&($._status=2,$._result=P)}),$._status===-1&&($._status=0,$._result=St)}if($._status===1)return $._result.default;throw $._result}var dt=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var St=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(St))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)};function Lt(){}return Ue.Children={map:it,forEach:function($,St,P){it($,function(){St.apply(this,arguments)},P)},count:function($){var St=0;return it($,function(){St++}),St},toArray:function($){return it($,function(St){return St})||[]},only:function($){if(!et($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Ue.Component=T,Ue.Fragment=e,Ue.Profiler=s,Ue.PureComponent=R,Ue.StrictMode=i,Ue.Suspense=h,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,Ue.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ue.cache=function($){return function(){return $.apply(null,arguments)}},Ue.cloneElement=function($,St,P){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var V=N({},$.props),K=$.key,at=void 0;if(St!=null)for(ut in St.ref!==void 0&&(at=void 0),St.key!==void 0&&(K=""+St.key),St)!tt.call(St,ut)||ut==="key"||ut==="__self"||ut==="__source"||ut==="ref"&&St.ref===void 0||(V[ut]=St[ut]);var ut=arguments.length-2;if(ut===1)V.children=P;else if(1<ut){for(var bt=Array(ut),At=0;At<ut;At++)bt[At]=arguments[At+2];V.children=bt}return Z($.type,K,void 0,void 0,at,V)},Ue.createContext=function($){return $={$$typeof:o,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:r,_context:$},$},Ue.createElement=function($,St,P){var V,K={},at=null;if(St!=null)for(V in St.key!==void 0&&(at=""+St.key),St)tt.call(St,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(K[V]=St[V]);var ut=arguments.length-2;if(ut===1)K.children=P;else if(1<ut){for(var bt=Array(ut),At=0;At<ut;At++)bt[At]=arguments[At+2];K.children=bt}if($&&$.defaultProps)for(V in ut=$.defaultProps,ut)K[V]===void 0&&(K[V]=ut[V]);return Z($,at,void 0,void 0,null,K)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function($){return{$$typeof:c,render:$}},Ue.isValidElement=et,Ue.lazy=function($){return{$$typeof:m,_payload:{_status:-1,_result:$},_init:ct}},Ue.memo=function($,St){return{$$typeof:p,type:$,compare:St===void 0?null:St}},Ue.startTransition=function($){var St=H.T,P={};H.T=P;try{var V=$(),K=H.S;K!==null&&K(P,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(Lt,dt)}catch(at){dt(at)}finally{H.T=St}},Ue.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},Ue.use=function($){return H.H.use($)},Ue.useActionState=function($,St,P){return H.H.useActionState($,St,P)},Ue.useCallback=function($,St){return H.H.useCallback($,St)},Ue.useContext=function($){return H.H.useContext($)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function($,St){return H.H.useDeferredValue($,St)},Ue.useEffect=function($,St){return H.H.useEffect($,St)},Ue.useId=function(){return H.H.useId()},Ue.useImperativeHandle=function($,St,P){return H.H.useImperativeHandle($,St,P)},Ue.useInsertionEffect=function($,St){return H.H.useInsertionEffect($,St)},Ue.useLayoutEffect=function($,St){return H.H.useLayoutEffect($,St)},Ue.useMemo=function($,St){return H.H.useMemo($,St)},Ue.useOptimistic=function($,St){return H.H.useOptimistic($,St)},Ue.useReducer=function($,St,P){return H.H.useReducer($,St,P)},Ue.useRef=function($){return H.H.useRef($)},Ue.useState=function($){return H.H.useState($)},Ue.useSyncExternalStore=function($,St,P){return H.H.useSyncExternalStore($,St,P)},Ue.useTransition=function(){return H.H.useTransition()},Ue.version="19.0.0",Ue}var D3;function SA(){return D3||(D3=1,yy.exports=IE()),yy.exports}var zt=SA(),wy={exports:{}},m0={},Ay={exports:{}},Sy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P3;function BE(){return P3||(P3=1,function(l){function t(it,ct){var dt=it.length;it.push(ct);t:for(;0<dt;){var Lt=dt-1>>>1,$=it[Lt];if(0<s($,ct))it[Lt]=ct,it[dt]=$,dt=Lt;else break t}}function e(it){return it.length===0?null:it[0]}function i(it){if(it.length===0)return null;var ct=it[0],dt=it.pop();if(dt!==ct){it[0]=dt;t:for(var Lt=0,$=it.length,St=$>>>1;Lt<St;){var P=2*(Lt+1)-1,V=it[P],K=P+1,at=it[K];if(0>s(V,dt))K<$&&0>s(at,V)?(it[Lt]=at,it[K]=dt,Lt=K):(it[Lt]=V,it[P]=dt,Lt=P);else if(K<$&&0>s(at,dt))it[Lt]=at,it[K]=dt,Lt=K;else break t}}return ct}function s(it,ct){var dt=it.sortIndex-ct.sortIndex;return dt!==0?dt:it.id-ct.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;l.unstable_now=function(){return r.now()}}else{var o=Date,c=o.now();l.unstable_now=function(){return o.now()-c}}var h=[],p=[],m=1,y=null,A=3,b=!1,N=!1,E=!1,T=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function k(it){for(var ct=e(p);ct!==null;){if(ct.callback===null)i(p);else if(ct.startTime<=it)i(p),ct.sortIndex=ct.expirationTime,t(h,ct);else break;ct=e(p)}}function j(it){if(E=!1,k(it),!N)if(e(h)!==null)N=!0,nt();else{var ct=e(p);ct!==null&&Tt(j,ct.startTime-it)}}var H=!1,tt=-1,Z=5,Q=-1;function et(){return!(l.unstable_now()-Q<Z)}function ft(){if(H){var it=l.unstable_now();Q=it;var ct=!0;try{t:{N=!1,E&&(E=!1,L(tt),tt=-1),b=!0;var dt=A;try{e:{for(k(it),y=e(h);y!==null&&!(y.expirationTime>it&&et());){var Lt=y.callback;if(typeof Lt=="function"){y.callback=null,A=y.priorityLevel;var $=Lt(y.expirationTime<=it);if(it=l.unstable_now(),typeof $=="function"){y.callback=$,k(it),ct=!0;break e}y===e(h)&&i(h),k(it)}else i(h);y=e(h)}if(y!==null)ct=!0;else{var St=e(p);St!==null&&Tt(j,St.startTime-it),ct=!1}}break t}finally{y=null,A=dt,b=!1}ct=void 0}}finally{ct?q():H=!1}}}var q;if(typeof R=="function")q=function(){R(ft)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,lt=W.port2;W.port1.onmessage=ft,q=function(){lt.postMessage(null)}}else q=function(){T(ft,0)};function nt(){H||(H=!0,q())}function Tt(it,ct){tt=T(function(){it(l.unstable_now())},ct)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(it){it.callback=null},l.unstable_continueExecution=function(){N||b||(N=!0,nt())},l.unstable_forceFrameRate=function(it){0>it||125<it?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<it?Math.floor(1e3/it):5},l.unstable_getCurrentPriorityLevel=function(){return A},l.unstable_getFirstCallbackNode=function(){return e(h)},l.unstable_next=function(it){switch(A){case 1:case 2:case 3:var ct=3;break;default:ct=A}var dt=A;A=ct;try{return it()}finally{A=dt}},l.unstable_pauseExecution=function(){},l.unstable_requestPaint=function(){},l.unstable_runWithPriority=function(it,ct){switch(it){case 1:case 2:case 3:case 4:case 5:break;default:it=3}var dt=A;A=it;try{return ct()}finally{A=dt}},l.unstable_scheduleCallback=function(it,ct,dt){var Lt=l.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Lt+dt:Lt):dt=Lt,it){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=dt+$,it={id:m++,callback:ct,priorityLevel:it,startTime:dt,expirationTime:$,sortIndex:-1},dt>Lt?(it.sortIndex=dt,t(p,it),e(h)===null&&it===e(p)&&(E?(L(tt),tt=-1):E=!0,Tt(j,dt-Lt))):(it.sortIndex=$,t(h,it),N||b||(N=!0,nt())),it},l.unstable_shouldYield=et,l.unstable_wrapCallback=function(it){var ct=A;return function(){var dt=A;A=ct;try{return it.apply(this,arguments)}finally{A=dt}}}}(Sy)),Sy}var O3;function jE(){return O3||(O3=1,Ay.exports=BE()),Ay.exports}var _y={exports:{}},Bs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F3;function zE(){if(F3)return Bs;F3=1;var l=SA();function t(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function r(h,p,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:h,containerInfo:p,implementation:m}}var o=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Bs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Bs.createPortal=function(h,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return r(h,p,null,m)},Bs.flushSync=function(h){var p=o.T,m=i.p;try{if(o.T=null,i.p=2,h)return h()}finally{o.T=p,i.p=m,i.d.f()}},Bs.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(h,p))},Bs.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Bs.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var m=p.as,y=c(m,p.crossOrigin),A=typeof p.integrity=="string"?p.integrity:void 0,b=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?i.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:A,fetchPriority:b}):m==="script"&&i.d.X(h,{crossOrigin:y,integrity:A,fetchPriority:b,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Bs.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=c(p.as,p.crossOrigin);i.d.M(h,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(h)},Bs.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,y=c(m,p.crossOrigin);i.d.L(h,m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Bs.preloadModule=function(h,p){if(typeof h=="string")if(p){var m=c(p.as,p.crossOrigin);i.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(h)},Bs.requestFormReset=function(h){i.d.r(h)},Bs.unstable_batchedUpdates=function(h,p){return h(p)},Bs.useFormState=function(h,p,m){return o.H.useFormState(h,p,m)},Bs.useFormStatus=function(){return o.H.useHostTransitionStatus()},Bs.version="19.0.0",Bs}var I3;function qE(){if(I3)return _y.exports;I3=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(t){console.error(t)}}return l(),_y.exports=zE(),_y.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B3;function UE(){if(B3)return m0;B3=1;var l=jE(),t=SA(),e=qE();function i(n){var a="https://react.dev/errors/"+n;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var r=Symbol.for("react.element"),o=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),b=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),k=Symbol.for("react.offscreen"),j=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function tt(n){return n===null||typeof n!="object"?null:(n=H&&n[H]||n["@@iterator"],typeof n=="function"?n:null)}var Z=Symbol.for("react.client.reference");function Q(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Z?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case h:return"Fragment";case c:return"Portal";case m:return"Profiler";case p:return"StrictMode";case E:return"Suspense";case T:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case b:return(n.displayName||"Context")+".Provider";case A:return(n._context.displayName||"Context")+".Consumer";case N:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case L:return a=n.displayName||null,a!==null?a:Q(n.type)||"Memo";case R:a=n._payload,n=n._init;try{return Q(n(a))}catch{}}return null}var et=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft=Object.assign,q,W;function lt(n){if(q===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);q=a&&a[1]||"",W=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+q+n+W}var nt=!1;function Tt(n,a){if(!n||nt)return"";nt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(a){var Xt=function(){throw Error()};if(Object.defineProperty(Xt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Xt,[])}catch(It){var Dt=It}Reflect.construct(n,[],Xt)}else{try{Xt.call()}catch(It){Dt=It}n.call(Xt.prototype)}}else{try{throw Error()}catch(It){Dt=It}(Xt=n())&&typeof Xt.catch=="function"&&Xt.catch(function(){})}}catch(It){if(It&&Dt&&typeof It.stack=="string")return[It.stack,Dt.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=d.DetermineComponentFrameRoot(),D=S[0],Y=S[1];if(D&&Y){var rt=D.split(`
`),wt=Y.split(`
`);for(v=d=0;d<rt.length&&!rt[d].includes("DetermineComponentFrameRoot");)d++;for(;v<wt.length&&!wt[v].includes("DetermineComponentFrameRoot");)v++;if(d===rt.length||v===wt.length)for(d=rt.length-1,v=wt.length-1;1<=d&&0<=v&&rt[d]!==wt[v];)v--;for(;1<=d&&0<=v;d--,v--)if(rt[d]!==wt[v]){if(d!==1||v!==1)do if(d--,v--,0>v||rt[d]!==wt[v]){var jt=`
`+rt[d].replace(" at new "," at ");return n.displayName&&jt.includes("<anonymous>")&&(jt=jt.replace("<anonymous>",n.displayName)),jt}while(1<=d&&0<=v);break}}}finally{nt=!1,Error.prepareStackTrace=u}return(u=n?n.displayName||n.name:"")?lt(u):""}function it(n){switch(n.tag){case 26:case 27:case 5:return lt(n.type);case 16:return lt("Lazy");case 13:return lt("Suspense");case 19:return lt("SuspenseList");case 0:case 15:return n=Tt(n.type,!1),n;case 11:return n=Tt(n.type.render,!1),n;case 1:return n=Tt(n.type,!0),n;default:return""}}function ct(n){try{var a="";do a+=it(n),n=n.return;while(n);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function dt(n){var a=n,u=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(u=a.return),n=a.return;while(n)}return a.tag===3?u:null}function Lt(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function $(n){if(dt(n)!==n)throw Error(i(188))}function St(n){var a=n.alternate;if(!a){if(a=dt(n),a===null)throw Error(i(188));return a!==n?null:n}for(var u=n,d=a;;){var v=u.return;if(v===null)break;var S=v.alternate;if(S===null){if(d=v.return,d!==null){u=d;continue}break}if(v.child===S.child){for(S=v.child;S;){if(S===u)return $(v),n;if(S===d)return $(v),a;S=S.sibling}throw Error(i(188))}if(u.return!==d.return)u=v,d=S;else{for(var D=!1,Y=v.child;Y;){if(Y===u){D=!0,u=v,d=S;break}if(Y===d){D=!0,d=v,u=S;break}Y=Y.sibling}if(!D){for(Y=S.child;Y;){if(Y===u){D=!0,u=S,d=v;break}if(Y===d){D=!0,d=S,u=v;break}Y=Y.sibling}if(!D)throw Error(i(189))}}if(u.alternate!==d)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?n:a}function P(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n;for(n=n.child;n!==null;){if(a=P(n),a!==null)return a;n=n.sibling}return null}var V=Array.isArray,K=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},ut=[],bt=-1;function At(n){return{current:n}}function Et(n){0>bt||(n.current=ut[bt],ut[bt]=null,bt--)}function Ut(n,a){bt++,ut[bt]=n.current,n.current=a}var Vt=At(null),Jt=At(null),Qt=At(null),ve=At(null);function Ot(n,a){switch(Ut(Qt,a),Ut(Jt,n),Ut(Vt,null),n=a.nodeType,n){case 9:case 11:a=(a=a.documentElement)&&(a=a.namespaceURI)?s3(a):0;break;default:if(n=n===8?a.parentNode:a,a=n.tagName,n=n.namespaceURI)n=s3(n),a=a3(n,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Et(Vt),Ut(Vt,a)}function ot(){Et(Vt),Et(Jt),Et(Qt)}function Re(n){n.memoizedState!==null&&Ut(ve,n);var a=Vt.current,u=a3(a,n.type);a!==u&&(Ut(Jt,n),Ut(Vt,u))}function ue(n){Jt.current===n&&(Et(Vt),Et(Jt)),ve.current===n&&(Et(ve),c0._currentValue=at)}var $t=Object.prototype.hasOwnProperty,te=l.unstable_scheduleCallback,ne=l.unstable_cancelCallback,ee=l.unstable_shouldYield,me=l.unstable_requestPaint,Ae=l.unstable_now,Be=l.unstable_getCurrentPriorityLevel,ze=l.unstable_ImmediatePriority,Ze=l.unstable_UserBlockingPriority,li=l.unstable_NormalPriority,Le=l.unstable_LowPriority,He=l.unstable_IdlePriority,re=l.log,Qn=l.unstable_setDisableYieldValue,Xe=null,Ui=null;function wi(n){if(Ui&&typeof Ui.onCommitFiberRoot=="function")try{Ui.onCommitFiberRoot(Xe,n,void 0,(n.current.flags&128)===128)}catch{}}function ui(n){if(typeof re=="function"&&Qn(n),Ui&&typeof Ui.setStrictMode=="function")try{Ui.setStrictMode(Xe,n)}catch{}}var $i=Math.clz32?Math.clz32:Ki,pi=Math.log,$l=Math.LN2;function Ki(n){return n>>>=0,n===0?32:31-(pi(n)/$l|0)|0}var Rs=128,ba=4194304;function bi(n){var a=n&42;if(a!==0)return a;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ce(n,a){var u=n.pendingLanes;if(u===0)return 0;var d=0,v=n.suspendedLanes,S=n.pingedLanes,D=n.warmLanes;n=n.finishedLanes!==0;var Y=u&134217727;return Y!==0?(u=Y&~v,u!==0?d=bi(u):(S&=Y,S!==0?d=bi(S):n||(D=Y&~D,D!==0&&(d=bi(D))))):(Y=u&~v,Y!==0?d=bi(Y):S!==0?d=bi(S):n||(D=u&~D,D!==0&&(d=bi(D)))),d===0?0:a!==0&&a!==d&&(a&v)===0&&(v=d&-d,D=a&-a,v>=D||v===32&&(D&4194176)!==0)?a:d}function Je(n,a){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&a)===0}function Kl(n,a){switch(n){case 1:case 2:case 4:case 8:return a+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mn(){var n=Rs;return Rs<<=1,(Rs&4194176)===0&&(Rs=128),n}function ja(){var n=ba;return ba<<=1,(ba&62914560)===0&&(ba=4194304),n}function ya(n){for(var a=[],u=0;31>u;u++)a.push(n);return a}function be(n,a){n.pendingLanes|=a,a!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function za(n,a,u,d,v,S){var D=n.pendingLanes;n.pendingLanes=u,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=u,n.entangledLanes&=u,n.errorRecoveryDisabledLanes&=u,n.shellSuspendCounter=0;var Y=n.entanglements,rt=n.expirationTimes,wt=n.hiddenUpdates;for(u=D&~u;0<u;){var jt=31-$i(u),Xt=1<<jt;Y[jt]=0,rt[jt]=-1;var Dt=wt[jt];if(Dt!==null)for(wt[jt]=null,jt=0;jt<Dt.length;jt++){var It=Dt[jt];It!==null&&(It.lane&=-536870913)}u&=~Xt}d!==0&&qa(n,d,0),S!==0&&v===0&&n.tag!==0&&(n.suspendedLanes|=S&~(D&~a))}function qa(n,a,u){n.pendingLanes|=a,n.suspendedLanes&=~a;var d=31-$i(a);n.entangledLanes|=a,n.entanglements[d]=n.entanglements[d]|1073741824|u&4194218}function ds(n,a){var u=n.entangledLanes|=a;for(n=n.entanglements;u;){var d=31-$i(u),v=1<<d;v&a|n[d]&a&&(n[d]|=a),u&=~v}}function dn(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function sn(){var n=K.p;return n!==0?n:(n=window.event,n===void 0?32:_3(n.type))}function Ks(n,a){var u=K.p;try{return K.p=n,a()}finally{K.p=u}}var Qs=Math.random().toString(36).slice(2),Di="__reactFiber$"+Qs,Pi="__reactProps$"+Qs,Zn="__reactContainer$"+Qs,Zs="__reactEvents$"+Qs,Cr="__reactListeners$"+Qs,wa="__reactHandles$"+Qs,Ua="__reactResources$"+Qs,Ha="__reactMarker$"+Qs;function Wo(n){delete n[Di],delete n[Pi],delete n[Zs],delete n[Cr],delete n[wa]}function Aa(n){var a=n[Di];if(a)return a;for(var u=n.parentNode;u;){if(a=u[Zn]||u[Di]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(n=l3(n);n!==null;){if(u=n[Di])return u;n=l3(n)}return a}n=u,u=n.parentNode}return null}function Ga(n){if(n=n[Di]||n[Zn]){var a=n.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return n}return null}function Tr(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n.stateNode;throw Error(i(33))}function io(n){var a=n[Ua];return a||(a=n[Ua]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function pn(n){n[Ha]=!0}var fp=new Set,Ql={};function Rr(n,a){$o(n,a),$o(n+"Capture",a)}function $o(n,a){for(Ql[n]=a,n=0;n<a.length;n++)fp.add(a[n])}var Js=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),N1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rf={},dp={};function mc(n){return $t.call(dp,n)?!0:$t.call(rf,n)?!1:N1.test(n)?dp[n]=!0:(rf[n]=!0,!1)}function vc(n,a,u){if(mc(a))if(u===null)n.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":n.removeAttribute(a);return;case"boolean":var d=a.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){n.removeAttribute(a);return}}n.setAttribute(a,""+u)}}function Oi(n,a,u){if(u===null)n.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttribute(a,""+u)}}function Sa(n,a,u,d){if(d===null)n.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(u);return}n.setAttributeNS(a,u,""+d)}}function ps(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function of(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function lf(n){var a=of(n)?"checked":"value",u=Object.getOwnPropertyDescriptor(n.constructor.prototype,a),d=""+n[a];if(!n.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,S=u.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return v.call(this)},set:function(D){d=""+D,S.call(this,D)}}),Object.defineProperty(n,a,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(D){d=""+D},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function bc(n){n._valueTracker||(n._valueTracker=lf(n))}function _a(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var u=a.getValue(),d="";return n&&(d=of(n)?n.checked?"true":"false":n.value),n=d,n!==u?(a.setValue(n),!0):!1}function no(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ms=/[\n"\\]/g;function Jn(n){return n.replace(Ms,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function yc(n,a,u,d,v,S,D,Y){n.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?n.type=D:n.removeAttribute("type"),a!=null?D==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+ps(a)):n.value!==""+ps(a)&&(n.value=""+ps(a)):D!=="submit"&&D!=="reset"||n.removeAttribute("value"),a!=null?wc(n,D,ps(a)):u!=null?wc(n,D,ps(u)):d!=null&&n.removeAttribute("value"),v==null&&S!=null&&(n.defaultChecked=!!S),v!=null&&(n.checked=v&&typeof v!="function"&&typeof v!="symbol"),Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?n.name=""+ps(Y):n.removeAttribute("name")}function pp(n,a,u,d,v,S,D,Y){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(n.type=S),a!=null||u!=null){if(!(S!=="submit"&&S!=="reset"||a!=null))return;u=u!=null?""+ps(u):"",a=a!=null?""+ps(a):u,Y||a===n.value||(n.value=a),n.defaultValue=a}d=d??v,d=typeof d!="function"&&typeof d!="symbol"&&!!d,n.checked=Y?n.checked:!!d,n.defaultChecked=!!d,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(n.name=D)}function wc(n,a,u){a==="number"&&no(n.ownerDocument)===n||n.defaultValue===""+u||(n.defaultValue=""+u)}function Ko(n,a,u,d){if(n=n.options,a){a={};for(var v=0;v<u.length;v++)a["$"+u[v]]=!0;for(u=0;u<n.length;u++)v=a.hasOwnProperty("$"+n[u].value),n[u].selected!==v&&(n[u].selected=v),v&&d&&(n[u].defaultSelected=!0)}else{for(u=""+ps(u),a=null,v=0;v<n.length;v++){if(n[v].value===u){n[v].selected=!0,d&&(n[v].defaultSelected=!0);return}a!==null||n[v].disabled||(a=n[v])}a!==null&&(a.selected=!0)}}function uf(n,a,u){if(a!=null&&(a=""+ps(a),a!==n.value&&(n.value=a),u==null)){n.defaultValue!==a&&(n.defaultValue=a);return}n.defaultValue=u!=null?""+ps(u):""}function gp(n,a,u,d){if(a==null){if(d!=null){if(u!=null)throw Error(i(92));if(V(d)){if(1<d.length)throw Error(i(93));d=d[0]}u=d}u==null&&(u=""),a=u}u=ps(a),n.defaultValue=u,d=n.textContent,d===u&&d!==""&&d!==null&&(n.value=d)}function Mr(n,a){if(a){var u=n.firstChild;if(u&&u===n.lastChild&&u.nodeType===3){u.nodeValue=a;return}}n.textContent=a}var L1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mp(n,a,u){var d=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?n.setProperty(a,""):a==="float"?n.cssFloat="":n[a]="":d?n.setProperty(a,u):typeof u!="number"||u===0||L1.has(a)?a==="float"?n.cssFloat=u:n[a]=(""+u).trim():n[a]=u+"px"}function vp(n,a,u){if(a!=null&&typeof a!="object")throw Error(i(62));if(n=n.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||a!=null&&a.hasOwnProperty(d)||(d.indexOf("--")===0?n.setProperty(d,""):d==="float"?n.cssFloat="":n[d]="");for(var v in a)d=a[v],a.hasOwnProperty(v)&&u[v]!==d&&mp(n,v,d)}else for(var S in a)a.hasOwnProperty(S)&&mp(n,S,a[S])}function Va(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ac=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zl(n){return Sc.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var kn=null;function cf(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var so=null,_e=null;function bp(n){var a=Ga(n);if(a&&(n=a.stateNode)){var u=n[Pi]||null;t:switch(n=a.stateNode,a.type){case"input":if(yc(n,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=n;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Jn(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var d=u[a];if(d!==n&&d.form===n.form){var v=d[Pi]||null;if(!v)throw Error(i(90));yc(d,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(a=0;a<u.length;a++)d=u[a],d.form===n.form&&_a(d)}break t;case"textarea":uf(n,u.value,u.defaultValue);break t;case"select":a=u.value,a!=null&&Ko(n,!!u.multiple,a,!1)}}}var hf=!1;function Ya(n,a,u){if(hf)return n(a,u);hf=!0;try{var d=n(a);return d}finally{if(hf=!1,(so!==null||_e!==null)&&(a5(),so&&(a=so,n=_e,_e=so=null,bp(a),n)))for(a=0;a<n.length;a++)bp(n[a])}}function Qo(n,a){var u=n.stateNode;if(u===null)return null;var d=u[Pi]||null;if(d===null)return null;u=d[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break t;default:n=!1}if(n)return null;if(u&&typeof u!="function")throw Error(i(231,a,typeof u));return u}var _c=!1;if(Js)try{var kr={};Object.defineProperty(kr,"passive",{get:function(){_c=!0}}),window.addEventListener("test",kr,kr),window.removeEventListener("test",kr,kr)}catch{_c=!1}var xa=null,ff=null,xc=null;function yp(){if(xc)return xc;var n,a=ff,u=a.length,d,v="value"in xa?xa.value:xa.textContent,S=v.length;for(n=0;n<u&&a[n]===v[n];n++);var D=u-n;for(d=1;d<=D&&a[u-d]===v[S-d];d++);return xc=v.slice(n,1<d?1-d:void 0)}function Zo(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function Dr(){return!0}function ao(){return!1}function ts(n){function a(u,d,v,S,D){this._reactName=u,this._targetInst=v,this.type=d,this.nativeEvent=S,this.target=D,this.currentTarget=null;for(var Y in n)n.hasOwnProperty(Y)&&(u=n[Y],this[Y]=u?u(S):S[Y]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Dr:ao,this.isPropagationStopped=ao,this}return ft(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Dr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Dr)},persist:function(){},isPersistent:Dr}),a}var ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jo=ts(ta),Pr=ft({},ta,{view:0,detail:0}),wp=ts(Pr),Ec,Nc,tl,ea=ft({},Pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rc,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==tl&&(tl&&n.type==="mousemove"?(Ec=n.screenX-tl.screenX,Nc=n.screenY-tl.screenY):Nc=Ec=0,tl=n),Ec)},movementY:function(n){return"movementY"in n?n.movementY:Nc}}),Or=ts(ea),C1=ft({},ea,{dataTransfer:0}),el=ts(C1),Xa=ft({},Pr,{relatedTarget:0}),Jl=ts(Xa),tu=ft({},ta,{animationName:0,elapsedTime:0,pseudoElement:0}),T1=ts(tu),Lc=ft({},ta,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),R1=ts(Lc),df=ft({},ta,{data:0}),Cc=ts(df),Ap={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gf(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=pf[n])?!!a[n]:!1}function Rc(){return gf}var M1=ft({},Pr,{key:function(n){if(n.key){var a=Ap[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=Zo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Tc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rc,charCode:function(n){return n.type==="keypress"?Zo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Zo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Mc=ts(M1),eu=ft({},ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kc=ts(eu),il=ft({},Pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rc}),mf=ts(il),_=ft({},ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),F=ts(_),st=ft({},ea,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),pt=ts(st),_t=ft({},ta,{newState:0,oldState:0}),Ft=ts(_t),Yt=[9,13,27,32],ae=Js&&"CompositionEvent"in window,de=null;Js&&"documentMode"in document&&(de=document.documentMode);var De=Js&&"TextEvent"in window&&!de,Me=Js&&(!ae||de&&8<de&&11>=de),Ke=" ",Fi=!1;function Hi(n,a){switch(n){case"keyup":return Yt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function an(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var rn=!1;function Dn(n,a){switch(n){case"compositionend":return an(a);case"keypress":return a.which!==32?null:(Fi=!0,Ke);case"textInput":return n=a.data,n===Ke&&Fi?null:n;default:return null}}function Wa(n,a){if(rn)return n==="compositionend"||!ae&&Hi(n,a)?(n=yp(),xc=ff=xa=null,rn=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Me&&a.locale!=="ko"?null:a.data;default:return null}}var ia={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $a(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!ia[n.type]:a==="textarea"}function vf(n,a,u,d){so?_e?_e.push(d):_e=[d]:so=d,a=c5(a,"onChange"),0<a.length&&(u=new Jo("onChange","change",null,u,d),n.push({event:u,listeners:a}))}var ro=null,oo=null;function Dc(n){JS(n,0)}function nl(n){var a=Tr(n);if(_a(a))return n}function Pc(n,a){if(n==="change")return a}var iu=!1;if(Js){var An;if(Js){var sl="oninput"in document;if(!sl){var nu=document.createElement("div");nu.setAttribute("oninput","return;"),sl=typeof nu.oninput=="function"}An=sl}else An=!1;iu=An&&(!document.documentMode||9<document.documentMode)}function su(){ro&&(ro.detachEvent("onpropertychange",Oc),oo=ro=null)}function Oc(n){if(n.propertyName==="value"&&nl(oo)){var a=[];vf(a,oo,n,cf(n)),Ya(Dc,a)}}function ks(n,a,u){n==="focusin"?(su(),ro=a,oo=u,ro.attachEvent("onpropertychange",Oc)):n==="focusout"&&su()}function k1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return nl(oo)}function bf(n,a){if(n==="click")return nl(a)}function Sp(n,a){if(n==="input"||n==="change")return nl(a)}function Ea(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var Pn=typeof Object.is=="function"?Object.is:Ea;function al(n,a){if(Pn(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var u=Object.keys(n),d=Object.keys(a);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var v=u[d];if(!$t.call(a,v)||!Pn(n[v],a[v]))return!1}return!0}function yf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function lo(n,a){var u=yf(n);n=0;for(var d;u;){if(u.nodeType===3){if(d=n+u.textContent.length,n<=a&&d>=a)return{node:u,offset:a-n};n=d}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=yf(u)}}function rl(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?rl(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function gs(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var a=no(n.document);a instanceof n.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)n=a.contentWindow;else break;a=no(n.document)}return a}function qn(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}function ol(n,a){var u=gs(a);a=n.focusedElem;var d=n.selectionRange;if(u!==a&&a&&a.ownerDocument&&rl(a.ownerDocument.documentElement,a)){if(d!==null&&qn(a)){if(n=d.start,u=d.end,u===void 0&&(u=n),"selectionStart"in a)a.selectionStart=n,a.selectionEnd=Math.min(u,a.value.length);else if(u=(n=a.ownerDocument||document)&&n.defaultView||window,u.getSelection){u=u.getSelection();var v=a.textContent.length,S=Math.min(d.start,v);d=d.end===void 0?S:Math.min(d.end,v),!u.extend&&S>d&&(v=d,d=S,S=v),v=lo(a,S);var D=lo(a,d);v&&D&&(u.rangeCount!==1||u.anchorNode!==v.node||u.anchorOffset!==v.offset||u.focusNode!==D.node||u.focusOffset!==D.offset)&&(n=n.createRange(),n.setStart(v.node,v.offset),u.removeAllRanges(),S>d?(u.addRange(n),u.extend(D.node,D.offset)):(n.setEnd(D.node,D.offset),u.addRange(n)))}}for(n=[],u=a;u=u.parentNode;)u.nodeType===1&&n.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<n.length;a++)u=n[a],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var uo=Js&&"documentMode"in document&&11>=document.documentMode,Ds=null,ll=null,na=null,Gi=!1;function Fc(n,a,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Gi||Ds==null||Ds!==no(d)||(d=Ds,"selectionStart"in d&&qn(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),na&&al(na,d)||(na=d,d=c5(ll,"onSelect"),0<d.length&&(a=new Jo("onSelect","select",null,a,u),n.push({event:a,listeners:d}),a.target=Ds)))}function on(n,a){var u={};return u[n.toLowerCase()]=a.toLowerCase(),u["Webkit"+n]="webkit"+a,u["Moz"+n]="moz"+a,u}var Un={animationend:on("Animation","AnimationEnd"),animationiteration:on("Animation","AnimationIteration"),animationstart:on("Animation","AnimationStart"),transitionrun:on("Transition","TransitionRun"),transitionstart:on("Transition","TransitionStart"),transitioncancel:on("Transition","TransitionCancel"),transitionend:on("Transition","TransitionEnd")},ul={},wf={};Js&&(wf=document.createElement("div").style,"AnimationEvent"in window||(delete Un.animationend.animation,delete Un.animationiteration.animation,delete Un.animationstart.animation),"TransitionEvent"in window||delete Un.transitionend.transition);function Ka(n){if(ul[n])return ul[n];if(!Un[n])return n;var a=Un[n],u;for(u in a)if(a.hasOwnProperty(u)&&u in wf)return ul[n]=a[u];return n}var cl=Ka("animationend"),hl=Ka("animationiteration"),co=Ka("animationstart"),au=Ka("transitionrun"),Ic=Ka("transitionstart"),ru=Ka("transitioncancel"),ho=Ka("transitionend"),Bc=new Map,sa="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Qi(n,a){Bc.set(n,a),Rr(a,[n])}var Ve=[],ci=0,Vi=0;function Zi(){for(var n=ci,a=Vi=ci=0;a<n;){var u=Ve[a];Ve[a++]=null;var d=Ve[a];Ve[a++]=null;var v=Ve[a];Ve[a++]=null;var S=Ve[a];if(Ve[a++]=null,d!==null&&v!==null){var D=d.pending;D===null?v.next=v:(v.next=D.next,D.next=v),d.pending=v}S!==0&&Af(u,v,S)}}function Na(n,a,u,d){Ve[ci++]=n,Ve[ci++]=a,Ve[ci++]=u,Ve[ci++]=d,Vi|=d,n.lanes|=d,n=n.alternate,n!==null&&(n.lanes|=d)}function ou(n,a,u,d){return Na(n,a,u,d),jc(n)}function aa(n,a){return Na(n,null,null,a),jc(n)}function Af(n,a,u){n.lanes|=u;var d=n.alternate;d!==null&&(d.lanes|=u);for(var v=!1,S=n.return;S!==null;)S.childLanes|=u,d=S.alternate,d!==null&&(d.childLanes|=u),S.tag===22&&(n=S.stateNode,n===null||n._visibility&1||(v=!0)),n=S,S=S.return;v&&a!==null&&n.tag===3&&(S=n.stateNode,v=31-$i(u),S=S.hiddenUpdates,n=S[v],n===null?S[v]=[a]:n.push(a),a.lane=u|536870912)}function jc(n){if(50<n0)throw n0=0,qb=null,Error(i(185));for(var a=n.return;a!==null;)n=a,a=n.return;return n.tag===3?n.stateNode:null}var fo={},Ps=new WeakMap;function Yi(n,a){if(typeof n=="object"&&n!==null){var u=Ps.get(n);return u!==void 0?u:(a={value:n,source:a,stack:ct(a)},Ps.set(n,a),a)}return{value:n,source:a,stack:ct(a)}}var po=[],go=0,Sf=null,lu=0,ms=[],Os=0,fl=null,Qa=1,Za="";function Fr(n,a){po[go++]=lu,po[go++]=Sf,Sf=n,lu=a}function _p(n,a,u){ms[Os++]=Qa,ms[Os++]=Za,ms[Os++]=fl,fl=n;var d=Qa;n=Za;var v=32-$i(d)-1;d&=~(1<<v),u+=1;var S=32-$i(a)+v;if(30<S){var D=v-v%5;S=(d&(1<<D)-1).toString(32),d>>=D,v-=D,Qa=1<<32-$i(a)+v|u<<v|d,Za=S+n}else Qa=1<<S|u<<v|d,Za=n}function D1(n){n.return!==null&&(Fr(n,1),_p(n,1,0))}function P1(n){for(;n===Sf;)Sf=po[--go],po[go]=null,lu=po[--go],po[go]=null;for(;n===fl;)fl=ms[--Os],ms[Os]=null,Za=ms[--Os],ms[Os]=null,Qa=ms[--Os],ms[Os]=null}var es=null,Hn=null,ri=!1,Ja=null,Ir=!1,O1=Error(i(519));function mo(n){var a=Error(i(418,""));throw qc(Yi(a,n)),O1}function xp(n){var a=n.stateNode,u=n.type,d=n.memoizedProps;switch(a[Di]=n,a[Pi]=d,u){case"dialog":si("cancel",a),si("close",a);break;case"iframe":case"object":case"embed":si("load",a);break;case"video":case"audio":for(u=0;u<a0.length;u++)si(a0[u],a);break;case"source":si("error",a);break;case"img":case"image":case"link":si("error",a),si("load",a);break;case"details":si("toggle",a);break;case"input":si("invalid",a),pp(a,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),bc(a);break;case"select":si("invalid",a);break;case"textarea":si("invalid",a),gp(a,d.value,d.defaultValue,d.children),bc(a)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||d.suppressHydrationWarning===!0||n3(a.textContent,u)?(d.popover!=null&&(si("beforetoggle",a),si("toggle",a)),d.onScroll!=null&&si("scroll",a),d.onScrollEnd!=null&&si("scrollend",a),d.onClick!=null&&(a.onclick=h5),a=!0):a=!1,a||mo(n)}function zc(n){for(es=n.return;es;)switch(es.tag){case 3:case 27:Ir=!0;return;case 5:case 13:Ir=!1;return;default:es=es.return}}function _f(n){if(n!==es)return!1;if(!ri)return zc(n),ri=!0,!1;var a=!1,u;if((u=n.tag!==3&&n.tag!==27)&&((u=n.tag===5)&&(u=n.type,u=!(u!=="form"&&u!=="button")||sy(n.type,n.memoizedProps)),u=!u),u&&(a=!0),a&&Hn&&mo(n),zc(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));t:{for(n=n.nextSibling,a=0;n;){if(n.nodeType===8)if(u=n.data,u==="/$"){if(a===0){Hn=Eo(n.nextSibling);break t}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++;n=n.nextSibling}Hn=null}}else Hn=es?Eo(n.stateNode.nextSibling):null;return!0}function xf(){Hn=es=null,ri=!1}function qc(n){Ja===null?Ja=[n]:Ja.push(n)}var Ef=Error(i(460)),D2=Error(i(474)),F1={then:function(){}};function P2(n){return n=n.status,n==="fulfilled"||n==="rejected"}function tr(){}function La(n,a,u){switch(u=n[u],u===void 0?n.push(a):u!==a&&(a.then(tr,tr),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,n===Ef?Error(i(483)):n;default:if(typeof a.status=="string")a.then(tr,tr);else{if(n=Bi,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=a,n.status="pending",n.then(function(d){if(a.status==="pending"){var v=a;v.status="fulfilled",v.value=d}},function(d){if(a.status==="pending"){var v=a;v.status="rejected",v.reason=d}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,n===Ef?Error(i(483)):n}throw ra=a,Ef}}var ra=null;function O2(){if(ra===null)throw Error(i(459));var n=ra;return ra=null,n}var uu=null,Ca=0;function vs(n){var a=Ca;return Ca+=1,uu===null&&(uu=[]),La(uu,n,a)}function Nf(n,a){a=a.props.ref,n.ref=a!==void 0?a:null}function Ep(n,a){throw a.$$typeof===r?Error(i(525)):(n=Object.prototype.toString.call(a),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)))}function I1(n){var a=n._init;return a(n._payload)}function B1(n){function a(xt,vt){if(n){var Mt=xt.deletions;Mt===null?(xt.deletions=[vt],xt.flags|=16):Mt.push(vt)}}function u(xt,vt){if(!n)return null;for(;vt!==null;)a(xt,vt),vt=vt.sibling;return null}function d(xt){for(var vt=new Map;xt!==null;)xt.key!==null?vt.set(xt.key,xt):vt.set(xt.index,xt),xt=xt.sibling;return vt}function v(xt,vt){return xt=ih(xt,vt),xt.index=0,xt.sibling=null,xt}function S(xt,vt,Mt){return xt.index=Mt,n?(Mt=xt.alternate,Mt!==null?(Mt=Mt.index,Mt<vt?(xt.flags|=33554434,vt):Mt):(xt.flags|=33554434,vt)):(xt.flags|=1048576,vt)}function D(xt){return n&&xt.alternate===null&&(xt.flags|=33554434),xt}function Y(xt,vt,Mt,Gt){return vt===null||vt.tag!==6?(vt=Db(Mt,xt.mode,Gt),vt.return=xt,vt):(vt=v(vt,Mt),vt.return=xt,vt)}function rt(xt,vt,Mt,Gt){var he=Mt.type;return he===h?jt(xt,vt,Mt.props.children,Gt,Mt.key):vt!==null&&(vt.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===R&&I1(he)===vt.type)?(vt=v(vt,Mt.props),Nf(vt,Mt),vt.return=xt,vt):(vt=t5(Mt.type,Mt.key,Mt.props,null,xt.mode,Gt),Nf(vt,Mt),vt.return=xt,vt)}function wt(xt,vt,Mt,Gt){return vt===null||vt.tag!==4||vt.stateNode.containerInfo!==Mt.containerInfo||vt.stateNode.implementation!==Mt.implementation?(vt=Pb(Mt,xt.mode,Gt),vt.return=xt,vt):(vt=v(vt,Mt.children||[]),vt.return=xt,vt)}function jt(xt,vt,Mt,Gt,he){return vt===null||vt.tag!==7?(vt=qf(Mt,xt.mode,Gt,he),vt.return=xt,vt):(vt=v(vt,Mt),vt.return=xt,vt)}function Xt(xt,vt,Mt){if(typeof vt=="string"&&vt!==""||typeof vt=="number"||typeof vt=="bigint")return vt=Db(""+vt,xt.mode,Mt),vt.return=xt,vt;if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case o:return Mt=t5(vt.type,vt.key,vt.props,null,xt.mode,Mt),Nf(Mt,vt),Mt.return=xt,Mt;case c:return vt=Pb(vt,xt.mode,Mt),vt.return=xt,vt;case R:var Gt=vt._init;return vt=Gt(vt._payload),Xt(xt,vt,Mt)}if(V(vt)||tt(vt))return vt=qf(vt,xt.mode,Mt,null),vt.return=xt,vt;if(typeof vt.then=="function")return Xt(xt,vs(vt),Mt);if(vt.$$typeof===b)return Xt(xt,Q2(xt,vt),Mt);Ep(xt,vt)}return null}function Dt(xt,vt,Mt,Gt){var he=vt!==null?vt.key:null;if(typeof Mt=="string"&&Mt!==""||typeof Mt=="number"||typeof Mt=="bigint")return he!==null?null:Y(xt,vt,""+Mt,Gt);if(typeof Mt=="object"&&Mt!==null){switch(Mt.$$typeof){case o:return Mt.key===he?rt(xt,vt,Mt,Gt):null;case c:return Mt.key===he?wt(xt,vt,Mt,Gt):null;case R:return he=Mt._init,Mt=he(Mt._payload),Dt(xt,vt,Mt,Gt)}if(V(Mt)||tt(Mt))return he!==null?null:jt(xt,vt,Mt,Gt,null);if(typeof Mt.then=="function")return Dt(xt,vt,vs(Mt),Gt);if(Mt.$$typeof===b)return Dt(xt,vt,Q2(xt,Mt),Gt);Ep(xt,Mt)}return null}function It(xt,vt,Mt,Gt,he){if(typeof Gt=="string"&&Gt!==""||typeof Gt=="number"||typeof Gt=="bigint")return xt=xt.get(Mt)||null,Y(vt,xt,""+Gt,he);if(typeof Gt=="object"&&Gt!==null){switch(Gt.$$typeof){case o:return xt=xt.get(Gt.key===null?Mt:Gt.key)||null,rt(vt,xt,Gt,he);case c:return xt=xt.get(Gt.key===null?Mt:Gt.key)||null,wt(vt,xt,Gt,he);case R:var We=Gt._init;return Gt=We(Gt._payload),It(xt,vt,Mt,Gt,he)}if(V(Gt)||tt(Gt))return xt=xt.get(Mt)||null,jt(vt,xt,Gt,he,null);if(typeof Gt.then=="function")return It(xt,vt,Mt,vs(Gt),he);if(Gt.$$typeof===b)return It(xt,vt,Mt,Q2(vt,Gt),he);Ep(vt,Gt)}return null}function pe(xt,vt,Mt,Gt){for(var he=null,We=null,ye=vt,Ee=vt=0,as=null;ye!==null&&Ee<Mt.length;Ee++){ye.index>Ee?(as=ye,ye=null):as=ye.sibling;var mi=Dt(xt,ye,Mt[Ee],Gt);if(mi===null){ye===null&&(ye=as);break}n&&ye&&mi.alternate===null&&a(xt,ye),vt=S(mi,vt,Ee),We===null?he=mi:We.sibling=mi,We=mi,ye=as}if(Ee===Mt.length)return u(xt,ye),ri&&Fr(xt,Ee),he;if(ye===null){for(;Ee<Mt.length;Ee++)ye=Xt(xt,Mt[Ee],Gt),ye!==null&&(vt=S(ye,vt,Ee),We===null?he=ye:We.sibling=ye,We=ye);return ri&&Fr(xt,Ee),he}for(ye=d(ye);Ee<Mt.length;Ee++)as=It(ye,xt,Ee,Mt[Ee],Gt),as!==null&&(n&&as.alternate!==null&&ye.delete(as.key===null?Ee:as.key),vt=S(as,vt,Ee),We===null?he=as:We.sibling=as,We=as);return n&&ye.forEach(function(uh){return a(xt,uh)}),ri&&Fr(xt,Ee),he}function Pe(xt,vt,Mt,Gt){if(Mt==null)throw Error(i(151));for(var he=null,We=null,ye=vt,Ee=vt=0,as=null,mi=Mt.next();ye!==null&&!mi.done;Ee++,mi=Mt.next()){ye.index>Ee?(as=ye,ye=null):as=ye.sibling;var uh=Dt(xt,ye,mi.value,Gt);if(uh===null){ye===null&&(ye=as);break}n&&ye&&uh.alternate===null&&a(xt,ye),vt=S(uh,vt,Ee),We===null?he=uh:We.sibling=uh,We=uh,ye=as}if(mi.done)return u(xt,ye),ri&&Fr(xt,Ee),he;if(ye===null){for(;!mi.done;Ee++,mi=Mt.next())mi=Xt(xt,mi.value,Gt),mi!==null&&(vt=S(mi,vt,Ee),We===null?he=mi:We.sibling=mi,We=mi);return ri&&Fr(xt,Ee),he}for(ye=d(ye);!mi.done;Ee++,mi=Mt.next())mi=It(ye,xt,Ee,mi.value,Gt),mi!==null&&(n&&mi.alternate!==null&&ye.delete(mi.key===null?Ee:mi.key),vt=S(mi,vt,Ee),We===null?he=mi:We.sibling=mi,We=mi);return n&&ye.forEach(function(kE){return a(xt,kE)}),ri&&Fr(xt,Ee),he}function bn(xt,vt,Mt,Gt){if(typeof Mt=="object"&&Mt!==null&&Mt.type===h&&Mt.key===null&&(Mt=Mt.props.children),typeof Mt=="object"&&Mt!==null){switch(Mt.$$typeof){case o:t:{for(var he=Mt.key;vt!==null;){if(vt.key===he){if(he=Mt.type,he===h){if(vt.tag===7){u(xt,vt.sibling),Gt=v(vt,Mt.props.children),Gt.return=xt,xt=Gt;break t}}else if(vt.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===R&&I1(he)===vt.type){u(xt,vt.sibling),Gt=v(vt,Mt.props),Nf(Gt,Mt),Gt.return=xt,xt=Gt;break t}u(xt,vt);break}else a(xt,vt);vt=vt.sibling}Mt.type===h?(Gt=qf(Mt.props.children,xt.mode,Gt,Mt.key),Gt.return=xt,xt=Gt):(Gt=t5(Mt.type,Mt.key,Mt.props,null,xt.mode,Gt),Nf(Gt,Mt),Gt.return=xt,xt=Gt)}return D(xt);case c:t:{for(he=Mt.key;vt!==null;){if(vt.key===he)if(vt.tag===4&&vt.stateNode.containerInfo===Mt.containerInfo&&vt.stateNode.implementation===Mt.implementation){u(xt,vt.sibling),Gt=v(vt,Mt.children||[]),Gt.return=xt,xt=Gt;break t}else{u(xt,vt);break}else a(xt,vt);vt=vt.sibling}Gt=Pb(Mt,xt.mode,Gt),Gt.return=xt,xt=Gt}return D(xt);case R:return he=Mt._init,Mt=he(Mt._payload),bn(xt,vt,Mt,Gt)}if(V(Mt))return pe(xt,vt,Mt,Gt);if(tt(Mt)){if(he=tt(Mt),typeof he!="function")throw Error(i(150));return Mt=he.call(Mt),Pe(xt,vt,Mt,Gt)}if(typeof Mt.then=="function")return bn(xt,vt,vs(Mt),Gt);if(Mt.$$typeof===b)return bn(xt,vt,Q2(xt,Mt),Gt);Ep(xt,Mt)}return typeof Mt=="string"&&Mt!==""||typeof Mt=="number"||typeof Mt=="bigint"?(Mt=""+Mt,vt!==null&&vt.tag===6?(u(xt,vt.sibling),Gt=v(vt,Mt),Gt.return=xt,xt=Gt):(u(xt,vt),Gt=Db(Mt,xt.mode,Gt),Gt.return=xt,xt=Gt),D(xt)):u(xt,vt)}return function(xt,vt,Mt,Gt){try{Ca=0;var he=bn(xt,vt,Mt,Gt);return uu=null,he}catch(ye){if(ye===Ef)throw ye;var We=Ur(29,ye,null,xt.mode);return We.lanes=Gt,We.return=xt,We}finally{}}}var dl=B1(!0),j1=B1(!1),Uc=At(null),cu=At(0);function Lf(n,a){n=xu,Ut(cu,n),Ut(Uc,a),xu=n|a.baseLanes}function hu(){Ut(cu,xu),Ut(Uc,Uc.current)}function Cf(){xu=cu.current,Et(Uc),Et(cu)}var Ta=At(null),er=null;function pl(n){var a=n.alternate;Ut(Sn,Sn.current&1),Ut(Ta,n),er===null&&(a===null||Uc.current!==null||a.memoizedState!==null)&&(er=n)}function F2(n){if(n.tag===22){if(Ut(Sn,Sn.current),Ut(Ta,n),er===null){var a=n.alternate;a!==null&&a.memoizedState!==null&&(er=n)}}else gl()}function gl(){Ut(Sn,Sn.current),Ut(Ta,Ta.current)}function vo(n){Et(Ta),er===n&&(er=null),Et(Sn)}var Sn=At(0);function Np(n){for(var a=n;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var I2=typeof AbortController<"u"?AbortController:function(){var n=[],a=this.signal={aborted:!1,addEventListener:function(u,d){n.push(d)}};this.abort=function(){a.aborted=!0,n.forEach(function(u){return u()})}},Lp=l.unstable_scheduleCallback,lb=l.unstable_NormalPriority,_n={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cp(){return{controller:new I2,data:new Map,refCount:0}}function g(n){n.refCount--,n.refCount===0&&Lp(lb,function(){n.controller.abort()})}var w=null,x=0,C=0,O=null;function z(n,a){if(w===null){var u=w=[];x=0,C=$b(),O={status:"pending",value:void 0,then:function(d){u.push(d)}}}return x++,a.then(U,U),a}function U(){if(--x===0&&w!==null){O!==null&&(O.status="fulfilled");var n=w;w=null,C=0,O=null;for(var a=0;a<n.length;a++)(0,n[a])()}}function G(n,a){var u=[],d={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return n.then(function(){d.status="fulfilled",d.value=a;for(var v=0;v<u.length;v++)(0,u[v])(a)},function(v){for(d.status="rejected",d.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),d}var X=et.S;et.S=function(n,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&z(n,a),X!==null&&X(n,a)};var J=At(null);function gt(){var n=J.current;return n!==null?n:Bi.pooledCache}function Nt(n,a){a===null?Ut(J,J.current):Ut(J,a.pool)}function Rt(){var n=gt();return n===null?null:{parent:_n._currentValue,pool:n}}var yt=0,kt=null,Ct=null,ht=null,mt=!1,Bt=!1,Ht=!1,qt=0,se=0,Zt=null,Se=0;function Wt(){throw Error(i(321))}function ii(n,a){if(a===null)return!1;for(var u=0;u<a.length&&u<n.length;u++)if(!Pn(n[u],a[u]))return!1;return!0}function hi(n,a,u,d,v,S){return yt=S,kt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,et.H=n===null||n.memoizedState===null?gu:Ma,Ht=!1,S=u(d,v),Ht=!1,Bt&&(S=Ye(a,u,d,v)),ti(n),S}function ti(n){et.H=nr;var a=Ct!==null&&Ct.next!==null;if(yt=0,ht=Ct=kt=null,mt=!1,se=0,Zt=null,a)throw Error(i(300));n===null||ns||(n=n.dependencies,n!==null&&K2(n)&&(ns=!0))}function Ye(n,a,u,d){kt=n;var v=0;do{if(Bt&&(Zt=null),se=0,Bt=!1,25<=v)throw Error(i(301));if(v+=1,ht=Ct=null,n.updateQueue!=null){var S=n.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}et.H=Ao,S=a(u,d)}while(Bt);return S}function Ai(){var n=et.H,a=n.useState()[0];return a=typeof a.then=="function"?ni(a):a,n=n.useState()[0],(Ct!==null?Ct.memoizedState:null)!==n&&(kt.flags|=1024),a}function gi(){var n=qt!==0;return qt=0,n}function ke(n,a,u){a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~u}function Ji(n){if(mt){for(n=n.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}mt=!1}yt=0,ht=Ct=kt=null,Bt=!1,se=qt=0,Zt=null}function Si(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?kt.memoizedState=ht=n:ht=ht.next=n,ht}function qe(){if(Ct===null){var n=kt.alternate;n=n!==null?n.memoizedState:null}else n=Ct.next;var a=ht===null?kt.memoizedState:ht.next;if(a!==null)ht=a,Ct=n;else{if(n===null)throw kt.alternate===null?Error(i(467)):Error(i(310));Ct=n,n={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},ht===null?kt.memoizedState=ht=n:ht=ht.next=n}return ht}var Gn;Gn=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ni(n){var a=se;return se+=1,Zt===null&&(Zt=[]),n=La(Zt,n,a),a=kt,(ht===null?a.memoizedState:ht.next)===null&&(a=a.alternate,et.H=a===null||a.memoizedState===null?gu:Ma),n}function is(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return ni(n);if(n.$$typeof===b)return Is(n)}throw Error(i(438,String(n)))}function bs(n){var a=null,u=kt.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var d=kt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(a={data:d.data.map(function(v){return v.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=Gn(),kt.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(n),d=0;d<n;d++)u[d]=j;return a.index++,u}function Ei(n,a){return typeof a=="function"?a(n):a}function gn(n){var a=qe();return Vn(a,Ct,n)}function Vn(n,a,u){var d=n.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=u;var v=n.baseQueue,S=d.pending;if(S!==null){if(v!==null){var D=v.next;v.next=S.next,S.next=D}a.baseQueue=v=S,d.pending=null}if(S=n.baseState,v===null)n.memoizedState=S;else{a=v.next;var Y=D=null,rt=null,wt=a,jt=!1;do{var Xt=wt.lane&-536870913;if(Xt!==wt.lane?(oi&Xt)===Xt:(yt&Xt)===Xt){var Dt=wt.revertLane;if(Dt===0)rt!==null&&(rt=rt.next={lane:0,revertLane:0,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null}),Xt===C&&(jt=!0);else if((yt&Dt)===Dt){wt=wt.next,Dt===C&&(jt=!0);continue}else Xt={lane:0,revertLane:wt.revertLane,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null},rt===null?(Y=rt=Xt,D=S):rt=rt.next=Xt,kt.lanes|=Dt,nh|=Dt;Xt=wt.action,Ht&&u(S,Xt),S=wt.hasEagerState?wt.eagerState:u(S,Xt)}else Dt={lane:Xt,revertLane:wt.revertLane,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null},rt===null?(Y=rt=Dt,D=S):rt=rt.next=Dt,kt.lanes|=Xt,nh|=Xt;wt=wt.next}while(wt!==null&&wt!==a);if(rt===null?D=S:rt.next=Y,!Pn(S,n.memoizedState)&&(ns=!0,jt&&(u=O,u!==null)))throw u;n.memoizedState=S,n.baseState=D,n.baseQueue=rt,d.lastRenderedState=S}return v===null&&(d.lanes=0),[n.memoizedState,d.dispatch]}function Fs(n){var a=qe(),u=a.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=n;var d=u.dispatch,v=u.pending,S=a.memoizedState;if(v!==null){u.pending=null;var D=v=v.next;do S=n(S,D.action),D=D.next;while(D!==v);Pn(S,a.memoizedState)||(ns=!0),a.memoizedState=S,a.baseQueue===null&&(a.baseState=S),u.lastRenderedState=S}return[S,d]}function ir(n,a,u){var d=kt,v=qe(),S=ri;if(S){if(u===void 0)throw Error(i(407));u=u()}else u=a();var D=!Pn((Ct||v).memoizedState,u);if(D&&(v.memoizedState=u,ns=!0),v=v.queue,Df(ml.bind(null,d,v,n),[n]),v.getSnapshot!==a||D||ht!==null&&ht.memoizedState.tag&1){if(d.flags|=2048,vl(9,Br.bind(null,d,v,u,a),{destroy:void 0},null),Bi===null)throw Error(i(349));S||(yt&60)!==0||xn(d,a,u)}return u}function xn(n,a,u){n.flags|=16384,n={getSnapshot:a,value:u},a=kt.updateQueue,a===null?(a=Gn(),kt.updateQueue=a,a.stores=[n]):(u=a.stores,u===null?a.stores=[n]:u.push(n))}function Br(n,a,u,d){a.value=u,a.getSnapshot=d,fu(a)&&bo(n)}function ml(n,a,u){return u(function(){fu(a)&&bo(n)})}function fu(n){var a=n.getSnapshot;n=n.value;try{var u=a();return!Pn(n,u)}catch{return!0}}function bo(n){var a=aa(n,2);a!==null&&oa(a,n,2)}function Ii(n){var a=Si();if(typeof n=="function"){var u=n;if(n=u(),Ht){ui(!0);try{u()}finally{ui(!1)}}}return a.memoizedState=a.baseState=n,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:n},a}function Tp(n,a,u,d){return n.baseState=u,Vn(n,Ct,typeof d=="function"?d:Ei)}function B2(n,a,u,d,v){if(Ip(n))throw Error(i(485));if(n=a.action,n!==null){var S={payload:v,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){S.listeners.push(D)}};et.T!==null?u(!0):S.isTransition=!1,d(S),u=a.pending,u===null?(S.next=a.pending=S,z1(a,S)):(S.next=u.next,a.pending=u.next=S)}}function z1(n,a){var u=a.action,d=a.payload,v=n.state;if(a.isTransition){var S=et.T,D={};et.T=D;try{var Y=u(v,d),rt=et.S;rt!==null&&rt(D,Y),Tf(n,a,Y)}catch(wt){Gc(n,a,wt)}finally{et.T=S}}else try{S=u(v,d),Tf(n,a,S)}catch(wt){Gc(n,a,wt)}}function Tf(n,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){Hc(n,a,d)},function(d){return Gc(n,a,d)}):Hc(n,a,u)}function Hc(n,a,u){a.status="fulfilled",a.value=u,Ra(a),n.state=u,a=n.pending,a!==null&&(u=a.next,u===a?n.pending=null:(u=u.next,a.next=u,z1(n,u)))}function Gc(n,a,u){var d=n.pending;if(n.pending=null,d!==null){d=d.next;do a.status="rejected",a.reason=u,Ra(a),a=a.next;while(a!==d)}n.action=null}function Ra(n){n=n.listeners;for(var a=0;a<n.length;a++)(0,n[a])()}function du(n,a){return a}function pu(n,a){if(ri){var u=Bi.formState;if(u!==null){t:{var d=kt;if(ri){if(Hn){e:{for(var v=Hn,S=Ir;v.nodeType!==8;){if(!S){v=null;break e}if(v=Eo(v.nextSibling),v===null){v=null;break e}}S=v.data,v=S==="F!"||S==="F"?v:null}if(v){Hn=Eo(v.nextSibling),d=v.data==="F!";break t}}mo(d)}d=!1}d&&(a=u[0])}}return u=Si(),u.memoizedState=u.baseState=a,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:du,lastRenderedState:a},u.queue=d,u=X2.bind(null,kt,d),d.dispatch=u,d=Ii(!1),S=yl.bind(null,kt,!1,d.queue),d=Si(),v={state:a,dispatch:null,action:n,pending:null},d.queue=v,u=B2.bind(null,kt,v,S,u),v.dispatch=u,d.memoizedState=n,[a,u,!1]}function q1(n){var a=qe();return Rf(a,Ct,n)}function Rf(n,a,u){a=Vn(n,a,du)[0],n=gn(Ei)[0],a=typeof a=="object"&&a!==null&&typeof a.then=="function"?ni(a):a;var d=qe(),v=d.queue,S=v.dispatch;return u!==d.memoizedState&&(kt.flags|=2048,vl(9,j2.bind(null,v,u),{destroy:void 0},null)),[a,S,n]}function j2(n,a){n.action=a}function Mf(n){var a=qe(),u=Ct;if(u!==null)return Rf(a,u,n);qe(),a=a.memoizedState,u=qe();var d=u.queue.dispatch;return u.memoizedState=n,[a,d,!1]}function vl(n,a,u,d){return n={tag:n,create:a,inst:u,deps:d,next:null},a=kt.updateQueue,a===null&&(a=Gn(),kt.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=n.next=n:(d=u.next,u.next=n,n.next=d,a.lastEffect=n),n}function kf(){return qe().memoizedState}function bl(n,a,u,d){var v=Si();kt.flags|=n,v.memoizedState=vl(1|a,u,{destroy:void 0},d===void 0?null:d)}function Rp(n,a,u,d){var v=qe();d=d===void 0?null:d;var S=v.memoizedState.inst;Ct!==null&&d!==null&&ii(d,Ct.memoizedState.deps)?v.memoizedState=vl(a,u,S,d):(kt.flags|=n,v.memoizedState=vl(1|a,u,S,d))}function z2(n,a){bl(8390656,8,n,a)}function Df(n,a){Rp(2048,8,n,a)}function yo(n,a){return Rp(4,2,n,a)}function q2(n,a){return Rp(4,4,n,a)}function U2(n,a){if(typeof a=="function"){n=n();var u=a(n);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function H2(n,a,u){u=u!=null?u.concat([n]):null,Rp(4,4,U2.bind(null,a,n),u)}function Mp(){}function Pf(n,a){var u=qe();a=a===void 0?null:a;var d=u.memoizedState;return a!==null&&ii(a,d[1])?d[0]:(u.memoizedState=[n,a],n)}function U1(n,a){var u=qe();a=a===void 0?null:a;var d=u.memoizedState;if(a!==null&&ii(a,d[1]))return d[0];if(d=n(),Ht){ui(!0);try{n()}finally{ui(!1)}}return u.memoizedState=[d,a],d}function kp(n,a,u){return u===void 0||(yt&1073741824)!==0?n.memoizedState=a:(n.memoizedState=u,n=OS(),kt.lanes|=n,nh|=n,u)}function Of(n,a,u,d){return Pn(u,a)?u:Uc.current!==null?(n=kp(n,u,d),Pn(n,a)||(ns=!0),n):(yt&42)===0?(ns=!0,n.memoizedState=u):(n=OS(),kt.lanes|=n,nh|=n,a)}function Dp(n,a,u,d,v){var S=K.p;K.p=S!==0&&8>S?S:8;var D=et.T,Y={};et.T=Y,yl(n,!1,a,u);try{var rt=v(),wt=et.S;if(wt!==null&&wt(Y,rt),rt!==null&&typeof rt=="object"&&typeof rt.then=="function"){var jt=G(rt,d);Vc(n,a,jt,lr(n))}else Vc(n,a,d,lr(n))}catch(Xt){Vc(n,a,{then:function(){},status:"rejected",reason:Xt},lr())}finally{K.p=S,et.T=D}}function Ff(){}function Pp(n,a,u,d){if(n.tag!==5)throw Error(i(476));var v=G2(n).queue;Dp(n,v,a,at,u===null?Ff:function(){return If(n),u(d)})}function G2(n){var a=n.memoizedState;if(a!==null)return a;a={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:at},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:u},next:null},n.memoizedState=a,n=n.alternate,n!==null&&(n.memoizedState=a),a}function If(n){var a=G2(n).next.queue;Vc(n,a,{},lr())}function Op(){return Is(c0)}function Fp(){return qe().memoizedState}function wo(){return qe().memoizedState}function V2(n){for(var a=n.return;a!==null;){switch(a.tag){case 24:case 3:var u=lr();n=Qc(u);var d=Zc(a,n,u);d!==null&&(oa(d,a,u),X1(d,a,u)),a={cache:Cp()},n.payload=a;return}a=a.return}}function Y2(n,a,u){var d=lr();u={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Ip(n)?H1(a,u):(u=ou(n,a,u,d),u!==null&&(oa(u,n,d),W2(u,a,d)))}function X2(n,a,u){var d=lr();Vc(n,a,u,d)}function Vc(n,a,u,d){var v={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Ip(n))H1(a,v);else{var S=n.alternate;if(n.lanes===0&&(S===null||S.lanes===0)&&(S=a.lastRenderedReducer,S!==null))try{var D=a.lastRenderedState,Y=S(D,u);if(v.hasEagerState=!0,v.eagerState=Y,Pn(Y,D))return Na(n,a,v,0),Bi===null&&Zi(),!1}catch{}finally{}if(u=ou(n,a,v,d),u!==null)return oa(u,n,d),W2(u,a,d),!0}return!1}function yl(n,a,u,d){if(d={lane:2,revertLane:$b(),action:d,hasEagerState:!1,eagerState:null,next:null},Ip(n)){if(a)throw Error(i(479))}else a=ou(n,u,d,2),a!==null&&oa(a,n,2)}function Ip(n){var a=n.alternate;return n===kt||a!==null&&a===kt}function H1(n,a){Bt=mt=!0;var u=n.pending;u===null?a.next=a:(a.next=u.next,u.next=a),n.pending=a}function W2(n,a,u){if((u&4194176)!==0){var d=a.lanes;d&=n.pendingLanes,u|=d,a.lanes=u,ds(n,u)}}var nr={readContext:Is,use:is,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useLayoutEffect:Wt,useInsertionEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useSyncExternalStore:Wt,useId:Wt};nr.useCacheRefresh=Wt,nr.useMemoCache=Wt,nr.useHostTransitionStatus=Wt,nr.useFormState=Wt,nr.useActionState=Wt,nr.useOptimistic=Wt;var gu={readContext:Is,use:is,useCallback:function(n,a){return Si().memoizedState=[n,a===void 0?null:a],n},useContext:Is,useEffect:z2,useImperativeHandle:function(n,a,u){u=u!=null?u.concat([n]):null,bl(4194308,4,U2.bind(null,a,n),u)},useLayoutEffect:function(n,a){return bl(4194308,4,n,a)},useInsertionEffect:function(n,a){bl(4,2,n,a)},useMemo:function(n,a){var u=Si();a=a===void 0?null:a;var d=n();if(Ht){ui(!0);try{n()}finally{ui(!1)}}return u.memoizedState=[d,a],d},useReducer:function(n,a,u){var d=Si();if(u!==void 0){var v=u(a);if(Ht){ui(!0);try{u(a)}finally{ui(!1)}}}else v=a;return d.memoizedState=d.baseState=v,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:v},d.queue=n,n=n.dispatch=Y2.bind(null,kt,n),[d.memoizedState,n]},useRef:function(n){var a=Si();return n={current:n},a.memoizedState=n},useState:function(n){n=Ii(n);var a=n.queue,u=X2.bind(null,kt,a);return a.dispatch=u,[n.memoizedState,u]},useDebugValue:Mp,useDeferredValue:function(n,a){var u=Si();return kp(u,n,a)},useTransition:function(){var n=Ii(!1);return n=Dp.bind(null,kt,n.queue,!0,!1),Si().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,a,u){var d=kt,v=Si();if(ri){if(u===void 0)throw Error(i(407));u=u()}else{if(u=a(),Bi===null)throw Error(i(349));(oi&60)!==0||xn(d,a,u)}v.memoizedState=u;var S={value:u,getSnapshot:a};return v.queue=S,z2(ml.bind(null,d,S,n),[n]),d.flags|=2048,vl(9,Br.bind(null,d,S,u,a),{destroy:void 0},null),u},useId:function(){var n=Si(),a=Bi.identifierPrefix;if(ri){var u=Za,d=Qa;u=(d&~(1<<32-$i(d)-1)).toString(32)+u,a=":"+a+"R"+u,u=qt++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=Se++,a=":"+a+"r"+u.toString(32)+":";return n.memoizedState=a},useCacheRefresh:function(){return Si().memoizedState=V2.bind(null,kt)}};gu.useMemoCache=bs,gu.useHostTransitionStatus=Op,gu.useFormState=pu,gu.useActionState=pu,gu.useOptimistic=function(n){var a=Si();a.memoizedState=a.baseState=n;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=yl.bind(null,kt,!0,u),u.dispatch=a,[n,a]};var Ma={readContext:Is,use:is,useCallback:Pf,useContext:Is,useEffect:Df,useImperativeHandle:H2,useInsertionEffect:yo,useLayoutEffect:q2,useMemo:U1,useReducer:gn,useRef:kf,useState:function(){return gn(Ei)},useDebugValue:Mp,useDeferredValue:function(n,a){var u=qe();return Of(u,Ct.memoizedState,n,a)},useTransition:function(){var n=gn(Ei)[0],a=qe().memoizedState;return[typeof n=="boolean"?n:ni(n),a]},useSyncExternalStore:ir,useId:Fp};Ma.useCacheRefresh=wo,Ma.useMemoCache=bs,Ma.useHostTransitionStatus=Op,Ma.useFormState=q1,Ma.useActionState=q1,Ma.useOptimistic=function(n,a){var u=qe();return Tp(u,Ct,n,a)};var Ao={readContext:Is,use:is,useCallback:Pf,useContext:Is,useEffect:Df,useImperativeHandle:H2,useInsertionEffect:yo,useLayoutEffect:q2,useMemo:U1,useReducer:Fs,useRef:kf,useState:function(){return Fs(Ei)},useDebugValue:Mp,useDeferredValue:function(n,a){var u=qe();return Ct===null?kp(u,n,a):Of(u,Ct.memoizedState,n,a)},useTransition:function(){var n=Fs(Ei)[0],a=qe().memoizedState;return[typeof n=="boolean"?n:ni(n),a]},useSyncExternalStore:ir,useId:Fp};Ao.useCacheRefresh=wo,Ao.useMemoCache=bs,Ao.useHostTransitionStatus=Op,Ao.useFormState=Mf,Ao.useActionState=Mf,Ao.useOptimistic=function(n,a){var u=qe();return Ct!==null?Tp(u,Ct,n,a):(u.baseState=n,[n,u.queue.dispatch])};function Yc(n,a,u,d){a=n.memoizedState,u=u(d,a),u=u==null?a:ft({},a,u),n.memoizedState=u,n.lanes===0&&(n.updateQueue.baseState=u)}var sr={isMounted:function(n){return(n=n._reactInternals)?dt(n)===n:!1},enqueueSetState:function(n,a,u){n=n._reactInternals;var d=lr(),v=Qc(d);v.payload=a,u!=null&&(v.callback=u),a=Zc(n,v,d),a!==null&&(oa(a,n,d),X1(a,n,d))},enqueueReplaceState:function(n,a,u){n=n._reactInternals;var d=lr(),v=Qc(d);v.tag=1,v.payload=a,u!=null&&(v.callback=u),a=Zc(n,v,d),a!==null&&(oa(a,n,d),X1(a,n,d))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var u=lr(),d=Qc(u);d.tag=2,a!=null&&(d.callback=a),a=Zc(n,d,u),a!==null&&(oa(a,n,u),X1(a,n,u))}};function So(n,a,u,d,v,S,D){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,S,D):a.prototype&&a.prototype.isPureReactComponent?!al(u,d)||!al(v,S):!0}function _o(n,a,u,d){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,d),a.state!==n&&sr.enqueueReplaceState(a,a.state,null)}function jr(n,a){var u=a;if("ref"in a){u={};for(var d in a)d!=="ref"&&(u[d]=a[d])}if(n=n.defaultProps){u===a&&(u=ft({},u));for(var v in n)u[v]===void 0&&(u[v]=n[v])}return u}var Xc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function G1(n){Xc(n)}function $2(n){console.error(n)}function Bp(n){Xc(n)}function Wc(n,a){try{var u=n.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(d){setTimeout(function(){throw d})}}function WA(n,a,u){try{var d=n.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function ub(n,a,u){return u=Qc(u),u.tag=3,u.payload={element:null},u.callback=function(){Wc(n,a)},u}function $A(n){return n=Qc(n),n.tag=3,n}function KA(n,a,u,d){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var S=d.value;n.payload=function(){return v(S)},n.callback=function(){WA(a,u,d)}}var D=u.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(n.callback=function(){WA(a,u,d),typeof v!="function"&&(sh===null?sh=new Set([this]):sh.add(this));var Y=d.stack;this.componentDidCatch(d.value,{componentStack:Y!==null?Y:""})})}function M6(n,a,u,d,v){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(a=u.alternate,a!==null&&Y1(a,u,v,!0),u=Ta.current,u!==null){switch(u.tag){case 13:return er===null?Gb():u.alternate===null&&vn===0&&(vn=3),u.flags&=-257,u.flags|=65536,u.lanes=v,d===F1?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([d]):a.add(d),Yb(n,d,v)),!1;case 22:return u.flags|=65536,d===F1?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([d]):u.add(d)),Yb(n,d,v)),!1}throw Error(i(435,u.tag))}return Yb(n,d,v),Gb(),!1}if(ri)return a=Ta.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=v,d!==O1&&(n=Error(i(422),{cause:d}),qc(Yi(n,u)))):(d!==O1&&(a=Error(i(423),{cause:d}),qc(Yi(a,u))),n=n.current.alternate,n.flags|=65536,v&=-v,n.lanes|=v,d=Yi(d,u),v=ub(n.stateNode,d,v),xb(n,v),vn!==4&&(vn=2)),!1;var S=Error(i(520),{cause:d});if(S=Yi(S,u),e0===null?e0=[S]:e0.push(S),vn!==4&&(vn=2),a===null)return!0;d=Yi(d,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,n=v&-v,u.lanes|=n,n=ub(u.stateNode,d,n),xb(u,n),!1;case 1:if(a=u.type,S=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(sh===null||!sh.has(S))))return u.flags|=65536,v&=-v,u.lanes|=v,v=$A(v),KA(v,n,u,d),xb(u,v),!1}u=u.return}while(u!==null);return!1}var QA=Error(i(461)),ns=!1;function ys(n,a,u,d){a.child=n===null?j1(a,null,u,d):dl(a,n.child,u,d)}function ZA(n,a,u,d,v){u=u.render;var S=a.ref;if("ref"in d){var D={};for(var Y in d)Y!=="ref"&&(D[Y]=d[Y])}else D=d;return jf(a),d=hi(n,a,u,D,S,v),Y=gi(),n!==null&&!ns?(ke(n,a,v),mu(n,a,v)):(ri&&Y&&D1(a),a.flags|=1,ys(n,a,d,v),a.child)}function JA(n,a,u,d,v){if(n===null){var S=u.type;return typeof S=="function"&&!kb(S)&&S.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=S,tS(n,a,S,d,v)):(n=t5(u.type,null,d,a,a.mode,v),n.ref=a.ref,n.return=a,a.child=n)}if(S=n.child,!bb(n,v)){var D=S.memoizedProps;if(u=u.compare,u=u!==null?u:al,u(D,d)&&n.ref===a.ref)return mu(n,a,v)}return a.flags|=1,n=ih(S,d),n.ref=a.ref,n.return=a,a.child=n}function tS(n,a,u,d,v){if(n!==null){var S=n.memoizedProps;if(al(S,d)&&n.ref===a.ref)if(ns=!1,a.pendingProps=d=S,bb(n,v))(n.flags&131072)!==0&&(ns=!0);else return a.lanes=n.lanes,mu(n,a,v)}return cb(n,a,u,d,v)}function eS(n,a,u){var d=a.pendingProps,v=d.children,S=(a.stateNode._pendingVisibility&2)!==0,D=n!==null?n.memoizedState:null;if(V1(n,a),d.mode==="hidden"||S){if((a.flags&128)!==0){if(d=D!==null?D.baseLanes|u:u,n!==null){for(v=a.child=n.child,S=0;v!==null;)S=S|v.lanes|v.childLanes,v=v.sibling;a.childLanes=S&~d}else a.childLanes=0,a.child=null;return iS(n,a,d,u)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},n!==null&&Nt(a,D!==null?D.cachePool:null),D!==null?Lf(a,D):hu(),F2(a);else return a.lanes=a.childLanes=536870912,iS(n,a,D!==null?D.baseLanes|u:u,u)}else D!==null?(Nt(a,D.cachePool),Lf(a,D),gl(),a.memoizedState=null):(n!==null&&Nt(a,null),hu(),gl());return ys(n,a,v,u),a.child}function iS(n,a,u,d){var v=gt();return v=v===null?null:{parent:_n._currentValue,pool:v},a.memoizedState={baseLanes:u,cachePool:v},n!==null&&Nt(a,null),hu(),F2(a),n!==null&&Y1(n,a,d,!0),null}function V1(n,a){var u=a.ref;if(u===null)n!==null&&n.ref!==null&&(a.flags|=2097664);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(n===null||n.ref!==u)&&(a.flags|=2097664)}}function cb(n,a,u,d,v){return jf(a),u=hi(n,a,u,d,void 0,v),d=gi(),n!==null&&!ns?(ke(n,a,v),mu(n,a,v)):(ri&&d&&D1(a),a.flags|=1,ys(n,a,u,v),a.child)}function nS(n,a,u,d,v,S){return jf(a),a.updateQueue=null,u=Ye(a,d,u,v),ti(n),d=gi(),n!==null&&!ns?(ke(n,a,S),mu(n,a,S)):(ri&&d&&D1(a),a.flags|=1,ys(n,a,u,S),a.child)}function sS(n,a,u,d,v){if(jf(a),a.stateNode===null){var S=fo,D=u.contextType;typeof D=="object"&&D!==null&&(S=Is(D)),S=new u(d,S),a.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=sr,a.stateNode=S,S._reactInternals=a,S=a.stateNode,S.props=d,S.state=a.memoizedState,S.refs={},Sb(a),D=u.contextType,S.context=typeof D=="object"&&D!==null?Is(D):fo,S.state=a.memoizedState,D=u.getDerivedStateFromProps,typeof D=="function"&&(Yc(a,u,D,d),S.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(D=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),D!==S.state&&sr.enqueueReplaceState(S,S.state,null),$1(a,d,S,v),W1(),S.state=a.memoizedState),typeof S.componentDidMount=="function"&&(a.flags|=4194308),d=!0}else if(n===null){S=a.stateNode;var Y=a.memoizedProps,rt=jr(u,Y);S.props=rt;var wt=S.context,jt=u.contextType;D=fo,typeof jt=="object"&&jt!==null&&(D=Is(jt));var Xt=u.getDerivedStateFromProps;jt=typeof Xt=="function"||typeof S.getSnapshotBeforeUpdate=="function",Y=a.pendingProps!==Y,jt||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(Y||wt!==D)&&_o(a,S,d,D),Kc=!1;var Dt=a.memoizedState;S.state=Dt,$1(a,d,S,v),W1(),wt=a.memoizedState,Y||Dt!==wt||Kc?(typeof Xt=="function"&&(Yc(a,u,Xt,d),wt=a.memoizedState),(rt=Kc||So(a,u,rt,d,Dt,wt,D))?(jt||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(a.flags|=4194308)):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=wt),S.props=d,S.state=wt,S.context=D,d=rt):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{S=a.stateNode,_b(n,a),D=a.memoizedProps,jt=jr(u,D),S.props=jt,Xt=a.pendingProps,Dt=S.context,wt=u.contextType,rt=fo,typeof wt=="object"&&wt!==null&&(rt=Is(wt)),Y=u.getDerivedStateFromProps,(wt=typeof Y=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(D!==Xt||Dt!==rt)&&_o(a,S,d,rt),Kc=!1,Dt=a.memoizedState,S.state=Dt,$1(a,d,S,v),W1();var It=a.memoizedState;D!==Xt||Dt!==It||Kc||n!==null&&n.dependencies!==null&&K2(n.dependencies)?(typeof Y=="function"&&(Yc(a,u,Y,d),It=a.memoizedState),(jt=Kc||So(a,u,jt,d,Dt,It,rt)||n!==null&&n.dependencies!==null&&K2(n.dependencies))?(wt||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(d,It,rt),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(d,It,rt)),typeof S.componentDidUpdate=="function"&&(a.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof S.componentDidUpdate!="function"||D===n.memoizedProps&&Dt===n.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||D===n.memoizedProps&&Dt===n.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=It),S.props=d,S.state=It,S.context=rt,d=jt):(typeof S.componentDidUpdate!="function"||D===n.memoizedProps&&Dt===n.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||D===n.memoizedProps&&Dt===n.memoizedState||(a.flags|=1024),d=!1)}return S=d,V1(n,a),d=(a.flags&128)!==0,S||d?(S=a.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:S.render(),a.flags|=1,n!==null&&d?(a.child=dl(a,n.child,null,v),a.child=dl(a,null,u,v)):ys(n,a,u,v),a.memoizedState=S.state,n=a.child):n=mu(n,a,v),n}function aS(n,a,u,d){return xf(),a.flags|=256,ys(n,a,u,d),a.child}var hb={dehydrated:null,treeContext:null,retryLane:0};function fb(n){return{baseLanes:n,cachePool:Rt()}}function db(n,a,u){return n=n!==null?n.childLanes&~u:0,a&&(n|=Hr),n}function rS(n,a,u){var d=a.pendingProps,v=!1,S=(a.flags&128)!==0,D;if((D=S)||(D=n!==null&&n.memoizedState===null?!1:(Sn.current&2)!==0),D&&(v=!0,a.flags&=-129),D=(a.flags&32)!==0,a.flags&=-33,n===null){if(ri){if(v?pl(a):gl(),ri){var Y=Hn,rt;if(rt=Y){t:{for(rt=Y,Y=Ir;rt.nodeType!==8;){if(!Y){Y=null;break t}if(rt=Eo(rt.nextSibling),rt===null){Y=null;break t}}Y=rt}Y!==null?(a.memoizedState={dehydrated:Y,treeContext:fl!==null?{id:Qa,overflow:Za}:null,retryLane:536870912},rt=Ur(18,null,null,0),rt.stateNode=Y,rt.return=a,a.child=rt,es=a,Hn=null,rt=!0):rt=!1}rt||mo(a)}if(Y=a.memoizedState,Y!==null&&(Y=Y.dehydrated,Y!==null))return Y.data==="$!"?a.lanes=16:a.lanes=536870912,null;vo(a)}return Y=d.children,d=d.fallback,v?(gl(),v=a.mode,Y=gb({mode:"hidden",children:Y},v),d=qf(d,v,u,null),Y.return=a,d.return=a,Y.sibling=d,a.child=Y,v=a.child,v.memoizedState=fb(u),v.childLanes=db(n,D,u),a.memoizedState=hb,d):(pl(a),pb(a,Y))}if(rt=n.memoizedState,rt!==null&&(Y=rt.dehydrated,Y!==null)){if(S)a.flags&256?(pl(a),a.flags&=-257,a=mb(n,a,u)):a.memoizedState!==null?(gl(),a.child=n.child,a.flags|=128,a=null):(gl(),v=d.fallback,Y=a.mode,d=gb({mode:"visible",children:d.children},Y),v=qf(v,Y,u,null),v.flags|=2,d.return=a,v.return=a,d.sibling=v,a.child=d,dl(a,n.child,null,u),d=a.child,d.memoizedState=fb(u),d.childLanes=db(n,D,u),a.memoizedState=hb,a=v);else if(pl(a),Y.data==="$!"){if(D=Y.nextSibling&&Y.nextSibling.dataset,D)var wt=D.dgst;D=wt,d=Error(i(419)),d.stack="",d.digest=D,qc({value:d,source:null,stack:null}),a=mb(n,a,u)}else if(ns||Y1(n,a,u,!1),D=(u&n.childLanes)!==0,ns||D){if(D=Bi,D!==null){if(d=u&-u,(d&42)!==0)d=1;else switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=64;break;case 268435456:d=134217728;break;default:d=0}if(d=(d&(D.suspendedLanes|u))!==0?0:d,d!==0&&d!==rt.retryLane)throw rt.retryLane=d,aa(n,d),oa(D,n,d),QA}Y.data==="$?"||Gb(),a=mb(n,a,u)}else Y.data==="$?"?(a.flags|=128,a.child=n.child,a=Y6.bind(null,n),Y._reactRetry=a,a=null):(n=rt.treeContext,Hn=Eo(Y.nextSibling),es=a,ri=!0,Ja=null,Ir=!1,n!==null&&(ms[Os++]=Qa,ms[Os++]=Za,ms[Os++]=fl,Qa=n.id,Za=n.overflow,fl=a),a=pb(a,d.children),a.flags|=4096);return a}return v?(gl(),v=d.fallback,Y=a.mode,rt=n.child,wt=rt.sibling,d=ih(rt,{mode:"hidden",children:d.children}),d.subtreeFlags=rt.subtreeFlags&31457280,wt!==null?v=ih(wt,v):(v=qf(v,Y,u,null),v.flags|=2),v.return=a,d.return=a,d.sibling=v,a.child=d,d=v,v=a.child,Y=n.child.memoizedState,Y===null?Y=fb(u):(rt=Y.cachePool,rt!==null?(wt=_n._currentValue,rt=rt.parent!==wt?{parent:wt,pool:wt}:rt):rt=Rt(),Y={baseLanes:Y.baseLanes|u,cachePool:rt}),v.memoizedState=Y,v.childLanes=db(n,D,u),a.memoizedState=hb,d):(pl(a),u=n.child,n=u.sibling,u=ih(u,{mode:"visible",children:d.children}),u.return=a,u.sibling=null,n!==null&&(D=a.deletions,D===null?(a.deletions=[n],a.flags|=16):D.push(n)),a.child=u,a.memoizedState=null,u)}function pb(n,a){return a=gb({mode:"visible",children:a},n.mode),a.return=n,n.child=a}function gb(n,a){return kS(n,a,0,null)}function mb(n,a,u){return dl(a,n.child,null,u),n=pb(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function oS(n,a,u){n.lanes|=a;var d=n.alternate;d!==null&&(d.lanes|=a),wb(n.return,a,u)}function vb(n,a,u,d,v){var S=n.memoizedState;S===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:v}:(S.isBackwards=a,S.rendering=null,S.renderingStartTime=0,S.last=d,S.tail=u,S.tailMode=v)}function lS(n,a,u){var d=a.pendingProps,v=d.revealOrder,S=d.tail;if(ys(n,a,d.children,u),d=Sn.current,(d&2)!==0)d=d&1|2,a.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&oS(n,u,a);else if(n.tag===19)oS(n,u,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break t;for(;n.sibling===null;){if(n.return===null||n.return===a)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}d&=1}switch(Ut(Sn,d),v){case"forwards":for(u=a.child,v=null;u!==null;)n=u.alternate,n!==null&&Np(n)===null&&(v=u),u=u.sibling;u=v,u===null?(v=a.child,a.child=null):(v=u.sibling,u.sibling=null),vb(a,!1,v,u,S);break;case"backwards":for(u=null,v=a.child,a.child=null;v!==null;){if(n=v.alternate,n!==null&&Np(n)===null){a.child=v;break}n=v.sibling,v.sibling=u,u=v,v=n}vb(a,!0,u,null,S);break;case"together":vb(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function mu(n,a,u){if(n!==null&&(a.dependencies=n.dependencies),nh|=a.lanes,(u&a.childLanes)===0)if(n!==null){if(Y1(n,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(n!==null&&a.child!==n.child)throw Error(i(153));if(a.child!==null){for(n=a.child,u=ih(n,n.pendingProps),a.child=u,u.return=a;n.sibling!==null;)n=n.sibling,u=u.sibling=ih(n,n.pendingProps),u.return=a;u.sibling=null}return a.child}function bb(n,a){return(n.lanes&a)!==0?!0:(n=n.dependencies,!!(n!==null&&K2(n)))}function k6(n,a,u){switch(a.tag){case 3:Ot(a,a.stateNode.containerInfo),$c(a,_n,n.memoizedState.cache),xf();break;case 27:case 5:Re(a);break;case 4:Ot(a,a.stateNode.containerInfo);break;case 10:$c(a,a.type,a.memoizedProps.value);break;case 13:var d=a.memoizedState;if(d!==null)return d.dehydrated!==null?(pl(a),a.flags|=128,null):(u&a.child.childLanes)!==0?rS(n,a,u):(pl(a),n=mu(n,a,u),n!==null?n.sibling:null);pl(a);break;case 19:var v=(n.flags&128)!==0;if(d=(u&a.childLanes)!==0,d||(Y1(n,a,u,!1),d=(u&a.childLanes)!==0),v){if(d)return lS(n,a,u);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),Ut(Sn,Sn.current),d)break;return null;case 22:case 23:return a.lanes=0,eS(n,a,u);case 24:$c(a,_n,n.memoizedState.cache)}return mu(n,a,u)}function uS(n,a,u){if(n!==null)if(n.memoizedProps!==a.pendingProps)ns=!0;else{if(!bb(n,u)&&(a.flags&128)===0)return ns=!1,k6(n,a,u);ns=(n.flags&131072)!==0}else ns=!1,ri&&(a.flags&1048576)!==0&&_p(a,lu,a.index);switch(a.lanes=0,a.tag){case 16:t:{n=a.pendingProps;var d=a.elementType,v=d._init;if(d=v(d._payload),a.type=d,typeof d=="function")kb(d)?(n=jr(d,n),a.tag=1,a=sS(null,a,d,n,u)):(a.tag=0,a=cb(null,a,d,n,u));else{if(d!=null){if(v=d.$$typeof,v===N){a.tag=11,a=ZA(null,a,d,n,u);break t}else if(v===L){a.tag=14,a=JA(null,a,d,n,u);break t}}throw a=Q(d)||d,Error(i(306,a,""))}}return a;case 0:return cb(n,a,a.type,a.pendingProps,u);case 1:return d=a.type,v=jr(d,a.pendingProps),sS(n,a,d,v,u);case 3:t:{if(Ot(a,a.stateNode.containerInfo),n===null)throw Error(i(387));var S=a.pendingProps;v=a.memoizedState,d=v.element,_b(n,a),$1(a,S,null,u);var D=a.memoizedState;if(S=D.cache,$c(a,_n,S),S!==v.cache&&Ab(a,[_n],u,!0),W1(),S=D.element,v.isDehydrated)if(v={element:S,isDehydrated:!1,cache:D.cache},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){a=aS(n,a,S,u);break t}else if(S!==d){d=Yi(Error(i(424)),a),qc(d),a=aS(n,a,S,u);break t}else for(Hn=Eo(a.stateNode.containerInfo.firstChild),es=a,ri=!0,Ja=null,Ir=!0,u=j1(a,null,S,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(xf(),S===d){a=mu(n,a,u);break t}ys(n,a,S,u)}a=a.child}return a;case 26:return V1(n,a),n===null?(u=f3(a.type,null,a.pendingProps,null))?a.memoizedState=u:ri||(u=a.type,n=a.pendingProps,d=f5(Qt.current).createElement(u),d[Di]=a,d[Pi]=n,ws(d,u,n),pn(d),a.stateNode=d):a.memoizedState=f3(a.type,n.memoizedProps,a.pendingProps,n.memoizedState),null;case 27:return Re(a),n===null&&ri&&(d=a.stateNode=u3(a.type,a.pendingProps,Qt.current),es=a,Ir=!0,Hn=Eo(d.firstChild)),d=a.pendingProps.children,n!==null||ri?ys(n,a,d,u):a.child=dl(a,null,d,u),V1(n,a),a.child;case 5:return n===null&&ri&&((v=d=Hn)&&(d=lE(d,a.type,a.pendingProps,Ir),d!==null?(a.stateNode=d,es=a,Hn=Eo(d.firstChild),Ir=!1,v=!0):v=!1),v||mo(a)),Re(a),v=a.type,S=a.pendingProps,D=n!==null?n.memoizedProps:null,d=S.children,sy(v,S)?d=null:D!==null&&sy(v,D)&&(a.flags|=32),a.memoizedState!==null&&(v=hi(n,a,Ai,null,null,u),c0._currentValue=v),V1(n,a),ys(n,a,d,u),a.child;case 6:return n===null&&ri&&((n=u=Hn)&&(u=uE(u,a.pendingProps,Ir),u!==null?(a.stateNode=u,es=a,Hn=null,n=!0):n=!1),n||mo(a)),null;case 13:return rS(n,a,u);case 4:return Ot(a,a.stateNode.containerInfo),d=a.pendingProps,n===null?a.child=dl(a,null,d,u):ys(n,a,d,u),a.child;case 11:return ZA(n,a,a.type,a.pendingProps,u);case 7:return ys(n,a,a.pendingProps,u),a.child;case 8:return ys(n,a,a.pendingProps.children,u),a.child;case 12:return ys(n,a,a.pendingProps.children,u),a.child;case 10:return d=a.pendingProps,$c(a,a.type,d.value),ys(n,a,d.children,u),a.child;case 9:return v=a.type._context,d=a.pendingProps.children,jf(a),v=Is(v),d=d(v),a.flags|=1,ys(n,a,d,u),a.child;case 14:return JA(n,a,a.type,a.pendingProps,u);case 15:return tS(n,a,a.type,a.pendingProps,u);case 19:return lS(n,a,u);case 22:return eS(n,a,u);case 24:return jf(a),d=Is(_n),n===null?(v=gt(),v===null&&(v=Bi,S=Cp(),v.pooledCache=S,S.refCount++,S!==null&&(v.pooledCacheLanes|=u),v=S),a.memoizedState={parent:d,cache:v},Sb(a),$c(a,_n,v)):((n.lanes&u)!==0&&(_b(n,a),$1(a,null,null,u),W1()),v=n.memoizedState,S=a.memoizedState,v.parent!==d?(v={parent:d,cache:d},a.memoizedState=v,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=v),$c(a,_n,d)):(d=S.cache,$c(a,_n,d),d!==v.cache&&Ab(a,[_n],u,!0))),ys(n,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}var yb=At(null),Bf=null,vu=null;function $c(n,a,u){Ut(yb,a._currentValue),a._currentValue=u}function bu(n){n._currentValue=yb.current,Et(yb)}function wb(n,a,u){for(;n!==null;){var d=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),n===u)break;n=n.return}}function Ab(n,a,u,d){var v=n.child;for(v!==null&&(v.return=n);v!==null;){var S=v.dependencies;if(S!==null){var D=v.child;S=S.firstContext;t:for(;S!==null;){var Y=S;S=v;for(var rt=0;rt<a.length;rt++)if(Y.context===a[rt]){S.lanes|=u,Y=S.alternate,Y!==null&&(Y.lanes|=u),wb(S.return,u,n),d||(D=null);break t}S=Y.next}}else if(v.tag===18){if(D=v.return,D===null)throw Error(i(341));D.lanes|=u,S=D.alternate,S!==null&&(S.lanes|=u),wb(D,u,n),D=null}else D=v.child;if(D!==null)D.return=v;else for(D=v;D!==null;){if(D===n){D=null;break}if(v=D.sibling,v!==null){v.return=D.return,D=v;break}D=D.return}v=D}}function Y1(n,a,u,d){n=null;for(var v=a,S=!1;v!==null;){if(!S){if((v.flags&524288)!==0)S=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var D=v.alternate;if(D===null)throw Error(i(387));if(D=D.memoizedProps,D!==null){var Y=v.type;Pn(v.pendingProps.value,D.value)||(n!==null?n.push(Y):n=[Y])}}else if(v===ve.current){if(D=v.alternate,D===null)throw Error(i(387));D.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(n!==null?n.push(c0):n=[c0])}v=v.return}n!==null&&Ab(a,n,u,d),a.flags|=262144}function K2(n){for(n=n.firstContext;n!==null;){if(!Pn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function jf(n){Bf=n,vu=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Is(n){return cS(Bf,n)}function Q2(n,a){return Bf===null&&jf(n),cS(n,a)}function cS(n,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},vu===null){if(n===null)throw Error(i(308));vu=a,n.dependencies={lanes:0,firstContext:a},n.flags|=524288}else vu=vu.next=a;return u}var Kc=!1;function Sb(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _b(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Qc(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Zc(n,a,u){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(un&2)!==0){var v=d.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),d.pending=a,a=jc(n),Af(n,null,u),a}return Na(n,d,a,u),jc(n)}function X1(n,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194176)!==0)){var d=a.lanes;d&=n.pendingLanes,u|=d,a.lanes=u,ds(n,u)}}function xb(n,a){var u=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var v=null,S=null;if(u=u.firstBaseUpdate,u!==null){do{var D={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};S===null?v=S=D:S=S.next=D,u=u.next}while(u!==null);S===null?v=S=a:S=S.next=a}else v=S=a;u={baseState:d.baseState,firstBaseUpdate:v,lastBaseUpdate:S,shared:d.shared,callbacks:d.callbacks},n.updateQueue=u;return}n=u.lastBaseUpdate,n===null?u.firstBaseUpdate=a:n.next=a,u.lastBaseUpdate=a}var Eb=!1;function W1(){if(Eb){var n=O;if(n!==null)throw n}}function $1(n,a,u,d){Eb=!1;var v=n.updateQueue;Kc=!1;var S=v.firstBaseUpdate,D=v.lastBaseUpdate,Y=v.shared.pending;if(Y!==null){v.shared.pending=null;var rt=Y,wt=rt.next;rt.next=null,D===null?S=wt:D.next=wt,D=rt;var jt=n.alternate;jt!==null&&(jt=jt.updateQueue,Y=jt.lastBaseUpdate,Y!==D&&(Y===null?jt.firstBaseUpdate=wt:Y.next=wt,jt.lastBaseUpdate=rt))}if(S!==null){var Xt=v.baseState;D=0,jt=wt=rt=null,Y=S;do{var Dt=Y.lane&-536870913,It=Dt!==Y.lane;if(It?(oi&Dt)===Dt:(d&Dt)===Dt){Dt!==0&&Dt===C&&(Eb=!0),jt!==null&&(jt=jt.next={lane:0,tag:Y.tag,payload:Y.payload,callback:null,next:null});t:{var pe=n,Pe=Y;Dt=a;var bn=u;switch(Pe.tag){case 1:if(pe=Pe.payload,typeof pe=="function"){Xt=pe.call(bn,Xt,Dt);break t}Xt=pe;break t;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Pe.payload,Dt=typeof pe=="function"?pe.call(bn,Xt,Dt):pe,Dt==null)break t;Xt=ft({},Xt,Dt);break t;case 2:Kc=!0}}Dt=Y.callback,Dt!==null&&(n.flags|=64,It&&(n.flags|=8192),It=v.callbacks,It===null?v.callbacks=[Dt]:It.push(Dt))}else It={lane:Dt,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},jt===null?(wt=jt=It,rt=Xt):jt=jt.next=It,D|=Dt;if(Y=Y.next,Y===null){if(Y=v.shared.pending,Y===null)break;It=Y,Y=It.next,It.next=null,v.lastBaseUpdate=It,v.shared.pending=null}}while(!0);jt===null&&(rt=Xt),v.baseState=rt,v.firstBaseUpdate=wt,v.lastBaseUpdate=jt,S===null&&(v.shared.lanes=0),nh|=D,n.lanes=D,n.memoizedState=Xt}}function hS(n,a){if(typeof n!="function")throw Error(i(191,n));n.call(a)}function fS(n,a){var u=n.callbacks;if(u!==null)for(n.callbacks=null,n=0;n<u.length;n++)hS(u[n],a)}function K1(n,a){try{var u=a.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var v=d.next;u=v;do{if((u.tag&n)===n){d=void 0;var S=u.create,D=u.inst;d=S(),D.destroy=d}u=u.next}while(u!==v)}}catch(Y){Mi(a,a.return,Y)}}function Jc(n,a,u){try{var d=a.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var S=v.next;d=S;do{if((d.tag&n)===n){var D=d.inst,Y=D.destroy;if(Y!==void 0){D.destroy=void 0,v=a;var rt=u;try{Y()}catch(wt){Mi(v,rt,wt)}}}d=d.next}while(d!==S)}}catch(wt){Mi(a,a.return,wt)}}function dS(n){var a=n.updateQueue;if(a!==null){var u=n.stateNode;try{fS(a,u)}catch(d){Mi(n,n.return,d)}}}function pS(n,a,u){u.props=jr(n.type,n.memoizedProps),u.state=n.memoizedState;try{u.componentWillUnmount()}catch(d){Mi(n,a,d)}}function zf(n,a){try{var u=n.ref;if(u!==null){var d=n.stateNode;switch(n.tag){case 26:case 27:case 5:var v=d;break;default:v=d}typeof u=="function"?n.refCleanup=u(v):u.current=v}}catch(S){Mi(n,a,S)}}function ar(n,a){var u=n.ref,d=n.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(v){Mi(n,a,v)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){Mi(n,a,v)}else u.current=null}function gS(n){var a=n.type,u=n.memoizedProps,d=n.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break t;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(v){Mi(n,n.return,v)}}function mS(n,a,u){try{var d=n.stateNode;nE(d,n.type,u,a),d[Pi]=a}catch(v){Mi(n,n.return,v)}}function vS(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function Nb(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||vS(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Lb(n,a,u){var d=n.tag;if(d===5||d===6)n=n.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(n,a):u.insertBefore(n,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(n,u)):(a=u,a.appendChild(n)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=h5));else if(d!==4&&d!==27&&(n=n.child,n!==null))for(Lb(n,a,u),n=n.sibling;n!==null;)Lb(n,a,u),n=n.sibling}function Z2(n,a,u){var d=n.tag;if(d===5||d===6)n=n.stateNode,a?u.insertBefore(n,a):u.appendChild(n);else if(d!==4&&d!==27&&(n=n.child,n!==null))for(Z2(n,a,u),n=n.sibling;n!==null;)Z2(n,a,u),n=n.sibling}var yu=!1,mn=!1,Cb=!1,bS=typeof WeakSet=="function"?WeakSet:Set,ss=null,yS=!1;function D6(n,a){if(n=n.containerInfo,iy=b5,n=gs(n),qn(n)){if("selectionStart"in n)var u={start:n.selectionStart,end:n.selectionEnd};else t:{u=(u=n.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var v=d.anchorOffset,S=d.focusNode;d=d.focusOffset;try{u.nodeType,S.nodeType}catch{u=null;break t}var D=0,Y=-1,rt=-1,wt=0,jt=0,Xt=n,Dt=null;e:for(;;){for(var It;Xt!==u||v!==0&&Xt.nodeType!==3||(Y=D+v),Xt!==S||d!==0&&Xt.nodeType!==3||(rt=D+d),Xt.nodeType===3&&(D+=Xt.nodeValue.length),(It=Xt.firstChild)!==null;)Dt=Xt,Xt=It;for(;;){if(Xt===n)break e;if(Dt===u&&++wt===v&&(Y=D),Dt===S&&++jt===d&&(rt=D),(It=Xt.nextSibling)!==null)break;Xt=Dt,Dt=Xt.parentNode}Xt=It}u=Y===-1||rt===-1?null:{start:Y,end:rt}}else u=null}u=u||{start:0,end:0}}else u=null;for(ny={focusedElem:n,selectionRange:u},b5=!1,ss=a;ss!==null;)if(a=ss,n=a.child,(a.subtreeFlags&1028)!==0&&n!==null)n.return=a,ss=n;else for(;ss!==null;){switch(a=ss,S=a.alternate,n=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&S!==null){n=void 0,u=a,v=S.memoizedProps,S=S.memoizedState,d=u.stateNode;try{var pe=jr(u.type,v,u.elementType===u.type);n=d.getSnapshotBeforeUpdate(pe,S),d.__reactInternalSnapshotBeforeUpdate=n}catch(Pe){Mi(u,u.return,Pe)}}break;case 3:if((n&1024)!==0){if(n=a.stateNode.containerInfo,u=n.nodeType,u===9)oy(n);else if(u===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":oy(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=a.sibling,n!==null){n.return=a.return,ss=n;break}ss=a.return}return pe=yS,yS=!1,pe}function wS(n,a,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:Au(n,u),d&4&&K1(5,u);break;case 1:if(Au(n,u),d&4)if(n=u.stateNode,a===null)try{n.componentDidMount()}catch(Y){Mi(u,u.return,Y)}else{var v=jr(u.type,a.memoizedProps);a=a.memoizedState;try{n.componentDidUpdate(v,a,n.__reactInternalSnapshotBeforeUpdate)}catch(Y){Mi(u,u.return,Y)}}d&64&&dS(u),d&512&&zf(u,u.return);break;case 3:if(Au(n,u),d&64&&(d=u.updateQueue,d!==null)){if(n=null,u.child!==null)switch(u.child.tag){case 27:case 5:n=u.child.stateNode;break;case 1:n=u.child.stateNode}try{fS(d,n)}catch(Y){Mi(u,u.return,Y)}}break;case 26:Au(n,u),d&512&&zf(u,u.return);break;case 27:case 5:Au(n,u),a===null&&d&4&&gS(u),d&512&&zf(u,u.return);break;case 12:Au(n,u);break;case 13:Au(n,u),d&4&&_S(n,u);break;case 22:if(v=u.memoizedState!==null||yu,!v){a=a!==null&&a.memoizedState!==null||mn;var S=yu,D=mn;yu=v,(mn=a)&&!D?th(n,u,(u.subtreeFlags&8772)!==0):Au(n,u),yu=S,mn=D}d&512&&(u.memoizedProps.mode==="manual"?zf(u,u.return):ar(u,u.return));break;default:Au(n,u)}}function AS(n){var a=n.alternate;a!==null&&(n.alternate=null,AS(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&Wo(a)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var On=null,rr=!1;function wu(n,a,u){for(u=u.child;u!==null;)SS(n,a,u),u=u.sibling}function SS(n,a,u){if(Ui&&typeof Ui.onCommitFiberUnmount=="function")try{Ui.onCommitFiberUnmount(Xe,u)}catch{}switch(u.tag){case 26:mn||ar(u,a),wu(n,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:mn||ar(u,a);var d=On,v=rr;for(On=u.stateNode,wu(n,a,u),u=u.stateNode,a=u.attributes;a.length;)u.removeAttributeNode(a[0]);Wo(u),On=d,rr=v;break;case 5:mn||ar(u,a);case 6:v=On;var S=rr;if(On=null,wu(n,a,u),On=v,rr=S,On!==null)if(rr)try{n=On,d=u.stateNode,n.nodeType===8?n.parentNode.removeChild(d):n.removeChild(d)}catch(D){Mi(u,a,D)}else try{On.removeChild(u.stateNode)}catch(D){Mi(u,a,D)}break;case 18:On!==null&&(rr?(a=On,u=u.stateNode,a.nodeType===8?ry(a.parentNode,u):a.nodeType===1&&ry(a,u),p0(a)):ry(On,u.stateNode));break;case 4:d=On,v=rr,On=u.stateNode.containerInfo,rr=!0,wu(n,a,u),On=d,rr=v;break;case 0:case 11:case 14:case 15:mn||Jc(2,u,a),mn||Jc(4,u,a),wu(n,a,u);break;case 1:mn||(ar(u,a),d=u.stateNode,typeof d.componentWillUnmount=="function"&&pS(u,a,d)),wu(n,a,u);break;case 21:wu(n,a,u);break;case 22:mn||ar(u,a),mn=(d=mn)||u.memoizedState!==null,wu(n,a,u),mn=d;break;default:wu(n,a,u)}}function _S(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{p0(n)}catch(u){Mi(a,a.return,u)}}function P6(n){switch(n.tag){case 13:case 19:var a=n.stateNode;return a===null&&(a=n.stateNode=new bS),a;case 22:return n=n.stateNode,a=n._retryCache,a===null&&(a=n._retryCache=new bS),a;default:throw Error(i(435,n.tag))}}function Tb(n,a){var u=P6(n);a.forEach(function(d){var v=X6.bind(null,n,d);u.has(d)||(u.add(d),d.then(v,v))})}function zr(n,a){var u=a.deletions;if(u!==null)for(var d=0;d<u.length;d++){var v=u[d],S=n,D=a,Y=D;t:for(;Y!==null;){switch(Y.tag){case 27:case 5:On=Y.stateNode,rr=!1;break t;case 3:On=Y.stateNode.containerInfo,rr=!0;break t;case 4:On=Y.stateNode.containerInfo,rr=!0;break t}Y=Y.return}if(On===null)throw Error(i(160));SS(S,D,v),On=null,rr=!1,S=v.alternate,S!==null&&(S.return=null),v.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)xS(a,n),a=a.sibling}var xo=null;function xS(n,a){var u=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:zr(a,n),qr(n),d&4&&(Jc(3,n,n.return),K1(3,n),Jc(5,n,n.return));break;case 1:zr(a,n),qr(n),d&512&&(mn||u===null||ar(u,u.return)),d&64&&yu&&(n=n.updateQueue,n!==null&&(d=n.callbacks,d!==null&&(u=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var v=xo;if(zr(a,n),qr(n),d&512&&(mn||u===null||ar(u,u.return)),d&4){var S=u!==null?u.memoizedState:null;if(d=n.memoizedState,u===null)if(d===null)if(n.stateNode===null){t:{d=n.type,u=n.memoizedProps,v=v.ownerDocument||v;e:switch(d){case"title":S=v.getElementsByTagName("title")[0],(!S||S[Ha]||S[Di]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=v.createElement(d),v.head.insertBefore(S,v.querySelector("head > title"))),ws(S,d,u),S[Di]=n,pn(S),d=S;break t;case"link":var D=g3("link","href",v).get(d+(u.href||""));if(D){for(var Y=0;Y<D.length;Y++)if(S=D[Y],S.getAttribute("href")===(u.href==null?null:u.href)&&S.getAttribute("rel")===(u.rel==null?null:u.rel)&&S.getAttribute("title")===(u.title==null?null:u.title)&&S.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){D.splice(Y,1);break e}}S=v.createElement(d),ws(S,d,u),v.head.appendChild(S);break;case"meta":if(D=g3("meta","content",v).get(d+(u.content||""))){for(Y=0;Y<D.length;Y++)if(S=D[Y],S.getAttribute("content")===(u.content==null?null:""+u.content)&&S.getAttribute("name")===(u.name==null?null:u.name)&&S.getAttribute("property")===(u.property==null?null:u.property)&&S.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&S.getAttribute("charset")===(u.charSet==null?null:u.charSet)){D.splice(Y,1);break e}}S=v.createElement(d),ws(S,d,u),v.head.appendChild(S);break;default:throw Error(i(468,d))}S[Di]=n,pn(S),d=S}n.stateNode=d}else m3(v,n.type,n.stateNode);else n.stateNode=p3(v,d,n.memoizedProps);else S!==d?(S===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):S.count--,d===null?m3(v,n.type,n.stateNode):p3(v,d,n.memoizedProps)):d===null&&n.stateNode!==null&&mS(n,n.memoizedProps,u.memoizedProps)}break;case 27:if(d&4&&n.alternate===null){v=n.stateNode,S=n.memoizedProps;try{for(var rt=v.firstChild;rt;){var wt=rt.nextSibling,jt=rt.nodeName;rt[Ha]||jt==="HEAD"||jt==="BODY"||jt==="SCRIPT"||jt==="STYLE"||jt==="LINK"&&rt.rel.toLowerCase()==="stylesheet"||v.removeChild(rt),rt=wt}for(var Xt=n.type,Dt=v.attributes;Dt.length;)v.removeAttributeNode(Dt[0]);ws(v,Xt,S),v[Di]=n,v[Pi]=S}catch(pe){Mi(n,n.return,pe)}}case 5:if(zr(a,n),qr(n),d&512&&(mn||u===null||ar(u,u.return)),n.flags&32){v=n.stateNode;try{Mr(v,"")}catch(pe){Mi(n,n.return,pe)}}d&4&&n.stateNode!=null&&(v=n.memoizedProps,mS(n,v,u!==null?u.memoizedProps:v)),d&1024&&(Cb=!0);break;case 6:if(zr(a,n),qr(n),d&4){if(n.stateNode===null)throw Error(i(162));d=n.memoizedProps,u=n.stateNode;try{u.nodeValue=d}catch(pe){Mi(n,n.return,pe)}}break;case 3:if(g5=null,v=xo,xo=d5(a.containerInfo),zr(a,n),xo=v,qr(n),d&4&&u!==null&&u.memoizedState.isDehydrated)try{p0(a.containerInfo)}catch(pe){Mi(n,n.return,pe)}Cb&&(Cb=!1,ES(n));break;case 4:d=xo,xo=d5(n.stateNode.containerInfo),zr(a,n),qr(n),xo=d;break;case 12:zr(a,n),qr(n);break;case 13:zr(a,n),qr(n),n.child.flags&8192&&n.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Bb=Ae()),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,Tb(n,d)));break;case 22:if(d&512&&(mn||u===null||ar(u,u.return)),rt=n.memoizedState!==null,wt=u!==null&&u.memoizedState!==null,jt=yu,Xt=mn,yu=jt||rt,mn=Xt||wt,zr(a,n),mn=Xt,yu=jt,qr(n),a=n.stateNode,a._current=n,a._visibility&=-3,a._visibility|=a._pendingVisibility&2,d&8192&&(a._visibility=rt?a._visibility&-2:a._visibility|1,rt&&(a=yu||mn,u===null||wt||a||jp(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))t:for(u=null,a=n;;){if(a.tag===5||a.tag===26||a.tag===27){if(u===null){wt=u=a;try{if(v=wt.stateNode,rt)S=v.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{D=wt.stateNode,Y=wt.memoizedProps.style;var It=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;D.style.display=It==null||typeof It=="boolean"?"":(""+It).trim()}}catch(pe){Mi(wt,wt.return,pe)}}}else if(a.tag===6){if(u===null){wt=a;try{wt.stateNode.nodeValue=rt?"":wt.memoizedProps}catch(pe){Mi(wt,wt.return,pe)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===n)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break t;for(;a.sibling===null;){if(a.return===null||a.return===n)break t;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}d&4&&(d=n.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,Tb(n,u))));break;case 19:zr(a,n),qr(n),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,Tb(n,d)));break;case 21:break;default:zr(a,n),qr(n)}}function qr(n){var a=n.flags;if(a&2){try{if(n.tag!==27){t:{for(var u=n.return;u!==null;){if(vS(u)){var d=u;break t}u=u.return}throw Error(i(160))}switch(d.tag){case 27:var v=d.stateNode,S=Nb(n);Z2(n,S,v);break;case 5:var D=d.stateNode;d.flags&32&&(Mr(D,""),d.flags&=-33);var Y=Nb(n);Z2(n,Y,D);break;case 3:case 4:var rt=d.stateNode.containerInfo,wt=Nb(n);Lb(n,wt,rt);break;default:throw Error(i(161))}}}catch(jt){Mi(n,n.return,jt)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function ES(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var a=n;ES(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),n=n.sibling}}function Au(n,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)wS(n,a.alternate,a),a=a.sibling}function jp(n){for(n=n.child;n!==null;){var a=n;switch(a.tag){case 0:case 11:case 14:case 15:Jc(4,a,a.return),jp(a);break;case 1:ar(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&pS(a,a.return,u),jp(a);break;case 26:case 27:case 5:ar(a,a.return),jp(a);break;case 22:ar(a,a.return),a.memoizedState===null&&jp(a);break;default:jp(a)}n=n.sibling}}function th(n,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var d=a.alternate,v=n,S=a,D=S.flags;switch(S.tag){case 0:case 11:case 15:th(v,S,u),K1(4,S);break;case 1:if(th(v,S,u),d=S,v=d.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(wt){Mi(d,d.return,wt)}if(d=S,v=d.updateQueue,v!==null){var Y=d.stateNode;try{var rt=v.shared.hiddenCallbacks;if(rt!==null)for(v.shared.hiddenCallbacks=null,v=0;v<rt.length;v++)hS(rt[v],Y)}catch(wt){Mi(d,d.return,wt)}}u&&D&64&&dS(S),zf(S,S.return);break;case 26:case 27:case 5:th(v,S,u),u&&d===null&&D&4&&gS(S),zf(S,S.return);break;case 12:th(v,S,u);break;case 13:th(v,S,u),u&&D&4&&_S(v,S);break;case 22:S.memoizedState===null&&th(v,S,u),zf(S,S.return);break;default:th(v,S,u)}a=a.sibling}}function Rb(n,a){var u=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==u&&(n!=null&&n.refCount++,u!=null&&g(u))}function Mb(n,a){n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&g(n))}function eh(n,a,u,d){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)NS(n,a,u,d),a=a.sibling}function NS(n,a,u,d){var v=a.flags;switch(a.tag){case 0:case 11:case 15:eh(n,a,u,d),v&2048&&K1(9,a);break;case 3:eh(n,a,u,d),v&2048&&(n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&g(n)));break;case 12:if(v&2048){eh(n,a,u,d),n=a.stateNode;try{var S=a.memoizedProps,D=S.id,Y=S.onPostCommit;typeof Y=="function"&&Y(D,a.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(rt){Mi(a,a.return,rt)}}else eh(n,a,u,d);break;case 23:break;case 22:S=a.stateNode,a.memoizedState!==null?S._visibility&4?eh(n,a,u,d):Q1(n,a):S._visibility&4?eh(n,a,u,d):(S._visibility|=4,zp(n,a,u,d,(a.subtreeFlags&10256)!==0)),v&2048&&Rb(a.alternate,a);break;case 24:eh(n,a,u,d),v&2048&&Mb(a.alternate,a);break;default:eh(n,a,u,d)}}function zp(n,a,u,d,v){for(v=v&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var S=n,D=a,Y=u,rt=d,wt=D.flags;switch(D.tag){case 0:case 11:case 15:zp(S,D,Y,rt,v),K1(8,D);break;case 23:break;case 22:var jt=D.stateNode;D.memoizedState!==null?jt._visibility&4?zp(S,D,Y,rt,v):Q1(S,D):(jt._visibility|=4,zp(S,D,Y,rt,v)),v&&wt&2048&&Rb(D.alternate,D);break;case 24:zp(S,D,Y,rt,v),v&&wt&2048&&Mb(D.alternate,D);break;default:zp(S,D,Y,rt,v)}a=a.sibling}}function Q1(n,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=n,d=a,v=d.flags;switch(d.tag){case 22:Q1(u,d),v&2048&&Rb(d.alternate,d);break;case 24:Q1(u,d),v&2048&&Mb(d.alternate,d);break;default:Q1(u,d)}a=a.sibling}}var Z1=8192;function qp(n){if(n.subtreeFlags&Z1)for(n=n.child;n!==null;)LS(n),n=n.sibling}function LS(n){switch(n.tag){case 26:qp(n),n.flags&Z1&&n.memoizedState!==null&&SE(xo,n.memoizedState,n.memoizedProps);break;case 5:qp(n);break;case 3:case 4:var a=xo;xo=d5(n.stateNode.containerInfo),qp(n),xo=a;break;case 22:n.memoizedState===null&&(a=n.alternate,a!==null&&a.memoizedState!==null?(a=Z1,Z1=16777216,qp(n),Z1=a):qp(n));break;default:qp(n)}}function CS(n){var a=n.alternate;if(a!==null&&(n=a.child,n!==null)){a.child=null;do a=n.sibling,n.sibling=null,n=a;while(n!==null)}}function J1(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var d=a[u];ss=d,RS(d,n)}CS(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)TS(n),n=n.sibling}function TS(n){switch(n.tag){case 0:case 11:case 15:J1(n),n.flags&2048&&Jc(9,n,n.return);break;case 3:J1(n);break;case 12:J1(n);break;case 22:var a=n.stateNode;n.memoizedState!==null&&a._visibility&4&&(n.return===null||n.return.tag!==13)?(a._visibility&=-5,J2(n)):J1(n);break;default:J1(n)}}function J2(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var d=a[u];ss=d,RS(d,n)}CS(n)}for(n=n.child;n!==null;){switch(a=n,a.tag){case 0:case 11:case 15:Jc(8,a,a.return),J2(a);break;case 22:u=a.stateNode,u._visibility&4&&(u._visibility&=-5,J2(a));break;default:J2(a)}n=n.sibling}}function RS(n,a){for(;ss!==null;){var u=ss;switch(u.tag){case 0:case 11:case 15:Jc(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:g(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,ss=d;else t:for(u=n;ss!==null;){d=ss;var v=d.sibling,S=d.return;if(AS(d),d===u){ss=null;break t}if(v!==null){v.return=S,ss=v;break t}ss=S}}}function O6(n,a,u,d){this.tag=n,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(n,a,u,d){return new O6(n,a,u,d)}function kb(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ih(n,a){var u=n.alternate;return u===null?(u=Ur(n.tag,a,n.key,n.mode),u.elementType=n.elementType,u.type=n.type,u.stateNode=n.stateNode,u.alternate=n,n.alternate=u):(u.pendingProps=a,u.type=n.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=n.flags&31457280,u.childLanes=n.childLanes,u.lanes=n.lanes,u.child=n.child,u.memoizedProps=n.memoizedProps,u.memoizedState=n.memoizedState,u.updateQueue=n.updateQueue,a=n.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=n.sibling,u.index=n.index,u.ref=n.ref,u.refCleanup=n.refCleanup,u}function MS(n,a){n.flags&=31457282;var u=n.alternate;return u===null?(n.childLanes=0,n.lanes=a,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=u.childLanes,n.lanes=u.lanes,n.child=u.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=u.memoizedProps,n.memoizedState=u.memoizedState,n.updateQueue=u.updateQueue,n.type=u.type,a=u.dependencies,n.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),n}function t5(n,a,u,d,v,S){var D=0;if(d=n,typeof n=="function")kb(n)&&(D=1);else if(typeof n=="string")D=wE(n,u,Vt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case h:return qf(u.children,v,S,a);case p:D=8,v|=24;break;case m:return n=Ur(12,u,a,v|2),n.elementType=m,n.lanes=S,n;case E:return n=Ur(13,u,a,v),n.elementType=E,n.lanes=S,n;case T:return n=Ur(19,u,a,v),n.elementType=T,n.lanes=S,n;case k:return kS(u,v,S,a);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case y:case b:D=10;break t;case A:D=9;break t;case N:D=11;break t;case L:D=14;break t;case R:D=16,d=null;break t}D=29,u=Error(i(130,n===null?"null":typeof n,"")),d=null}return a=Ur(D,u,a,v),a.elementType=n,a.type=d,a.lanes=S,a}function qf(n,a,u,d){return n=Ur(7,n,d,a),n.lanes=u,n}function kS(n,a,u,d){n=Ur(22,n,d,a),n.elementType=k,n.lanes=u;var v={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var S=v._current;if(S===null)throw Error(i(456));if((v._pendingVisibility&2)===0){var D=aa(S,2);D!==null&&(v._pendingVisibility|=2,oa(D,S,2))}},attach:function(){var S=v._current;if(S===null)throw Error(i(456));if((v._pendingVisibility&2)!==0){var D=aa(S,2);D!==null&&(v._pendingVisibility&=-3,oa(D,S,2))}}};return n.stateNode=v,n}function Db(n,a,u){return n=Ur(6,n,null,a),n.lanes=u,n}function Pb(n,a,u){return a=Ur(4,n.children!==null?n.children:[],n.key,a),a.lanes=u,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}function Su(n){n.flags|=4}function DS(n,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!v3(a)){if(a=Ta.current,a!==null&&((oi&4194176)===oi?er!==null:(oi&62914560)!==oi&&(oi&536870912)===0||a!==er))throw ra=F1,D2;n.flags|=8192}}function e5(n,a){a!==null&&(n.flags|=4),n.flags&16384&&(a=n.tag!==22?ja():536870912,n.lanes|=a,Hp|=a)}function t0(n,a){if(!ri)switch(n.tailMode){case"hidden":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?n.tail=null:u.sibling=null;break;case"collapsed":u=n.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function ln(n){var a=n.alternate!==null&&n.alternate.child===n.child,u=0,d=0;if(a)for(var v=n.child;v!==null;)u|=v.lanes|v.childLanes,d|=v.subtreeFlags&31457280,d|=v.flags&31457280,v.return=n,v=v.sibling;else for(v=n.child;v!==null;)u|=v.lanes|v.childLanes,d|=v.subtreeFlags,d|=v.flags,v.return=n,v=v.sibling;return n.subtreeFlags|=d,n.childLanes=u,a}function F6(n,a,u){var d=a.pendingProps;switch(P1(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(a),null;case 1:return ln(a),null;case 3:return u=a.stateNode,d=null,n!==null&&(d=n.memoizedState.cache),a.memoizedState.cache!==d&&(a.flags|=2048),bu(_n),ot(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(n===null||n.child===null)&&(_f(a)?Su(a):n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Ja!==null&&(Ub(Ja),Ja=null))),ln(a),null;case 26:return u=a.memoizedState,n===null?(Su(a),u!==null?(ln(a),DS(a,u)):(ln(a),a.flags&=-16777217)):u?u!==n.memoizedState?(Su(a),ln(a),DS(a,u)):(ln(a),a.flags&=-16777217):(n.memoizedProps!==d&&Su(a),ln(a),a.flags&=-16777217),null;case 27:ue(a),u=Qt.current;var v=a.type;if(n!==null&&a.stateNode!=null)n.memoizedProps!==d&&Su(a);else{if(!d){if(a.stateNode===null)throw Error(i(166));return ln(a),null}n=Vt.current,_f(a)?xp(a):(n=u3(v,d,u),a.stateNode=n,Su(a))}return ln(a),null;case 5:if(ue(a),u=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==d&&Su(a);else{if(!d){if(a.stateNode===null)throw Error(i(166));return ln(a),null}if(n=Vt.current,_f(a))xp(a);else{switch(v=f5(Qt.current),n){case 1:n=v.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:n=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":n=v.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":n=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":n=v.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof d.is=="string"?v.createElement("select",{is:d.is}):v.createElement("select"),d.multiple?n.multiple=!0:d.size&&(n.size=d.size);break;default:n=typeof d.is=="string"?v.createElement(u,{is:d.is}):v.createElement(u)}}n[Di]=a,n[Pi]=d;t:for(v=a.child;v!==null;){if(v.tag===5||v.tag===6)n.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===a)break t;for(;v.sibling===null;){if(v.return===null||v.return===a)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}a.stateNode=n;t:switch(ws(n,u,d),u){case"button":case"input":case"select":case"textarea":n=!!d.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&Su(a)}}return ln(a),a.flags&=-16777217,null;case 6:if(n&&a.stateNode!=null)n.memoizedProps!==d&&Su(a);else{if(typeof d!="string"&&a.stateNode===null)throw Error(i(166));if(n=Qt.current,_f(a)){if(n=a.stateNode,u=a.memoizedProps,d=null,v=es,v!==null)switch(v.tag){case 27:case 5:d=v.memoizedProps}n[Di]=a,n=!!(n.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||n3(n.nodeValue,u)),n||mo(a)}else n=f5(n).createTextNode(d),n[Di]=a,a.stateNode=n}return ln(a),null;case 13:if(d=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(v=_f(a),d!==null&&d.dehydrated!==null){if(n===null){if(!v)throw Error(i(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[Di]=a}else xf(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ln(a),v=!1}else Ja!==null&&(Ub(Ja),Ja=null),v=!0;if(!v)return a.flags&256?(vo(a),a):(vo(a),null)}if(vo(a),(a.flags&128)!==0)return a.lanes=u,a;if(u=d!==null,n=n!==null&&n.memoizedState!==null,u){d=a.child,v=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(v=d.alternate.memoizedState.cachePool.pool);var S=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(S=d.memoizedState.cachePool.pool),S!==v&&(d.flags|=2048)}return u!==n&&u&&(a.child.flags|=8192),e5(a,a.updateQueue),ln(a),null;case 4:return ot(),n===null&&Jb(a.stateNode.containerInfo),ln(a),null;case 10:return bu(a.type),ln(a),null;case 19:if(Et(Sn),v=a.memoizedState,v===null)return ln(a),null;if(d=(a.flags&128)!==0,S=v.rendering,S===null)if(d)t0(v,!1);else{if(vn!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(S=Np(n),S!==null){for(a.flags|=128,t0(v,!1),n=S.updateQueue,a.updateQueue=n,e5(a,n),a.subtreeFlags=0,n=u,u=a.child;u!==null;)MS(u,n),u=u.sibling;return Ut(Sn,Sn.current&1|2),a.child}n=n.sibling}v.tail!==null&&Ae()>i5&&(a.flags|=128,d=!0,t0(v,!1),a.lanes=4194304)}else{if(!d)if(n=Np(S),n!==null){if(a.flags|=128,d=!0,n=n.updateQueue,a.updateQueue=n,e5(a,n),t0(v,!0),v.tail===null&&v.tailMode==="hidden"&&!S.alternate&&!ri)return ln(a),null}else 2*Ae()-v.renderingStartTime>i5&&u!==536870912&&(a.flags|=128,d=!0,t0(v,!1),a.lanes=4194304);v.isBackwards?(S.sibling=a.child,a.child=S):(n=v.last,n!==null?n.sibling=S:a.child=S,v.last=S)}return v.tail!==null?(a=v.tail,v.rendering=a,v.tail=a.sibling,v.renderingStartTime=Ae(),a.sibling=null,n=Sn.current,Ut(Sn,d?n&1|2:n&1),a):(ln(a),null);case 22:case 23:return vo(a),Cf(),d=a.memoizedState!==null,n!==null?n.memoizedState!==null!==d&&(a.flags|=8192):d&&(a.flags|=8192),d?(u&536870912)!==0&&(a.flags&128)===0&&(ln(a),a.subtreeFlags&6&&(a.flags|=8192)):ln(a),u=a.updateQueue,u!==null&&e5(a,u.retryQueue),u=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==u&&(a.flags|=2048),n!==null&&Et(J),null;case 24:return u=null,n!==null&&(u=n.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),bu(_n),ln(a),null;case 25:return null}throw Error(i(156,a.tag))}function I6(n,a){switch(P1(a),a.tag){case 1:return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return bu(_n),ot(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 26:case 27:case 5:return ue(a),null;case 13:if(vo(a),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(i(340));xf()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return Et(Sn),null;case 4:return ot(),null;case 10:return bu(a.type),null;case 22:case 23:return vo(a),Cf(),n!==null&&Et(J),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 24:return bu(_n),null;case 25:return null;default:return null}}function PS(n,a){switch(P1(a),a.tag){case 3:bu(_n),ot();break;case 26:case 27:case 5:ue(a);break;case 4:ot();break;case 13:vo(a);break;case 19:Et(Sn);break;case 10:bu(a.type);break;case 22:case 23:vo(a),Cf(),n!==null&&Et(J);break;case 24:bu(_n)}}var B6={getCacheForType:function(n){var a=Is(_n),u=a.data.get(n);return u===void 0&&(u=n(),a.data.set(n,u)),u}},j6=typeof WeakMap=="function"?WeakMap:Map,un=0,Bi=null,Qe=null,oi=0,ji=0,or=null,_u=!1,Up=!1,Ob=!1,xu=0,vn=0,nh=0,Uf=0,Fb=0,Hr=0,Hp=0,e0=null,wl=null,Ib=!1,Bb=0,i5=1/0,n5=null,sh=null,s5=!1,Hf=null,i0=0,jb=0,zb=null,n0=0,qb=null;function lr(){if((un&2)!==0&&oi!==0)return oi&-oi;if(et.T!==null){var n=C;return n!==0?n:$b()}return sn()}function OS(){Hr===0&&(Hr=(oi&536870912)===0||ri?Mn():536870912);var n=Ta.current;return n!==null&&(n.flags|=32),Hr}function oa(n,a,u){(n===Bi&&ji===2||n.cancelPendingCommit!==null)&&(Gp(n,0),Eu(n,oi,Hr,!1)),be(n,u),((un&2)===0||n!==Bi)&&(n===Bi&&((un&2)===0&&(Uf|=u),vn===4&&Eu(n,oi,Hr,!1)),Al(n))}function FS(n,a,u){if((un&6)!==0)throw Error(i(327));var d=!u&&(a&60)===0&&(a&n.expiredLanes)===0||Je(n,a),v=d?U6(n,a):Vb(n,a,!0),S=d;do{if(v===0){Up&&!d&&Eu(n,a,0,!1);break}else if(v===6)Eu(n,a,0,!_u);else{if(u=n.current.alternate,S&&!z6(u)){v=Vb(n,a,!1),S=!1;continue}if(v===2){if(S=a,n.errorRecoveryDisabledLanes&S)var D=0;else D=n.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){a=D;t:{var Y=n;v=e0;var rt=Y.current.memoizedState.isDehydrated;if(rt&&(Gp(Y,D).flags|=256),D=Vb(Y,D,!1),D!==2){if(Ob&&!rt){Y.errorRecoveryDisabledLanes|=S,Uf|=S,v=4;break t}S=wl,wl=v,S!==null&&Ub(S)}v=D}if(S=!1,v!==2)continue}}if(v===1){Gp(n,0),Eu(n,a,0,!0);break}t:{switch(d=n,v){case 0:case 1:throw Error(i(345));case 4:if((a&4194176)===a){Eu(d,a,Hr,!_u);break t}break;case 2:wl=null;break;case 3:case 5:break;default:throw Error(i(329))}if(d.finishedWork=u,d.finishedLanes=a,(a&62914560)===a&&(S=Bb+300-Ae(),10<S)){if(Eu(d,a,Hr,!_u),Ce(d,0)!==0)break t;d.timeoutHandle=r3(IS.bind(null,d,u,wl,n5,Ib,a,Hr,Uf,Hp,_u,2,-0,0),S);break t}IS(d,u,wl,n5,Ib,a,Hr,Uf,Hp,_u,0,-0,0)}}break}while(!0);Al(n)}function Ub(n){wl===null?wl=n:wl.push.apply(wl,n)}function IS(n,a,u,d,v,S,D,Y,rt,wt,jt,Xt,Dt){var It=a.subtreeFlags;if((It&8192||(It&16785408)===16785408)&&(u0={stylesheets:null,count:0,unsuspend:AE},LS(a),a=_E(),a!==null)){n.cancelPendingCommit=a(GS.bind(null,n,u,d,v,D,Y,rt,1,Xt,Dt)),Eu(n,S,D,!wt);return}GS(n,u,d,v,D,Y,rt,jt,Xt,Dt)}function z6(n){for(var a=n;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var v=u[d],S=v.getSnapshot;v=v.value;try{if(!Pn(S(),v))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Eu(n,a,u,d){a&=~Fb,a&=~Uf,n.suspendedLanes|=a,n.pingedLanes&=~a,d&&(n.warmLanes|=a),d=n.expirationTimes;for(var v=a;0<v;){var S=31-$i(v),D=1<<S;d[S]=-1,v&=~D}u!==0&&qa(n,u,a)}function a5(){return(un&6)===0?(s0(0),!1):!0}function Hb(){if(Qe!==null){if(ji===0)var n=Qe.return;else n=Qe,vu=Bf=null,Ji(n),uu=null,Ca=0,n=Qe;for(;n!==null;)PS(n.alternate,n),n=n.return;Qe=null}}function Gp(n,a){n.finishedWork=null,n.finishedLanes=0;var u=n.timeoutHandle;u!==-1&&(n.timeoutHandle=-1,aE(u)),u=n.cancelPendingCommit,u!==null&&(n.cancelPendingCommit=null,u()),Hb(),Bi=n,Qe=u=ih(n.current,null),oi=a,ji=0,or=null,_u=!1,Up=Je(n,a),Ob=!1,Hp=Hr=Fb=Uf=nh=vn=0,wl=e0=null,Ib=!1,(a&8)!==0&&(a|=a&32);var d=n.entangledLanes;if(d!==0)for(n=n.entanglements,d&=a;0<d;){var v=31-$i(d),S=1<<v;a|=n[v],d&=~S}return xu=a,Zi(),u}function BS(n,a){kt=null,et.H=nr,a===Ef?(a=O2(),ji=3):a===D2?(a=O2(),ji=4):ji=a===QA?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,or=a,Qe===null&&(vn=1,Wc(n,Yi(a,n.current)))}function jS(){var n=et.H;return et.H=nr,n===null?nr:n}function zS(){var n=et.A;return et.A=B6,n}function Gb(){vn=4,_u||(oi&4194176)!==oi&&Ta.current!==null||(Up=!0),(nh&134217727)===0&&(Uf&134217727)===0||Bi===null||Eu(Bi,oi,Hr,!1)}function Vb(n,a,u){var d=un;un|=2;var v=jS(),S=zS();(Bi!==n||oi!==a)&&(n5=null,Gp(n,a)),a=!1;var D=vn;t:do try{if(ji!==0&&Qe!==null){var Y=Qe,rt=or;switch(ji){case 8:Hb(),D=6;break t;case 3:case 2:case 6:Ta.current===null&&(a=!0);var wt=ji;if(ji=0,or=null,Vp(n,Y,rt,wt),u&&Up){D=0;break t}break;default:wt=ji,ji=0,or=null,Vp(n,Y,rt,wt)}}q6(),D=vn;break}catch(jt){BS(n,jt)}while(!0);return a&&n.shellSuspendCounter++,vu=Bf=null,un=d,et.H=v,et.A=S,Qe===null&&(Bi=null,oi=0,Zi()),D}function q6(){for(;Qe!==null;)qS(Qe)}function U6(n,a){var u=un;un|=2;var d=jS(),v=zS();Bi!==n||oi!==a?(n5=null,i5=Ae()+500,Gp(n,a)):Up=Je(n,a);t:do try{if(ji!==0&&Qe!==null){a=Qe;var S=or;e:switch(ji){case 1:ji=0,or=null,Vp(n,a,S,1);break;case 2:if(P2(S)){ji=0,or=null,US(a);break}a=function(){ji===2&&Bi===n&&(ji=7),Al(n)},S.then(a,a);break t;case 3:ji=7;break t;case 4:ji=5;break t;case 7:P2(S)?(ji=0,or=null,US(a)):(ji=0,or=null,Vp(n,a,S,7));break;case 5:var D=null;switch(Qe.tag){case 26:D=Qe.memoizedState;case 5:case 27:var Y=Qe;if(!D||v3(D)){ji=0,or=null;var rt=Y.sibling;if(rt!==null)Qe=rt;else{var wt=Y.return;wt!==null?(Qe=wt,r5(wt)):Qe=null}break e}}ji=0,or=null,Vp(n,a,S,5);break;case 6:ji=0,or=null,Vp(n,a,S,6);break;case 8:Hb(),vn=6;break t;default:throw Error(i(462))}}H6();break}catch(jt){BS(n,jt)}while(!0);return vu=Bf=null,et.H=d,et.A=v,un=u,Qe!==null?0:(Bi=null,oi=0,Zi(),vn)}function H6(){for(;Qe!==null&&!ee();)qS(Qe)}function qS(n){var a=uS(n.alternate,n,xu);n.memoizedProps=n.pendingProps,a===null?r5(n):Qe=a}function US(n){var a=n,u=a.alternate;switch(a.tag){case 15:case 0:a=nS(u,a,a.pendingProps,a.type,void 0,oi);break;case 11:a=nS(u,a,a.pendingProps,a.type.render,a.ref,oi);break;case 5:Ji(a);default:PS(u,a),a=Qe=MS(a,xu),a=uS(u,a,xu)}n.memoizedProps=n.pendingProps,a===null?r5(n):Qe=a}function Vp(n,a,u,d){vu=Bf=null,Ji(a),uu=null,Ca=0;var v=a.return;try{if(M6(n,v,a,u,oi)){vn=1,Wc(n,Yi(u,n.current)),Qe=null;return}}catch(S){if(v!==null)throw Qe=v,S;vn=1,Wc(n,Yi(u,n.current)),Qe=null;return}a.flags&32768?(ri||d===1?n=!0:Up||(oi&536870912)!==0?n=!1:(_u=n=!0,(d===2||d===3||d===6)&&(d=Ta.current,d!==null&&d.tag===13&&(d.flags|=16384))),HS(a,n)):r5(a)}function r5(n){var a=n;do{if((a.flags&32768)!==0){HS(a,_u);return}n=a.return;var u=F6(a.alternate,a,xu);if(u!==null){Qe=u;return}if(a=a.sibling,a!==null){Qe=a;return}Qe=a=n}while(a!==null);vn===0&&(vn=5)}function HS(n,a){do{var u=I6(n.alternate,n);if(u!==null){u.flags&=32767,Qe=u;return}if(u=n.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(n=n.sibling,n!==null)){Qe=n;return}Qe=n=u}while(n!==null);vn=6,Qe=null}function GS(n,a,u,d,v,S,D,Y,rt,wt){var jt=et.T,Xt=K.p;try{K.p=2,et.T=null,G6(n,a,u,d,Xt,v,S,D,Y,rt,wt)}finally{et.T=jt,K.p=Xt}}function G6(n,a,u,d,v,S,D,Y){do Yp();while(Hf!==null);if((un&6)!==0)throw Error(i(327));var rt=n.finishedWork;if(d=n.finishedLanes,rt===null)return null;if(n.finishedWork=null,n.finishedLanes=0,rt===n.current)throw Error(i(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var wt=rt.lanes|rt.childLanes;if(wt|=Vi,za(n,d,wt,S,D,Y),n===Bi&&(Qe=Bi=null,oi=0),(rt.subtreeFlags&10256)===0&&(rt.flags&10256)===0||s5||(s5=!0,jb=wt,zb=u,W6(li,function(){return Yp(),null})),u=(rt.flags&15990)!==0,(rt.subtreeFlags&15990)!==0||u?(u=et.T,et.T=null,S=K.p,K.p=2,D=un,un|=4,D6(n,rt),xS(rt,n),ol(ny,n.containerInfo),b5=!!iy,ny=iy=null,n.current=rt,wS(n,rt.alternate,rt),me(),un=D,K.p=S,et.T=u):n.current=rt,s5?(s5=!1,Hf=n,i0=d):VS(n,wt),wt=n.pendingLanes,wt===0&&(sh=null),wi(rt.stateNode),Al(n),a!==null)for(v=n.onRecoverableError,rt=0;rt<a.length;rt++)wt=a[rt],v(wt.value,{componentStack:wt.stack});return(i0&3)!==0&&Yp(),wt=n.pendingLanes,(d&4194218)!==0&&(wt&42)!==0?n===qb?n0++:(n0=0,qb=n):n0=0,s0(0),null}function VS(n,a){(n.pooledCacheLanes&=a)===0&&(a=n.pooledCache,a!=null&&(n.pooledCache=null,g(a)))}function Yp(){if(Hf!==null){var n=Hf,a=jb;jb=0;var u=dn(i0),d=et.T,v=K.p;try{if(K.p=32>u?32:u,et.T=null,Hf===null)var S=!1;else{u=zb,zb=null;var D=Hf,Y=i0;if(Hf=null,i0=0,(un&6)!==0)throw Error(i(331));var rt=un;if(un|=4,TS(D.current),NS(D,D.current,Y,u),un=rt,s0(0,!1),Ui&&typeof Ui.onPostCommitFiberRoot=="function")try{Ui.onPostCommitFiberRoot(Xe,D)}catch{}S=!0}return S}finally{K.p=v,et.T=d,VS(n,a)}}return!1}function YS(n,a,u){a=Yi(u,a),a=ub(n.stateNode,a,2),n=Zc(n,a,2),n!==null&&(be(n,2),Al(n))}function Mi(n,a,u){if(n.tag===3)YS(n,n,u);else for(;a!==null;){if(a.tag===3){YS(a,n,u);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(sh===null||!sh.has(d))){n=Yi(u,n),u=$A(2),d=Zc(a,u,2),d!==null&&(KA(u,d,a,n),be(d,2),Al(d));break}}a=a.return}}function Yb(n,a,u){var d=n.pingCache;if(d===null){d=n.pingCache=new j6;var v=new Set;d.set(a,v)}else v=d.get(a),v===void 0&&(v=new Set,d.set(a,v));v.has(u)||(Ob=!0,v.add(u),n=V6.bind(null,n,a,u),a.then(n,n))}function V6(n,a,u){var d=n.pingCache;d!==null&&d.delete(a),n.pingedLanes|=n.suspendedLanes&u,n.warmLanes&=~u,Bi===n&&(oi&u)===u&&(vn===4||vn===3&&(oi&62914560)===oi&&300>Ae()-Bb?(un&2)===0&&Gp(n,0):Fb|=u,Hp===oi&&(Hp=0)),Al(n)}function XS(n,a){a===0&&(a=ja()),n=aa(n,a),n!==null&&(be(n,a),Al(n))}function Y6(n){var a=n.memoizedState,u=0;a!==null&&(u=a.retryLane),XS(n,u)}function X6(n,a){var u=0;switch(n.tag){case 13:var d=n.stateNode,v=n.memoizedState;v!==null&&(u=v.retryLane);break;case 19:d=n.stateNode;break;case 22:d=n.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(a),XS(n,u)}function W6(n,a){return te(n,a)}var o5=null,Xp=null,Xb=!1,l5=!1,Wb=!1,Gf=0;function Al(n){n!==Xp&&n.next===null&&(Xp===null?o5=Xp=n:Xp=Xp.next=n),l5=!0,Xb||(Xb=!0,K6($6))}function s0(n,a){if(!Wb&&l5){Wb=!0;do for(var u=!1,d=o5;d!==null;){if(n!==0){var v=d.pendingLanes;if(v===0)var S=0;else{var D=d.suspendedLanes,Y=d.pingedLanes;S=(1<<31-$i(42|n)+1)-1,S&=v&~(D&~Y),S=S&201326677?S&201326677|1:S?S|2:0}S!==0&&(u=!0,KS(d,S))}else S=oi,S=Ce(d,d===Bi?S:0),(S&3)===0||Je(d,S)||(u=!0,KS(d,S));d=d.next}while(u);Wb=!1}}function $6(){l5=Xb=!1;var n=0;Gf!==0&&(sE()&&(n=Gf),Gf=0);for(var a=Ae(),u=null,d=o5;d!==null;){var v=d.next,S=WS(d,a);S===0?(d.next=null,u===null?o5=v:u.next=v,v===null&&(Xp=u)):(u=d,(n!==0||(S&3)!==0)&&(l5=!0)),d=v}s0(n)}function WS(n,a){for(var u=n.suspendedLanes,d=n.pingedLanes,v=n.expirationTimes,S=n.pendingLanes&-62914561;0<S;){var D=31-$i(S),Y=1<<D,rt=v[D];rt===-1?((Y&u)===0||(Y&d)!==0)&&(v[D]=Kl(Y,a)):rt<=a&&(n.expiredLanes|=Y),S&=~Y}if(a=Bi,u=oi,u=Ce(n,n===a?u:0),d=n.callbackNode,u===0||n===a&&ji===2||n.cancelPendingCommit!==null)return d!==null&&d!==null&&ne(d),n.callbackNode=null,n.callbackPriority=0;if((u&3)===0||Je(n,u)){if(a=u&-u,a===n.callbackPriority)return a;switch(d!==null&&ne(d),dn(u)){case 2:case 8:u=Ze;break;case 32:u=li;break;case 268435456:u=He;break;default:u=li}return d=$S.bind(null,n),u=te(u,d),n.callbackPriority=a,n.callbackNode=u,a}return d!==null&&d!==null&&ne(d),n.callbackPriority=2,n.callbackNode=null,2}function $S(n,a){var u=n.callbackNode;if(Yp()&&n.callbackNode!==u)return null;var d=oi;return d=Ce(n,n===Bi?d:0),d===0?null:(FS(n,d,a),WS(n,Ae()),n.callbackNode!=null&&n.callbackNode===u?$S.bind(null,n):null)}function KS(n,a){if(Yp())return null;FS(n,a,!0)}function K6(n){rE(function(){(un&6)!==0?te(ze,n):n()})}function $b(){return Gf===0&&(Gf=Mn()),Gf}function QS(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Zl(""+n)}function ZS(n,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,n.id&&u.setAttribute("form",n.id),a.parentNode.insertBefore(u,a),n=new FormData(n),u.parentNode.removeChild(u),n}function Q6(n,a,u,d,v){if(a==="submit"&&u&&u.stateNode===v){var S=QS((v[Pi]||null).action),D=d.submitter;D&&(a=(a=D[Pi]||null)?QS(a.formAction):D.getAttribute("formAction"),a!==null&&(S=a,D=null));var Y=new Jo("action","action",null,d,v);n.push({event:Y,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Gf!==0){var rt=D?ZS(v,D):new FormData(v);Pp(u,{pending:!0,data:rt,method:v.method,action:S},null,rt)}}else typeof S=="function"&&(Y.preventDefault(),rt=D?ZS(v,D):new FormData(v),Pp(u,{pending:!0,data:rt,method:v.method,action:S},S,rt))},currentTarget:v}]})}}for(var Kb=0;Kb<sa.length;Kb++){var Qb=sa[Kb],Z6=Qb.toLowerCase(),J6=Qb[0].toUpperCase()+Qb.slice(1);Qi(Z6,"on"+J6)}Qi(cl,"onAnimationEnd"),Qi(hl,"onAnimationIteration"),Qi(co,"onAnimationStart"),Qi("dblclick","onDoubleClick"),Qi("focusin","onFocus"),Qi("focusout","onBlur"),Qi(au,"onTransitionRun"),Qi(Ic,"onTransitionStart"),Qi(ru,"onTransitionCancel"),Qi(ho,"onTransitionEnd"),$o("onMouseEnter",["mouseout","mouseover"]),$o("onMouseLeave",["mouseout","mouseover"]),$o("onPointerEnter",["pointerout","pointerover"]),$o("onPointerLeave",["pointerout","pointerover"]),Rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Rr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var a0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(a0));function JS(n,a){a=(a&4)!==0;for(var u=0;u<n.length;u++){var d=n[u],v=d.event;d=d.listeners;t:{var S=void 0;if(a)for(var D=d.length-1;0<=D;D--){var Y=d[D],rt=Y.instance,wt=Y.currentTarget;if(Y=Y.listener,rt!==S&&v.isPropagationStopped())break t;S=Y,v.currentTarget=wt;try{S(v)}catch(jt){Xc(jt)}v.currentTarget=null,S=rt}else for(D=0;D<d.length;D++){if(Y=d[D],rt=Y.instance,wt=Y.currentTarget,Y=Y.listener,rt!==S&&v.isPropagationStopped())break t;S=Y,v.currentTarget=wt;try{S(v)}catch(jt){Xc(jt)}v.currentTarget=null,S=rt}}}}function si(n,a){var u=a[Zs];u===void 0&&(u=a[Zs]=new Set);var d=n+"__bubble";u.has(d)||(t3(a,n,2,!1),u.add(d))}function Zb(n,a,u){var d=0;a&&(d|=4),t3(u,n,d,a)}var u5="_reactListening"+Math.random().toString(36).slice(2);function Jb(n){if(!n[u5]){n[u5]=!0,fp.forEach(function(u){u!=="selectionchange"&&(tE.has(u)||Zb(u,!1,n),Zb(u,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[u5]||(a[u5]=!0,Zb("selectionchange",!1,a))}}function t3(n,a,u,d){switch(_3(a)){case 2:var v=NE;break;case 8:v=LE;break;default:v=fy}u=v.bind(null,a,u,n),v=void 0,!_c||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),d?v!==void 0?n.addEventListener(a,u,{capture:!0,passive:v}):n.addEventListener(a,u,!0):v!==void 0?n.addEventListener(a,u,{passive:v}):n.addEventListener(a,u,!1)}function ty(n,a,u,d,v){var S=d;if((a&1)===0&&(a&2)===0&&d!==null)t:for(;;){if(d===null)return;var D=d.tag;if(D===3||D===4){var Y=d.stateNode.containerInfo;if(Y===v||Y.nodeType===8&&Y.parentNode===v)break;if(D===4)for(D=d.return;D!==null;){var rt=D.tag;if((rt===3||rt===4)&&(rt=D.stateNode.containerInfo,rt===v||rt.nodeType===8&&rt.parentNode===v))return;D=D.return}for(;Y!==null;){if(D=Aa(Y),D===null)return;if(rt=D.tag,rt===5||rt===6||rt===26||rt===27){d=S=D;continue t}Y=Y.parentNode}}d=d.return}Ya(function(){var wt=S,jt=cf(u),Xt=[];t:{var Dt=Bc.get(n);if(Dt!==void 0){var It=Jo,pe=n;switch(n){case"keypress":if(Zo(u)===0)break t;case"keydown":case"keyup":It=Mc;break;case"focusin":pe="focus",It=Jl;break;case"focusout":pe="blur",It=Jl;break;case"beforeblur":case"afterblur":It=Jl;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":It=Or;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":It=el;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":It=mf;break;case cl:case hl:case co:It=T1;break;case ho:It=F;break;case"scroll":case"scrollend":It=wp;break;case"wheel":It=pt;break;case"copy":case"cut":case"paste":It=R1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":It=kc;break;case"toggle":case"beforetoggle":It=Ft}var Pe=(a&4)!==0,bn=!Pe&&(n==="scroll"||n==="scrollend"),xt=Pe?Dt!==null?Dt+"Capture":null:Dt;Pe=[];for(var vt=wt,Mt;vt!==null;){var Gt=vt;if(Mt=Gt.stateNode,Gt=Gt.tag,Gt!==5&&Gt!==26&&Gt!==27||Mt===null||xt===null||(Gt=Qo(vt,xt),Gt!=null&&Pe.push(r0(vt,Gt,Mt))),bn)break;vt=vt.return}0<Pe.length&&(Dt=new It(Dt,pe,null,u,jt),Xt.push({event:Dt,listeners:Pe}))}}if((a&7)===0){t:{if(Dt=n==="mouseover"||n==="pointerover",It=n==="mouseout"||n==="pointerout",Dt&&u!==kn&&(pe=u.relatedTarget||u.fromElement)&&(Aa(pe)||pe[Zn]))break t;if((It||Dt)&&(Dt=jt.window===jt?jt:(Dt=jt.ownerDocument)?Dt.defaultView||Dt.parentWindow:window,It?(pe=u.relatedTarget||u.toElement,It=wt,pe=pe?Aa(pe):null,pe!==null&&(bn=dt(pe),Pe=pe.tag,pe!==bn||Pe!==5&&Pe!==27&&Pe!==6)&&(pe=null)):(It=null,pe=wt),It!==pe)){if(Pe=Or,Gt="onMouseLeave",xt="onMouseEnter",vt="mouse",(n==="pointerout"||n==="pointerover")&&(Pe=kc,Gt="onPointerLeave",xt="onPointerEnter",vt="pointer"),bn=It==null?Dt:Tr(It),Mt=pe==null?Dt:Tr(pe),Dt=new Pe(Gt,vt+"leave",It,u,jt),Dt.target=bn,Dt.relatedTarget=Mt,Gt=null,Aa(jt)===wt&&(Pe=new Pe(xt,vt+"enter",pe,u,jt),Pe.target=Mt,Pe.relatedTarget=bn,Gt=Pe),bn=Gt,It&&pe)e:{for(Pe=It,xt=pe,vt=0,Mt=Pe;Mt;Mt=Wp(Mt))vt++;for(Mt=0,Gt=xt;Gt;Gt=Wp(Gt))Mt++;for(;0<vt-Mt;)Pe=Wp(Pe),vt--;for(;0<Mt-vt;)xt=Wp(xt),Mt--;for(;vt--;){if(Pe===xt||xt!==null&&Pe===xt.alternate)break e;Pe=Wp(Pe),xt=Wp(xt)}Pe=null}else Pe=null;It!==null&&e3(Xt,Dt,It,Pe,!1),pe!==null&&bn!==null&&e3(Xt,bn,pe,Pe,!0)}}t:{if(Dt=wt?Tr(wt):window,It=Dt.nodeName&&Dt.nodeName.toLowerCase(),It==="select"||It==="input"&&Dt.type==="file")var he=Pc;else if($a(Dt))if(iu)he=Sp;else{he=k1;var We=ks}else It=Dt.nodeName,!It||It.toLowerCase()!=="input"||Dt.type!=="checkbox"&&Dt.type!=="radio"?wt&&Va(wt.elementType)&&(he=Pc):he=bf;if(he&&(he=he(n,wt))){vf(Xt,he,u,jt);break t}We&&We(n,Dt,wt),n==="focusout"&&wt&&Dt.type==="number"&&wt.memoizedProps.value!=null&&wc(Dt,"number",Dt.value)}switch(We=wt?Tr(wt):window,n){case"focusin":($a(We)||We.contentEditable==="true")&&(Ds=We,ll=wt,na=null);break;case"focusout":na=ll=Ds=null;break;case"mousedown":Gi=!0;break;case"contextmenu":case"mouseup":case"dragend":Gi=!1,Fc(Xt,u,jt);break;case"selectionchange":if(uo)break;case"keydown":case"keyup":Fc(Xt,u,jt)}var ye;if(ae)t:{switch(n){case"compositionstart":var Ee="onCompositionStart";break t;case"compositionend":Ee="onCompositionEnd";break t;case"compositionupdate":Ee="onCompositionUpdate";break t}Ee=void 0}else rn?Hi(n,u)&&(Ee="onCompositionEnd"):n==="keydown"&&u.keyCode===229&&(Ee="onCompositionStart");Ee&&(Me&&u.locale!=="ko"&&(rn||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&rn&&(ye=yp()):(xa=jt,ff="value"in xa?xa.value:xa.textContent,rn=!0)),We=c5(wt,Ee),0<We.length&&(Ee=new Cc(Ee,n,null,u,jt),Xt.push({event:Ee,listeners:We}),ye?Ee.data=ye:(ye=an(u),ye!==null&&(Ee.data=ye)))),(ye=De?Dn(n,u):Wa(n,u))&&(Ee=c5(wt,"onBeforeInput"),0<Ee.length&&(We=new Cc("onBeforeInput","beforeinput",null,u,jt),Xt.push({event:We,listeners:Ee}),We.data=ye)),Q6(Xt,n,wt,u,jt)}JS(Xt,a)})}function r0(n,a,u){return{instance:n,listener:a,currentTarget:u}}function c5(n,a){for(var u=a+"Capture",d=[];n!==null;){var v=n,S=v.stateNode;v=v.tag,v!==5&&v!==26&&v!==27||S===null||(v=Qo(n,u),v!=null&&d.unshift(r0(n,v,S)),v=Qo(n,a),v!=null&&d.push(r0(n,v,S))),n=n.return}return d}function Wp(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function e3(n,a,u,d,v){for(var S=a._reactName,D=[];u!==null&&u!==d;){var Y=u,rt=Y.alternate,wt=Y.stateNode;if(Y=Y.tag,rt!==null&&rt===d)break;Y!==5&&Y!==26&&Y!==27||wt===null||(rt=wt,v?(wt=Qo(u,S),wt!=null&&D.unshift(r0(u,wt,rt))):v||(wt=Qo(u,S),wt!=null&&D.push(r0(u,wt,rt)))),u=u.return}D.length!==0&&n.push({event:a,listeners:D})}var eE=/\r\n?/g,iE=/\u0000|\uFFFD/g;function i3(n){return(typeof n=="string"?n:""+n).replace(eE,`
`).replace(iE,"")}function n3(n,a){return a=i3(a),i3(n)===a}function h5(){}function Ni(n,a,u,d,v,S){switch(u){case"children":typeof d=="string"?a==="body"||a==="textarea"&&d===""||Mr(n,d):(typeof d=="number"||typeof d=="bigint")&&a!=="body"&&Mr(n,""+d);break;case"className":Oi(n,"class",d);break;case"tabIndex":Oi(n,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Oi(n,u,d);break;case"style":vp(n,d,S);break;case"data":if(a!=="object"){Oi(n,"data",d);break}case"src":case"href":if(d===""&&(a!=="a"||u!=="href")){n.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){n.removeAttribute(u);break}d=Zl(""+d),n.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){n.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(u==="formAction"?(a!=="input"&&Ni(n,a,"name",v.name,v,null),Ni(n,a,"formEncType",v.formEncType,v,null),Ni(n,a,"formMethod",v.formMethod,v,null),Ni(n,a,"formTarget",v.formTarget,v,null)):(Ni(n,a,"encType",v.encType,v,null),Ni(n,a,"method",v.method,v,null),Ni(n,a,"target",v.target,v,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){n.removeAttribute(u);break}d=Zl(""+d),n.setAttribute(u,d);break;case"onClick":d!=null&&(n.onclick=h5);break;case"onScroll":d!=null&&si("scroll",n);break;case"onScrollEnd":d!=null&&si("scrollend",n);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(u=d.__html,u!=null){if(v.children!=null)throw Error(i(60));n.innerHTML=u}}break;case"multiple":n.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":n.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){n.removeAttribute("xlink:href");break}u=Zl(""+d),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(u,""+d):n.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(u,""):n.removeAttribute(u);break;case"capture":case"download":d===!0?n.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(u,d):n.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?n.setAttribute(u,d):n.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?n.removeAttribute(u):n.setAttribute(u,d);break;case"popover":si("beforetoggle",n),si("toggle",n),vc(n,"popover",d);break;case"xlinkActuate":Sa(n,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Sa(n,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Sa(n,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Sa(n,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Sa(n,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Sa(n,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Sa(n,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Sa(n,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Sa(n,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":vc(n,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Ac.get(u)||u,vc(n,u,d))}}function ey(n,a,u,d,v,S){switch(u){case"style":vp(n,d,S);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(u=d.__html,u!=null){if(v.children!=null)throw Error(i(60));n.innerHTML=u}}break;case"children":typeof d=="string"?Mr(n,d):(typeof d=="number"||typeof d=="bigint")&&Mr(n,""+d);break;case"onScroll":d!=null&&si("scroll",n);break;case"onScrollEnd":d!=null&&si("scrollend",n);break;case"onClick":d!=null&&(n.onclick=h5);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ql.hasOwnProperty(u))t:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),a=u.slice(2,v?u.length-7:void 0),S=n[Pi]||null,S=S!=null?S[u]:null,typeof S=="function"&&n.removeEventListener(a,S,v),typeof d=="function")){typeof S!="function"&&S!==null&&(u in n?n[u]=null:n.hasAttribute(u)&&n.removeAttribute(u)),n.addEventListener(a,d,v);break t}u in n?n[u]=d:d===!0?n.setAttribute(u,""):vc(n,u,d)}}}function ws(n,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":si("error",n),si("load",n);var d=!1,v=!1,S;for(S in u)if(u.hasOwnProperty(S)){var D=u[S];if(D!=null)switch(S){case"src":d=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ni(n,a,S,D,u,null)}}v&&Ni(n,a,"srcSet",u.srcSet,u,null),d&&Ni(n,a,"src",u.src,u,null);return;case"input":si("invalid",n);var Y=S=D=v=null,rt=null,wt=null;for(d in u)if(u.hasOwnProperty(d)){var jt=u[d];if(jt!=null)switch(d){case"name":v=jt;break;case"type":D=jt;break;case"checked":rt=jt;break;case"defaultChecked":wt=jt;break;case"value":S=jt;break;case"defaultValue":Y=jt;break;case"children":case"dangerouslySetInnerHTML":if(jt!=null)throw Error(i(137,a));break;default:Ni(n,a,d,jt,u,null)}}pp(n,S,Y,rt,wt,D,v,!1),bc(n);return;case"select":si("invalid",n),d=D=S=null;for(v in u)if(u.hasOwnProperty(v)&&(Y=u[v],Y!=null))switch(v){case"value":S=Y;break;case"defaultValue":D=Y;break;case"multiple":d=Y;default:Ni(n,a,v,Y,u,null)}a=S,u=D,n.multiple=!!d,a!=null?Ko(n,!!d,a,!1):u!=null&&Ko(n,!!d,u,!0);return;case"textarea":si("invalid",n),S=v=d=null;for(D in u)if(u.hasOwnProperty(D)&&(Y=u[D],Y!=null))switch(D){case"value":d=Y;break;case"defaultValue":v=Y;break;case"children":S=Y;break;case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(91));break;default:Ni(n,a,D,Y,u,null)}gp(n,d,v,S),bc(n);return;case"option":for(rt in u)if(u.hasOwnProperty(rt)&&(d=u[rt],d!=null))switch(rt){case"selected":n.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Ni(n,a,rt,d,u,null)}return;case"dialog":si("cancel",n),si("close",n);break;case"iframe":case"object":si("load",n);break;case"video":case"audio":for(d=0;d<a0.length;d++)si(a0[d],n);break;case"image":si("error",n),si("load",n);break;case"details":si("toggle",n);break;case"embed":case"source":case"link":si("error",n),si("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(wt in u)if(u.hasOwnProperty(wt)&&(d=u[wt],d!=null))switch(wt){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ni(n,a,wt,d,u,null)}return;default:if(Va(a)){for(jt in u)u.hasOwnProperty(jt)&&(d=u[jt],d!==void 0&&ey(n,a,jt,d,u,void 0));return}}for(Y in u)u.hasOwnProperty(Y)&&(d=u[Y],d!=null&&Ni(n,a,Y,d,u,null))}function nE(n,a,u,d){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,S=null,D=null,Y=null,rt=null,wt=null,jt=null;for(It in u){var Xt=u[It];if(u.hasOwnProperty(It)&&Xt!=null)switch(It){case"checked":break;case"value":break;case"defaultValue":rt=Xt;default:d.hasOwnProperty(It)||Ni(n,a,It,null,d,Xt)}}for(var Dt in d){var It=d[Dt];if(Xt=u[Dt],d.hasOwnProperty(Dt)&&(It!=null||Xt!=null))switch(Dt){case"type":S=It;break;case"name":v=It;break;case"checked":wt=It;break;case"defaultChecked":jt=It;break;case"value":D=It;break;case"defaultValue":Y=It;break;case"children":case"dangerouslySetInnerHTML":if(It!=null)throw Error(i(137,a));break;default:It!==Xt&&Ni(n,a,Dt,It,d,Xt)}}yc(n,D,Y,rt,wt,jt,S,v);return;case"select":It=D=Y=Dt=null;for(S in u)if(rt=u[S],u.hasOwnProperty(S)&&rt!=null)switch(S){case"value":break;case"multiple":It=rt;default:d.hasOwnProperty(S)||Ni(n,a,S,null,d,rt)}for(v in d)if(S=d[v],rt=u[v],d.hasOwnProperty(v)&&(S!=null||rt!=null))switch(v){case"value":Dt=S;break;case"defaultValue":Y=S;break;case"multiple":D=S;default:S!==rt&&Ni(n,a,v,S,d,rt)}a=Y,u=D,d=It,Dt!=null?Ko(n,!!u,Dt,!1):!!d!=!!u&&(a!=null?Ko(n,!!u,a,!0):Ko(n,!!u,u?[]:"",!1));return;case"textarea":It=Dt=null;for(Y in u)if(v=u[Y],u.hasOwnProperty(Y)&&v!=null&&!d.hasOwnProperty(Y))switch(Y){case"value":break;case"children":break;default:Ni(n,a,Y,null,d,v)}for(D in d)if(v=d[D],S=u[D],d.hasOwnProperty(D)&&(v!=null||S!=null))switch(D){case"value":Dt=v;break;case"defaultValue":It=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==S&&Ni(n,a,D,v,d,S)}uf(n,Dt,It);return;case"option":for(var pe in u)if(Dt=u[pe],u.hasOwnProperty(pe)&&Dt!=null&&!d.hasOwnProperty(pe))switch(pe){case"selected":n.selected=!1;break;default:Ni(n,a,pe,null,d,Dt)}for(rt in d)if(Dt=d[rt],It=u[rt],d.hasOwnProperty(rt)&&Dt!==It&&(Dt!=null||It!=null))switch(rt){case"selected":n.selected=Dt&&typeof Dt!="function"&&typeof Dt!="symbol";break;default:Ni(n,a,rt,Dt,d,It)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in u)Dt=u[Pe],u.hasOwnProperty(Pe)&&Dt!=null&&!d.hasOwnProperty(Pe)&&Ni(n,a,Pe,null,d,Dt);for(wt in d)if(Dt=d[wt],It=u[wt],d.hasOwnProperty(wt)&&Dt!==It&&(Dt!=null||It!=null))switch(wt){case"children":case"dangerouslySetInnerHTML":if(Dt!=null)throw Error(i(137,a));break;default:Ni(n,a,wt,Dt,d,It)}return;default:if(Va(a)){for(var bn in u)Dt=u[bn],u.hasOwnProperty(bn)&&Dt!==void 0&&!d.hasOwnProperty(bn)&&ey(n,a,bn,void 0,d,Dt);for(jt in d)Dt=d[jt],It=u[jt],!d.hasOwnProperty(jt)||Dt===It||Dt===void 0&&It===void 0||ey(n,a,jt,Dt,d,It);return}}for(var xt in u)Dt=u[xt],u.hasOwnProperty(xt)&&Dt!=null&&!d.hasOwnProperty(xt)&&Ni(n,a,xt,null,d,Dt);for(Xt in d)Dt=d[Xt],It=u[Xt],!d.hasOwnProperty(Xt)||Dt===It||Dt==null&&It==null||Ni(n,a,Xt,Dt,d,It)}var iy=null,ny=null;function f5(n){return n.nodeType===9?n:n.ownerDocument}function s3(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a3(n,a){if(n===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&a==="foreignObject"?0:n}function sy(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var ay=null;function sE(){var n=window.event;return n&&n.type==="popstate"?n===ay?!1:(ay=n,!0):(ay=null,!1)}var r3=typeof setTimeout=="function"?setTimeout:void 0,aE=typeof clearTimeout=="function"?clearTimeout:void 0,o3=typeof Promise=="function"?Promise:void 0,rE=typeof queueMicrotask=="function"?queueMicrotask:typeof o3<"u"?function(n){return o3.resolve(null).then(n).catch(oE)}:r3;function oE(n){setTimeout(function(){throw n})}function ry(n,a){var u=a,d=0;do{var v=u.nextSibling;if(n.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(d===0){n.removeChild(v),p0(a);return}d--}else u!=="$"&&u!=="$?"&&u!=="$!"||d++;u=v}while(u);p0(a)}function oy(n){var a=n.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":oy(u),Wo(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}n.removeChild(u)}}function lE(n,a,u,d){for(;n.nodeType===1;){var v=u;if(n.nodeName.toLowerCase()!==a.toLowerCase()){if(!d&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(d){if(!n[Ha])switch(a){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(S=n.getAttribute("rel"),S==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(S!==v.rel||n.getAttribute("href")!==(v.href==null?null:v.href)||n.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||n.getAttribute("title")!==(v.title==null?null:v.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(S=n.getAttribute("src"),(S!==(v.src==null?null:v.src)||n.getAttribute("type")!==(v.type==null?null:v.type)||n.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&S&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(a==="input"&&n.type==="hidden"){var S=v.name==null?null:""+v.name;if(v.type==="hidden"&&n.getAttribute("name")===S)return n}else return n;if(n=Eo(n.nextSibling),n===null)break}return null}function uE(n,a,u){if(a==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!u||(n=Eo(n.nextSibling),n===null))return null;return n}function Eo(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return n}function l3(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var u=n.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return n;a--}else u==="/$"&&a++}n=n.previousSibling}return null}function u3(n,a,u){switch(a=f5(u),n){case"html":if(n=a.documentElement,!n)throw Error(i(452));return n;case"head":if(n=a.head,!n)throw Error(i(453));return n;case"body":if(n=a.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}var Gr=new Map,c3=new Set;function d5(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var Nu=K.d;K.d={f:cE,r:hE,D:fE,C:dE,L:pE,m:gE,X:vE,S:mE,M:bE};function cE(){var n=Nu.f(),a=a5();return n||a}function hE(n){var a=Ga(n);a!==null&&a.tag===5&&a.type==="form"?If(a):Nu.r(n)}var $p=typeof document>"u"?null:document;function h3(n,a,u){var d=$p;if(d&&typeof a=="string"&&a){var v=Jn(a);v='link[rel="'+n+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),c3.has(v)||(c3.add(v),n={rel:n,crossOrigin:u,href:a},d.querySelector(v)===null&&(a=d.createElement("link"),ws(a,"link",n),pn(a),d.head.appendChild(a)))}}function fE(n){Nu.D(n),h3("dns-prefetch",n,null)}function dE(n,a){Nu.C(n,a),h3("preconnect",n,a)}function pE(n,a,u){Nu.L(n,a,u);var d=$p;if(d&&n&&a){var v='link[rel="preload"][as="'+Jn(a)+'"]';a==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+Jn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+Jn(u.imageSizes)+'"]')):v+='[href="'+Jn(n)+'"]';var S=v;switch(a){case"style":S=Kp(n);break;case"script":S=Qp(n)}Gr.has(S)||(n=ft({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:n,as:a},u),Gr.set(S,n),d.querySelector(v)!==null||a==="style"&&d.querySelector(o0(S))||a==="script"&&d.querySelector(l0(S))||(a=d.createElement("link"),ws(a,"link",n),pn(a),d.head.appendChild(a)))}}function gE(n,a){Nu.m(n,a);var u=$p;if(u&&n){var d=a&&typeof a.as=="string"?a.as:"script",v='link[rel="modulepreload"][as="'+Jn(d)+'"][href="'+Jn(n)+'"]',S=v;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Qp(n)}if(!Gr.has(S)&&(n=ft({rel:"modulepreload",href:n},a),Gr.set(S,n),u.querySelector(v)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(l0(S)))return}d=u.createElement("link"),ws(d,"link",n),pn(d),u.head.appendChild(d)}}}function mE(n,a,u){Nu.S(n,a,u);var d=$p;if(d&&n){var v=io(d).hoistableStyles,S=Kp(n);a=a||"default";var D=v.get(S);if(!D){var Y={loading:0,preload:null};if(D=d.querySelector(o0(S)))Y.loading=5;else{n=ft({rel:"stylesheet",href:n,"data-precedence":a},u),(u=Gr.get(S))&&ly(n,u);var rt=D=d.createElement("link");pn(rt),ws(rt,"link",n),rt._p=new Promise(function(wt,jt){rt.onload=wt,rt.onerror=jt}),rt.addEventListener("load",function(){Y.loading|=1}),rt.addEventListener("error",function(){Y.loading|=2}),Y.loading|=4,p5(D,a,d)}D={type:"stylesheet",instance:D,count:1,state:Y},v.set(S,D)}}}function vE(n,a){Nu.X(n,a);var u=$p;if(u&&n){var d=io(u).hoistableScripts,v=Qp(n),S=d.get(v);S||(S=u.querySelector(l0(v)),S||(n=ft({src:n,async:!0},a),(a=Gr.get(v))&&uy(n,a),S=u.createElement("script"),pn(S),ws(S,"link",n),u.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},d.set(v,S))}}function bE(n,a){Nu.M(n,a);var u=$p;if(u&&n){var d=io(u).hoistableScripts,v=Qp(n),S=d.get(v);S||(S=u.querySelector(l0(v)),S||(n=ft({src:n,async:!0,type:"module"},a),(a=Gr.get(v))&&uy(n,a),S=u.createElement("script"),pn(S),ws(S,"link",n),u.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},d.set(v,S))}}function f3(n,a,u,d){var v=(v=Qt.current)?d5(v):null;if(!v)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=Kp(u.href),u=io(v).hoistableStyles,d=u.get(a),d||(d={type:"style",instance:null,count:0,state:null},u.set(a,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){n=Kp(u.href);var S=io(v).hoistableStyles,D=S.get(n);if(D||(v=v.ownerDocument||v,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(n,D),(S=v.querySelector(o0(n)))&&!S._p&&(D.instance=S,D.state.loading=5),Gr.has(n)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Gr.set(n,u),S||yE(v,n,u,D.state))),a&&d===null)throw Error(i(528,""));return D}if(a&&d!==null)throw Error(i(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Qp(u),u=io(v).hoistableScripts,d=u.get(a),d||(d={type:"script",instance:null,count:0,state:null},u.set(a,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Kp(n){return'href="'+Jn(n)+'"'}function o0(n){return'link[rel="stylesheet"]['+n+"]"}function d3(n){return ft({},n,{"data-precedence":n.precedence,precedence:null})}function yE(n,a,u,d){n.querySelector('link[rel="preload"][as="style"]['+a+"]")?d.loading=1:(a=n.createElement("link"),d.preload=a,a.addEventListener("load",function(){return d.loading|=1}),a.addEventListener("error",function(){return d.loading|=2}),ws(a,"link",u),pn(a),n.head.appendChild(a))}function Qp(n){return'[src="'+Jn(n)+'"]'}function l0(n){return"script[async]"+n}function p3(n,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var d=n.querySelector('style[data-href~="'+Jn(u.href)+'"]');if(d)return a.instance=d,pn(d),d;var v=ft({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(n.ownerDocument||n).createElement("style"),pn(d),ws(d,"style",v),p5(d,u.precedence,n),a.instance=d;case"stylesheet":v=Kp(u.href);var S=n.querySelector(o0(v));if(S)return a.state.loading|=4,a.instance=S,pn(S),S;d=d3(u),(v=Gr.get(v))&&ly(d,v),S=(n.ownerDocument||n).createElement("link"),pn(S);var D=S;return D._p=new Promise(function(Y,rt){D.onload=Y,D.onerror=rt}),ws(S,"link",d),a.state.loading|=4,p5(S,u.precedence,n),a.instance=S;case"script":return S=Qp(u.src),(v=n.querySelector(l0(S)))?(a.instance=v,pn(v),v):(d=u,(v=Gr.get(S))&&(d=ft({},u),uy(d,v)),n=n.ownerDocument||n,v=n.createElement("script"),pn(v),ws(v,"link",d),n.head.appendChild(v),a.instance=v);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(d=a.instance,a.state.loading|=4,p5(d,u.precedence,n));return a.instance}function p5(n,a,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=d.length?d[d.length-1]:null,S=v,D=0;D<d.length;D++){var Y=d[D];if(Y.dataset.precedence===a)S=Y;else if(S!==v)break}S?S.parentNode.insertBefore(n,S.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(n,a.firstChild))}function ly(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.title==null&&(n.title=a.title)}function uy(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.integrity==null&&(n.integrity=a.integrity)}var g5=null;function g3(n,a,u){if(g5===null){var d=new Map,v=g5=new Map;v.set(u,d)}else v=g5,d=v.get(u),d||(d=new Map,v.set(u,d));if(d.has(n))return d;for(d.set(n,null),u=u.getElementsByTagName(n),v=0;v<u.length;v++){var S=u[v];if(!(S[Ha]||S[Di]||n==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var D=S.getAttribute(a)||"";D=n+D;var Y=d.get(D);Y?Y.push(S):d.set(D,[S])}}return d}function m3(n,a,u){n=n.ownerDocument||n,n.head.insertBefore(u,a==="title"?n.querySelector("head > title"):null)}function wE(n,a,u){if(u===1||a.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return n=a.disabled,typeof a.precedence=="string"&&n==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function v3(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var u0=null;function AE(){}function SE(n,a,u){if(u0===null)throw Error(i(475));var d=u0;if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var v=Kp(u.href),S=n.querySelector(o0(v));if(S){n=S._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(d.count++,d=m5.bind(d),n.then(d,d)),a.state.loading|=4,a.instance=S,pn(S);return}S=n.ownerDocument||n,u=d3(u),(v=Gr.get(v))&&ly(u,v),S=S.createElement("link"),pn(S);var D=S;D._p=new Promise(function(Y,rt){D.onload=Y,D.onerror=rt}),ws(S,"link",u),a.instance=S}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(d.count++,a=m5.bind(d),n.addEventListener("load",a),n.addEventListener("error",a))}}function _E(){if(u0===null)throw Error(i(475));var n=u0;return n.stylesheets&&n.count===0&&cy(n,n.stylesheets),0<n.count?function(a){var u=setTimeout(function(){if(n.stylesheets&&cy(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(u)}}:null}function m5(){if(this.count--,this.count===0){if(this.stylesheets)cy(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var v5=null;function cy(n,a){n.stylesheets=null,n.unsuspend!==null&&(n.count++,v5=new Map,a.forEach(xE,n),v5=null,m5.call(n))}function xE(n,a){if(!(a.state.loading&4)){var u=v5.get(n);if(u)var d=u.get(null);else{u=new Map,v5.set(n,u);for(var v=n.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<v.length;S++){var D=v[S];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(u.set(D.dataset.precedence,D),d=D)}d&&u.set(null,d)}v=a.instance,D=v.getAttribute("data-precedence"),S=u.get(D)||d,S===d&&u.set(null,v),u.set(D,v),this.count++,d=m5.bind(this),v.addEventListener("load",d),v.addEventListener("error",d),S?S.parentNode.insertBefore(v,S.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(v,n.firstChild)),a.state.loading|=4}}var c0={$$typeof:b,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function EE(n,a,u,d,v,S,D,Y){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ya(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ya(0),this.hiddenUpdates=ya(null),this.identifierPrefix=d,this.onUncaughtError=v,this.onCaughtError=S,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function b3(n,a,u,d,v,S,D,Y,rt,wt,jt,Xt){return n=new EE(n,a,u,D,Y,rt,wt,Xt),a=1,S===!0&&(a|=24),S=Ur(3,null,null,a),n.current=S,S.stateNode=n,a=Cp(),a.refCount++,n.pooledCache=a,a.refCount++,S.memoizedState={element:d,isDehydrated:u,cache:a},Sb(S),n}function y3(n){return n?(n=fo,n):fo}function w3(n,a,u,d,v,S){v=y3(v),d.context===null?d.context=v:d.pendingContext=v,d=Qc(a),d.payload={element:u},S=S===void 0?null:S,S!==null&&(d.callback=S),u=Zc(n,d,a),u!==null&&(oa(u,n,a),X1(u,n,a))}function A3(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var u=n.retryLane;n.retryLane=u!==0&&u<a?u:a}}function hy(n,a){A3(n,a),(n=n.alternate)&&A3(n,a)}function S3(n){if(n.tag===13){var a=aa(n,67108864);a!==null&&oa(a,n,67108864),hy(n,67108864)}}var b5=!0;function NE(n,a,u,d){var v=et.T;et.T=null;var S=K.p;try{K.p=2,fy(n,a,u,d)}finally{K.p=S,et.T=v}}function LE(n,a,u,d){var v=et.T;et.T=null;var S=K.p;try{K.p=8,fy(n,a,u,d)}finally{K.p=S,et.T=v}}function fy(n,a,u,d){if(b5){var v=dy(d);if(v===null)ty(n,a,d,y5,u),x3(n,d);else if(TE(v,n,a,u,d))d.stopPropagation();else if(x3(n,d),a&4&&-1<CE.indexOf(n)){for(;v!==null;){var S=Ga(v);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var D=bi(S.pendingLanes);if(D!==0){var Y=S;for(Y.pendingLanes|=2,Y.entangledLanes|=2;D;){var rt=1<<31-$i(D);Y.entanglements[1]|=rt,D&=~rt}Al(S),(un&6)===0&&(i5=Ae()+500,s0(0))}}break;case 13:Y=aa(S,2),Y!==null&&oa(Y,S,2),a5(),hy(S,2)}if(S=dy(d),S===null&&ty(n,a,d,y5,u),S===v)break;v=S}v!==null&&d.stopPropagation()}else ty(n,a,d,null,u)}}function dy(n){return n=cf(n),py(n)}var y5=null;function py(n){if(y5=null,n=Aa(n),n!==null){var a=dt(n);if(a===null)n=null;else{var u=a.tag;if(u===13){if(n=Lt(a),n!==null)return n;n=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}return y5=n,null}function _3(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Be()){case ze:return 2;case Ze:return 8;case li:case Le:return 32;case He:return 268435456;default:return 32}default:return 32}}var gy=!1,ah=null,rh=null,oh=null,h0=new Map,f0=new Map,lh=[],CE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function x3(n,a){switch(n){case"focusin":case"focusout":ah=null;break;case"dragenter":case"dragleave":rh=null;break;case"mouseover":case"mouseout":oh=null;break;case"pointerover":case"pointerout":h0.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":f0.delete(a.pointerId)}}function d0(n,a,u,d,v,S){return n===null||n.nativeEvent!==S?(n={blockedOn:a,domEventName:u,eventSystemFlags:d,nativeEvent:S,targetContainers:[v]},a!==null&&(a=Ga(a),a!==null&&S3(a)),n):(n.eventSystemFlags|=d,a=n.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),n)}function TE(n,a,u,d,v){switch(a){case"focusin":return ah=d0(ah,n,a,u,d,v),!0;case"dragenter":return rh=d0(rh,n,a,u,d,v),!0;case"mouseover":return oh=d0(oh,n,a,u,d,v),!0;case"pointerover":var S=v.pointerId;return h0.set(S,d0(h0.get(S)||null,n,a,u,d,v)),!0;case"gotpointercapture":return S=v.pointerId,f0.set(S,d0(f0.get(S)||null,n,a,u,d,v)),!0}return!1}function E3(n){var a=Aa(n.target);if(a!==null){var u=dt(a);if(u!==null){if(a=u.tag,a===13){if(a=Lt(u),a!==null){n.blockedOn=a,Ks(n.priority,function(){if(u.tag===13){var d=lr(),v=aa(u,d);v!==null&&oa(v,u,d),hy(u,d)}});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){n.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}n.blockedOn=null}function w5(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var u=dy(n.nativeEvent);if(u===null){u=n.nativeEvent;var d=new u.constructor(u.type,u);kn=d,u.target.dispatchEvent(d),kn=null}else return a=Ga(u),a!==null&&S3(a),n.blockedOn=u,!1;a.shift()}return!0}function N3(n,a,u){w5(n)&&u.delete(a)}function RE(){gy=!1,ah!==null&&w5(ah)&&(ah=null),rh!==null&&w5(rh)&&(rh=null),oh!==null&&w5(oh)&&(oh=null),h0.forEach(N3),f0.forEach(N3)}function A5(n,a){n.blockedOn===a&&(n.blockedOn=null,gy||(gy=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,RE)))}var S5=null;function L3(n){S5!==n&&(S5=n,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){S5===n&&(S5=null);for(var a=0;a<n.length;a+=3){var u=n[a],d=n[a+1],v=n[a+2];if(typeof d!="function"){if(py(d||u)===null)continue;break}var S=Ga(u);S!==null&&(n.splice(a,3),a-=3,Pp(S,{pending:!0,data:v,method:u.method,action:d},d,v))}}))}function p0(n){function a(rt){return A5(rt,n)}ah!==null&&A5(ah,n),rh!==null&&A5(rh,n),oh!==null&&A5(oh,n),h0.forEach(a),f0.forEach(a);for(var u=0;u<lh.length;u++){var d=lh[u];d.blockedOn===n&&(d.blockedOn=null)}for(;0<lh.length&&(u=lh[0],u.blockedOn===null);)E3(u),u.blockedOn===null&&lh.shift();if(u=(n.ownerDocument||n).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var v=u[d],S=u[d+1],D=v[Pi]||null;if(typeof S=="function")D||L3(u);else if(D){var Y=null;if(S&&S.hasAttribute("formAction")){if(v=S,D=S[Pi]||null)Y=D.formAction;else if(py(v)!==null)continue}else Y=D.action;typeof Y=="function"?u[d+1]=Y:(u.splice(d,3),d-=3),L3(u)}}}function my(n){this._internalRoot=n}_5.prototype.render=my.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(i(409));var u=a.current,d=lr();w3(u,d,n,a,null,null)},_5.prototype.unmount=my.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;n.tag===0&&Yp(),w3(n.current,2,null,n,null,null),a5(),a[Zn]=null}};function _5(n){this._internalRoot=n}_5.prototype.unstable_scheduleHydration=function(n){if(n){var a=sn();n={blockedOn:null,target:n,priority:a};for(var u=0;u<lh.length&&a!==0&&a<lh[u].priority;u++);lh.splice(u,0,n),u===0&&E3(n)}};var C3=t.version;if(C3!=="19.0.0")throw Error(i(527,C3,"19.0.0"));K.findDOMNode=function(n){var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=St(a),n=n!==null?P(n):null,n=n===null?null:n.stateNode,n};var ME={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:et,findFiberByHostInstance:Aa,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var x5=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!x5.isDisabled&&x5.supportsFiber)try{Xe=x5.inject(ME),Ui=x5}catch{}}return m0.createRoot=function(n,a){if(!s(n))throw Error(i(299));var u=!1,d="",v=G1,S=$2,D=Bp,Y=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(S=a.onCaughtError),a.onRecoverableError!==void 0&&(D=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(Y=a.unstable_transitionCallbacks)),a=b3(n,1,!1,null,null,u,d,v,S,D,Y,null),n[Zn]=a.current,Jb(n.nodeType===8?n.parentNode:n),new my(a)},m0.hydrateRoot=function(n,a,u){if(!s(n))throw Error(i(299));var d=!1,v="",S=G1,D=$2,Y=Bp,rt=null,wt=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(S=u.onUncaughtError),u.onCaughtError!==void 0&&(D=u.onCaughtError),u.onRecoverableError!==void 0&&(Y=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(rt=u.unstable_transitionCallbacks),u.formState!==void 0&&(wt=u.formState)),a=b3(n,1,!0,a,u??null,d,v,S,D,Y,rt,wt),a.context=y3(null),u=a.current,d=lr(),v=Qc(d),v.callback=null,Zc(u,v,d),a.current.lanes=d,be(a,d),Al(a),n[Zn]=a.current,Jb(n),new _5(a)},m0.version="19.0.0",m0}var j3;function HE(){if(j3)return wy.exports;j3=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(t){console.error(t)}}return l(),wy.exports=UE(),wy.exports}var GE=HE(),v0={},z3;function VE(){if(z3)return v0;z3=1,Object.defineProperty(v0,"__esModule",{value:!0}),v0.parse=o,v0.serialize=p;const l=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,r=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function o(A,b){const N=new r,E=A.length;if(E<2)return N;const T=(b==null?void 0:b.decode)||m;let L=0;do{const R=A.indexOf("=",L);if(R===-1)break;const k=A.indexOf(";",L),j=k===-1?E:k;if(R>j){L=A.lastIndexOf(";",R-1)+1;continue}const H=c(A,L,R),tt=h(A,R,H),Z=A.slice(H,tt);if(N[Z]===void 0){let Q=c(A,R+1,j),et=h(A,j,Q);const ft=T(A.slice(Q,et));N[Z]=ft}L=j+1}while(L<E);return N}function c(A,b,N){do{const E=A.charCodeAt(b);if(E!==32&&E!==9)return b}while(++b<N);return N}function h(A,b,N){for(;b>N;){const E=A.charCodeAt(--b);if(E!==32&&E!==9)return b+1}return N}function p(A,b,N){const E=(N==null?void 0:N.encode)||encodeURIComponent;if(!l.test(A))throw new TypeError(`argument name is invalid: ${A}`);const T=E(b);if(!t.test(T))throw new TypeError(`argument val is invalid: ${b}`);let L=A+"="+T;if(!N)return L;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);L+="; Max-Age="+N.maxAge}if(N.domain){if(!e.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);L+="; Domain="+N.domain}if(N.path){if(!i.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);L+="; Path="+N.path}if(N.expires){if(!y(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);L+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(L+="; HttpOnly"),N.secure&&(L+="; Secure"),N.partitioned&&(L+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return L}function m(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function y(A){return s.call(A)==="[object Date]"}return v0}VE();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var q3="popstate";function YE(l={}){function t(i,s){let{pathname:r,search:o,hash:c}=i.location;return Hy("",{pathname:r,search:o,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function e(i,s){return typeof s=="string"?s:V0(s)}return WE(t,e,null,l)}function fn(l,t){if(l===!1||l===null||typeof l>"u")throw new Error(t)}function Gl(l,t){if(!l){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function XE(){return Math.random().toString(36).substring(2,10)}function U3(l,t){return{usr:l.state,key:l.key,idx:t}}function Hy(l,t,e=null,i){return{pathname:typeof l=="string"?l:l.pathname,search:"",hash:"",...typeof t=="string"?x1(t):t,state:e,key:t&&t.key||i||XE()}}function V0({pathname:l="/",search:t="",hash:e=""}){return t&&t!=="?"&&(l+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(l+=e.charAt(0)==="#"?e:"#"+e),l}function x1(l){let t={};if(l){let e=l.indexOf("#");e>=0&&(t.hash=l.substring(e),l=l.substring(0,e));let i=l.indexOf("?");i>=0&&(t.search=l.substring(i),l=l.substring(0,i)),l&&(t.pathname=l)}return t}function WE(l,t,e,i={}){let{window:s=document.defaultView,v5Compat:r=!1}=i,o=s.history,c="POP",h=null,p=m();p==null&&(p=0,o.replaceState({...o.state,idx:p},""));function m(){return(o.state||{idx:null}).idx}function y(){c="POP";let T=m(),L=T==null?null:T-p;p=T,h&&h({action:c,location:E.location,delta:L})}function A(T,L){c="PUSH";let R=Hy(E.location,T,L);p=m()+1;let k=U3(R,p),j=E.createHref(R);try{o.pushState(k,"",j)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;s.location.assign(j)}r&&h&&h({action:c,location:E.location,delta:1})}function b(T,L){c="REPLACE";let R=Hy(E.location,T,L);p=m();let k=U3(R,p),j=E.createHref(R);o.replaceState(k,"",j),r&&h&&h({action:c,location:E.location,delta:0})}function N(T){let L=s.location.origin!=="null"?s.location.origin:s.location.href,R=typeof T=="string"?T:V0(T);return R=R.replace(/ $/,"%20"),fn(L,`No window.location.(origin|href) available to create URL for href: ${R}`),new URL(R,L)}let E={get action(){return c},get location(){return l(s,o)},listen(T){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(q3,y),h=T,()=>{s.removeEventListener(q3,y),h=null}},createHref(T){return t(s,T)},createURL:N,encodeLocation(T){let L=N(T);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:A,replace:b,go(T){return o.go(T)}};return E}function I4(l,t,e="/"){return $E(l,t,e,!1)}function $E(l,t,e,i){let s=typeof t=="string"?x1(t):t,r=dc(s.pathname||"/",e);if(r==null)return null;let o=B4(l);KE(o);let c=null;for(let h=0;c==null&&h<o.length;++h){let p=oN(r);c=aN(o[h],p,i)}return c}function B4(l,t=[],e=[],i=""){let s=(r,o,c)=>{let h={relativePath:c===void 0?r.path||"":c,caseSensitive:r.caseSensitive===!0,childrenIndex:o,route:r};h.relativePath.startsWith("/")&&(fn(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let p=cc([i,h.relativePath]),m=e.concat(h);r.children&&r.children.length>0&&(fn(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),B4(r.children,t,m,p)),!(r.path==null&&!r.index)&&t.push({path:p,score:nN(p,r.index),routesMeta:m})};return l.forEach((r,o)=>{var c;if(r.path===""||!((c=r.path)!=null&&c.includes("?")))s(r,o);else for(let h of j4(r.path))s(r,o,h)}),t}function j4(l){let t=l.split("/");if(t.length===0)return[];let[e,...i]=t,s=e.endsWith("?"),r=e.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let o=j4(i.join("/")),c=[];return c.push(...o.map(h=>h===""?r:[r,h].join("/"))),s&&c.push(...o),c.map(h=>l.startsWith("/")&&h===""?"/":h)}function KE(l){l.sort((t,e)=>t.score!==e.score?e.score-t.score:sN(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var QE=/^:[\w-]+$/,ZE=3,JE=2,tN=1,eN=10,iN=-2,H3=l=>l==="*";function nN(l,t){let e=l.split("/"),i=e.length;return e.some(H3)&&(i+=iN),t&&(i+=JE),e.filter(s=>!H3(s)).reduce((s,r)=>s+(QE.test(r)?ZE:r===""?tN:eN),i)}function sN(l,t){return l.length===t.length&&l.slice(0,-1).every((i,s)=>i===t[s])?l[l.length-1]-t[t.length-1]:0}function aN(l,t,e=!1){let{routesMeta:i}=l,s={},r="/",o=[];for(let c=0;c<i.length;++c){let h=i[c],p=c===i.length-1,m=r==="/"?t:t.slice(r.length)||"/",y=wv({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},m),A=h.route;if(!y&&p&&e&&!i[i.length-1].route.index&&(y=wv({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!y)return null;Object.assign(s,y.params),o.push({params:s,pathname:cc([r,y.pathname]),pathnameBase:hN(cc([r,y.pathnameBase])),route:A}),y.pathnameBase!=="/"&&(r=cc([r,y.pathnameBase]))}return o}function wv(l,t){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[e,i]=rN(l.path,l.caseSensitive,l.end),s=t.match(e);if(!s)return null;let r=s[0],o=r.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((p,{paramName:m,isOptional:y},A)=>{if(m==="*"){let N=c[A]||"";o=r.slice(0,r.length-N.length).replace(/(.)\/+$/,"$1")}const b=c[A];return y&&!b?p[m]=void 0:p[m]=(b||"").replace(/%2F/g,"/"),p},{}),pathname:r,pathnameBase:o,pattern:l}}function rN(l,t=!1,e=!0){Gl(l==="*"||!l.endsWith("*")||l.endsWith("/*"),`Route path "${l}" will be treated as if it were "${l.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${l.replace(/\*$/,"/*")}".`);let i=[],s="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,h)=>(i.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return l.endsWith("*")?(i.push({paramName:"*"}),s+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?s+="\\/*$":l!==""&&l!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function oN(l){try{return l.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Gl(!1,`The URL path "${l}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),l}}function dc(l,t){if(t==="/")return l;if(!l.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=l.charAt(e);return i&&i!=="/"?null:l.slice(e)||"/"}function lN(l,t="/"){let{pathname:e,search:i="",hash:s=""}=typeof l=="string"?x1(l):l;return{pathname:e?e.startsWith("/")?e:uN(e,t):t,search:fN(i),hash:dN(s)}}function uN(l,t){let e=t.replace(/\/+$/,"").split("/");return l.split("/").forEach(s=>{s===".."?e.length>1&&e.pop():s!=="."&&e.push(s)}),e.length>1?e.join("/"):"/"}function xy(l,t,e,i){return`Cannot include a '${l}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cN(l){return l.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function z4(l){let t=cN(l);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function q4(l,t,e,i=!1){let s;typeof l=="string"?s=x1(l):(s={...l},fn(!s.pathname||!s.pathname.includes("?"),xy("?","pathname","search",s)),fn(!s.pathname||!s.pathname.includes("#"),xy("#","pathname","hash",s)),fn(!s.search||!s.search.includes("#"),xy("#","search","hash",s)));let r=l===""||s.pathname==="",o=r?"/":s.pathname,c;if(o==null)c=e;else{let y=t.length-1;if(!i&&o.startsWith("..")){let A=o.split("/");for(;A[0]==="..";)A.shift(),y-=1;s.pathname=A.join("/")}c=y>=0?t[y]:"/"}let h=lN(s,c),p=o&&o!=="/"&&o.endsWith("/"),m=(r||o===".")&&e.endsWith("/");return!h.pathname.endsWith("/")&&(p||m)&&(h.pathname+="/"),h}var cc=l=>l.join("/").replace(/\/\/+/g,"/"),hN=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),fN=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,dN=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l;function pN(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}var U4=["POST","PUT","PATCH","DELETE"];new Set(U4);var gN=["GET",...U4];new Set(gN);var E1=zt.createContext(null);E1.displayName="DataRouter";var Qv=zt.createContext(null);Qv.displayName="DataRouterState";var H4=zt.createContext({isTransitioning:!1});H4.displayName="ViewTransition";var mN=zt.createContext(new Map);mN.displayName="Fetchers";var vN=zt.createContext(null);vN.displayName="Await";var Xl=zt.createContext(null);Xl.displayName="Navigation";var _2=zt.createContext(null);_2.displayName="Location";var gc=zt.createContext({outlet:null,matches:[],isDataRoute:!1});gc.displayName="Route";var _A=zt.createContext(null);_A.displayName="RouteError";function bN(l,{relative:t}={}){fn(x2(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=zt.useContext(Xl),{hash:s,pathname:r,search:o}=E2(l,{relative:t}),c=r;return e!=="/"&&(c=r==="/"?e:cc([e,r])),i.createHref({pathname:c,search:o,hash:s})}function x2(){return zt.useContext(_2)!=null}function lp(){return fn(x2(),"useLocation() may be used only in the context of a <Router> component."),zt.useContext(_2).location}var G4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function V4(l){zt.useContext(Xl).static||zt.useLayoutEffect(l)}function yN(){let{isDataRoute:l}=zt.useContext(gc);return l?kN():wN()}function wN(){fn(x2(),"useNavigate() may be used only in the context of a <Router> component.");let l=zt.useContext(E1),{basename:t,navigator:e}=zt.useContext(Xl),{matches:i}=zt.useContext(gc),{pathname:s}=lp(),r=JSON.stringify(z4(i)),o=zt.useRef(!1);return V4(()=>{o.current=!0}),zt.useCallback((h,p={})=>{if(Gl(o.current,G4),!o.current)return;if(typeof h=="number"){e.go(h);return}let m=q4(h,JSON.parse(r),s,p.relative==="path");l==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:cc([t,m.pathname])),(p.replace?e.replace:e.push)(m,p.state,p)},[t,e,r,s,l])}zt.createContext(null);function E2(l,{relative:t}={}){let{matches:e}=zt.useContext(gc),{pathname:i}=lp(),s=JSON.stringify(z4(e));return zt.useMemo(()=>q4(l,JSON.parse(s),i,t==="path"),[l,s,i,t])}function AN(l,t){return Y4(l,t)}function Y4(l,t,e,i){var R;fn(x2(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:r}=zt.useContext(Xl),{matches:o}=zt.useContext(gc),c=o[o.length-1],h=c?c.params:{},p=c?c.pathname:"/",m=c?c.pathnameBase:"/",y=c&&c.route;{let k=y&&y.path||"";X4(p,!y||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let A=lp(),b;if(t){let k=typeof t=="string"?x1(t):t;fn(m==="/"||((R=k.pathname)==null?void 0:R.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${k.pathname}" was given in the \`location\` prop.`),b=k}else b=A;let N=b.pathname||"/",E=N;if(m!=="/"){let k=m.replace(/^\//,"").split("/");E="/"+N.replace(/^\//,"").split("/").slice(k.length).join("/")}let T=!r&&e&&e.matches&&e.matches.length>0?e.matches:I4(l,{pathname:E});Gl(y||T!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Gl(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=NN(T&&T.map(k=>Object.assign({},k,{params:Object.assign({},h,k.params),pathname:cc([m,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?m:cc([m,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),o,e,i);return t&&L?zt.createElement(_2.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},L):L}function SN(){let l=MN(),t=pN(l)?`${l.status} ${l.statusText}`:l instanceof Error?l.message:JSON.stringify(l),e=l instanceof Error?l.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},r={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",l),o=zt.createElement(zt.Fragment,null,zt.createElement("p",null," Hey developer "),zt.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",zt.createElement("code",{style:r},"ErrorBoundary")," or"," ",zt.createElement("code",{style:r},"errorElement")," prop on your route.")),zt.createElement(zt.Fragment,null,zt.createElement("h2",null,"Unexpected Application Error!"),zt.createElement("h3",{style:{fontStyle:"italic"}},t),e?zt.createElement("pre",{style:s},e):null,o)}var _N=zt.createElement(SN,null),xN=class extends zt.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,t){return t.location!==l.location||t.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:t.error,location:t.location,revalidation:l.revalidation||t.revalidation}}componentDidCatch(l,t){console.error("React Router caught the following error during render",l,t)}render(){return this.state.error!==void 0?zt.createElement(gc.Provider,{value:this.props.routeContext},zt.createElement(_A.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function EN({routeContext:l,match:t,children:e}){let i=zt.useContext(E1);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),zt.createElement(gc.Provider,{value:l},e)}function NN(l,t=[],e=null,i=null){if(l==null){if(!e)return null;if(e.errors)l=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)l=e.matches;else return null}let s=l,r=e==null?void 0:e.errors;if(r!=null){let h=s.findIndex(p=>p.route.id&&(r==null?void 0:r[p.route.id])!==void 0);fn(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let o=!1,c=-1;if(e)for(let h=0;h<s.length;h++){let p=s[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=h),p.route.id){let{loaderData:m,errors:y}=e,A=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||A){o=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((h,p,m)=>{let y,A=!1,b=null,N=null;e&&(y=r&&p.route.id?r[p.route.id]:void 0,b=p.route.errorElement||_N,o&&(c<0&&m===0?(X4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,N=null):c===m&&(A=!0,N=p.route.hydrateFallbackElement||null)));let E=t.concat(s.slice(0,m+1)),T=()=>{let L;return y?L=b:A?L=N:p.route.Component?L=zt.createElement(p.route.Component,null):p.route.element?L=p.route.element:L=h,zt.createElement(EN,{match:p,routeContext:{outlet:h,matches:E,isDataRoute:e!=null},children:L})};return e&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?zt.createElement(xN,{location:e.location,revalidation:e.revalidation,component:b,error:y,children:T(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):T()},null)}function xA(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LN(l){let t=zt.useContext(E1);return fn(t,xA(l)),t}function CN(l){let t=zt.useContext(Qv);return fn(t,xA(l)),t}function TN(l){let t=zt.useContext(gc);return fn(t,xA(l)),t}function EA(l){let t=TN(l),e=t.matches[t.matches.length-1];return fn(e.route.id,`${l} can only be used on routes that contain a unique "id"`),e.route.id}function RN(){return EA("useRouteId")}function MN(){var i;let l=zt.useContext(_A),t=CN("useRouteError"),e=EA("useRouteError");return l!==void 0?l:(i=t.errors)==null?void 0:i[e]}function kN(){let{router:l}=LN("useNavigate"),t=EA("useNavigate"),e=zt.useRef(!1);return V4(()=>{e.current=!0}),zt.useCallback(async(s,r={})=>{Gl(e.current,G4),e.current&&(typeof s=="number"?l.navigate(s):await l.navigate(s,{fromRouteId:t,...r}))},[l,t])}var G3={};function X4(l,t,e){!t&&!G3[l]&&(G3[l]=!0,Gl(!1,e))}zt.memo(DN);function DN({routes:l,future:t,state:e}){return Y4(l,void 0,e,t)}function Gy(l){fn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function PN({basename:l="/",children:t=null,location:e,navigationType:i="POP",navigator:s,static:r=!1}){fn(!x2(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=l.replace(/^\/*/,"/"),c=zt.useMemo(()=>({basename:o,navigator:s,static:r,future:{}}),[o,s,r]);typeof e=="string"&&(e=x1(e));let{pathname:h="/",search:p="",hash:m="",state:y=null,key:A="default"}=e,b=zt.useMemo(()=>{let N=dc(h,o);return N==null?null:{location:{pathname:N,search:p,hash:m,state:y,key:A},navigationType:i}},[o,h,p,m,y,A,i]);return Gl(b!=null,`<Router basename="${o}"> is not able to match the URL "${h}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:zt.createElement(Xl.Provider,{value:c},zt.createElement(_2.Provider,{children:t,value:b}))}function ON({children:l,location:t}){return AN(Vy(l),t)}function Vy(l,t=[]){let e=[];return zt.Children.forEach(l,(i,s)=>{if(!zt.isValidElement(i))return;let r=[...t,s];if(i.type===zt.Fragment){e.push.apply(e,Vy(i.props.children,r));return}fn(i.type===Gy,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),fn(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=Vy(i.props.children,r)),e.push(o)}),e}var I5="get",B5="application/x-www-form-urlencoded";function Zv(l){return l!=null&&typeof l.tagName=="string"}function FN(l){return Zv(l)&&l.tagName.toLowerCase()==="button"}function IN(l){return Zv(l)&&l.tagName.toLowerCase()==="form"}function BN(l){return Zv(l)&&l.tagName.toLowerCase()==="input"}function jN(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function zN(l,t){return l.button===0&&(!t||t==="_self")&&!jN(l)}var E5=null;function qN(){if(E5===null)try{new FormData(document.createElement("form"),0),E5=!1}catch{E5=!0}return E5}var UN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ey(l){return l!=null&&!UN.has(l)?(Gl(!1,`"${l}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${B5}"`),null):l}function HN(l,t){let e,i,s,r,o;if(IN(l)){let c=l.getAttribute("action");i=c?dc(c,t):null,e=l.getAttribute("method")||I5,s=Ey(l.getAttribute("enctype"))||B5,r=new FormData(l)}else if(FN(l)||BN(l)&&(l.type==="submit"||l.type==="image")){let c=l.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=l.getAttribute("formaction")||c.getAttribute("action");if(i=h?dc(h,t):null,e=l.getAttribute("formmethod")||c.getAttribute("method")||I5,s=Ey(l.getAttribute("formenctype"))||Ey(c.getAttribute("enctype"))||B5,r=new FormData(c,l),!qN()){let{name:p,type:m,value:y}=l;if(m==="image"){let A=p?`${p}.`:"";r.append(`${A}x`,"0"),r.append(`${A}y`,"0")}else p&&r.append(p,y)}}else{if(Zv(l))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=I5,i=null,s=B5,o=l}return r&&s==="text/plain"&&(o=r,r=void 0),{action:i,method:e.toLowerCase(),encType:s,formData:r,body:o}}function NA(l,t){if(l===!1||l===null||typeof l>"u")throw new Error(t)}async function GN(l,t){if(l.id in t)return t[l.id];try{let e=await import(l.module);return t[l.id]=e,e}catch(e){return console.error(`Error loading route module \`${l.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function VN(l){return l==null?!1:l.href==null?l.rel==="preload"&&typeof l.imageSrcSet=="string"&&typeof l.imageSizes=="string":typeof l.rel=="string"&&typeof l.href=="string"}async function YN(l,t,e){let i=await Promise.all(l.map(async s=>{let r=t.routes[s.route.id];if(r){let o=await GN(r,e);return o.links?o.links():[]}return[]}));return KN(i.flat(1).filter(VN).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function V3(l,t,e,i,s,r){let o=(h,p)=>e[p]?h.route.id!==e[p].route.id:!0,c=(h,p)=>{var m;return e[p].pathname!==h.pathname||((m=e[p].route.path)==null?void 0:m.endsWith("*"))&&e[p].params["*"]!==h.params["*"]};return r==="assets"?t.filter((h,p)=>o(h,p)||c(h,p)):r==="data"?t.filter((h,p)=>{var y;let m=i.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(o(h,p)||c(h,p))return!0;if(h.route.shouldRevalidate){let A=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=e[0])==null?void 0:y.params)||{},nextUrl:new URL(l,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function XN(l,t,{includeHydrateFallback:e}={}){return WN(l.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let r=[s.module];return s.clientActionModule&&(r=r.concat(s.clientActionModule)),s.clientLoaderModule&&(r=r.concat(s.clientLoaderModule)),e&&s.hydrateFallbackModule&&(r=r.concat(s.hydrateFallbackModule)),s.imports&&(r=r.concat(s.imports)),r}).flat(1))}function WN(l){return[...new Set(l)]}function $N(l){let t={},e=Object.keys(l).sort();for(let i of e)t[i]=l[i];return t}function KN(l,t){let e=new Set;return new Set(t),l.reduce((i,s)=>{let r=JSON.stringify($N(s));return e.has(r)||(e.add(r),i.push({key:r,link:s})),i},[])}function QN(l,t){let e=typeof l=="string"?new URL(l,typeof window>"u"?"server://singlefetch/":window.location.origin):l;return e.pathname==="/"?e.pathname="_root.data":t&&dc(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function W4(){let l=zt.useContext(E1);return NA(l,"You must render this element inside a <DataRouterContext.Provider> element"),l}function ZN(){let l=zt.useContext(Qv);return NA(l,"You must render this element inside a <DataRouterStateContext.Provider> element"),l}var LA=zt.createContext(void 0);LA.displayName="FrameworkContext";function $4(){let l=zt.useContext(LA);return NA(l,"You must render this element inside a <HydratedRouter> element"),l}function JN(l,t){let e=zt.useContext(LA),[i,s]=zt.useState(!1),[r,o]=zt.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:p,onMouseLeave:m,onTouchStart:y}=t,A=zt.useRef(null);zt.useEffect(()=>{if(l==="render"&&o(!0),l==="viewport"){let E=L=>{L.forEach(R=>{o(R.isIntersecting)})},T=new IntersectionObserver(E,{threshold:.5});return A.current&&T.observe(A.current),()=>{T.disconnect()}}},[l]),zt.useEffect(()=>{if(i){let E=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(E)}}},[i]);let b=()=>{s(!0)},N=()=>{s(!1),o(!1)};return e?l!=="intent"?[r,A,{}]:[r,A,{onFocus:b0(c,b),onBlur:b0(h,N),onMouseEnter:b0(p,b),onMouseLeave:b0(m,N),onTouchStart:b0(y,b)}]:[!1,A,{}]}function b0(l,t){return e=>{l&&l(e),e.defaultPrevented||t(e)}}function tL({page:l,...t}){let{router:e}=W4(),i=zt.useMemo(()=>I4(e.routes,l,e.basename),[e.routes,l,e.basename]);return i?zt.createElement(iL,{page:l,matches:i,...t}):null}function eL(l){let{manifest:t,routeModules:e}=$4(),[i,s]=zt.useState([]);return zt.useEffect(()=>{let r=!1;return YN(l,t,e).then(o=>{r||s(o)}),()=>{r=!0}},[l,t,e]),i}function iL({page:l,matches:t,...e}){let i=lp(),{manifest:s,routeModules:r}=$4(),{basename:o}=W4(),{loaderData:c,matches:h}=ZN(),p=zt.useMemo(()=>V3(l,t,h,s,i,"data"),[l,t,h,s,i]),m=zt.useMemo(()=>V3(l,t,h,s,i,"assets"),[l,t,h,s,i]),y=zt.useMemo(()=>{if(l===i.pathname+i.search+i.hash)return[];let N=new Set,E=!1;if(t.forEach(L=>{var k;let R=s.routes[L.route.id];!R||!R.hasLoader||(!p.some(j=>j.route.id===L.route.id)&&L.route.id in c&&((k=r[L.route.id])!=null&&k.shouldRevalidate)||R.hasClientLoader?E=!0:N.add(L.route.id))}),N.size===0)return[];let T=QN(l,o);return E&&N.size>0&&T.searchParams.set("_routes",t.filter(L=>N.has(L.route.id)).map(L=>L.route.id).join(",")),[T.pathname+T.search]},[o,c,i,s,p,t,l,r]),A=zt.useMemo(()=>XN(m,s),[m,s]),b=eL(m);return zt.createElement(zt.Fragment,null,y.map(N=>zt.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...e})),A.map(N=>zt.createElement("link",{key:N,rel:"modulepreload",href:N,...e})),b.map(({key:N,link:E})=>zt.createElement("link",{key:N,...E})))}function nL(...l){return t=>{l.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var K4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{K4&&(window.__reactRouterVersion="7.3.0")}catch{}function sL({basename:l,children:t,window:e}){let i=zt.useRef();i.current==null&&(i.current=YE({window:e,v5Compat:!0}));let s=i.current,[r,o]=zt.useState({action:s.action,location:s.location}),c=zt.useCallback(h=>{zt.startTransition(()=>o(h))},[o]);return zt.useLayoutEffect(()=>s.listen(c),[s,c]),zt.createElement(PN,{basename:l,children:t,location:r.location,navigationType:r.action,navigator:s})}var Q4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CA=zt.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:s,reloadDocument:r,replace:o,state:c,target:h,to:p,preventScrollReset:m,viewTransition:y,...A},b){let{basename:N}=zt.useContext(Xl),E=typeof p=="string"&&Q4.test(p),T,L=!1;if(typeof p=="string"&&E&&(T=p,K4))try{let et=new URL(window.location.href),ft=p.startsWith("//")?new URL(et.protocol+p):new URL(p),q=dc(ft.pathname,N);ft.origin===et.origin&&q!=null?p=q+ft.search+ft.hash:L=!0}catch{Gl(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=bN(p,{relative:s}),[k,j,H]=JN(i,A),tt=lL(p,{replace:o,state:c,target:h,preventScrollReset:m,relative:s,viewTransition:y});function Z(et){t&&t(et),et.defaultPrevented||tt(et)}let Q=zt.createElement("a",{...A,...H,href:T||R,onClick:L||r?t:Z,ref:nL(b,j),target:h,"data-discover":!E&&e==="render"?"true":void 0});return k&&!E?zt.createElement(zt.Fragment,null,Q,zt.createElement(tL,{page:R})):Q});CA.displayName="Link";var aL=zt.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:s=!1,style:r,to:o,viewTransition:c,children:h,...p},m){let y=E2(o,{relative:p.relative}),A=lp(),b=zt.useContext(Qv),{navigator:N,basename:E}=zt.useContext(Xl),T=b!=null&&dL(y)&&c===!0,L=N.encodeLocation?N.encodeLocation(y).pathname:y.pathname,R=A.pathname,k=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;e||(R=R.toLowerCase(),k=k?k.toLowerCase():null,L=L.toLowerCase()),k&&E&&(k=dc(k,E)||k);const j=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let H=R===L||!s&&R.startsWith(L)&&R.charAt(j)==="/",tt=k!=null&&(k===L||!s&&k.startsWith(L)&&k.charAt(L.length)==="/"),Z={isActive:H,isPending:tt,isTransitioning:T},Q=H?t:void 0,et;typeof i=="function"?et=i(Z):et=[i,H?"active":null,tt?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let ft=typeof r=="function"?r(Z):r;return zt.createElement(CA,{...p,"aria-current":Q,className:et,ref:m,style:ft,to:o,viewTransition:c},typeof h=="function"?h(Z):h)});aL.displayName="NavLink";var rL=zt.forwardRef(({discover:l="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:s,state:r,method:o=I5,action:c,onSubmit:h,relative:p,preventScrollReset:m,viewTransition:y,...A},b)=>{let N=hL(),E=fL(c,{relative:p}),T=o.toLowerCase()==="get"?"get":"post",L=typeof c=="string"&&Q4.test(c),R=k=>{if(h&&h(k),k.defaultPrevented)return;k.preventDefault();let j=k.nativeEvent.submitter,H=(j==null?void 0:j.getAttribute("formmethod"))||o;N(j||k.currentTarget,{fetcherKey:t,method:H,navigate:e,replace:s,state:r,relative:p,preventScrollReset:m,viewTransition:y})};return zt.createElement("form",{ref:b,method:T,action:E,onSubmit:i?h:R,...A,"data-discover":!L&&l==="render"?"true":void 0})});rL.displayName="Form";function oL(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Z4(l){let t=zt.useContext(E1);return fn(t,oL(l)),t}function lL(l,{target:t,replace:e,state:i,preventScrollReset:s,relative:r,viewTransition:o}={}){let c=yN(),h=lp(),p=E2(l,{relative:r});return zt.useCallback(m=>{if(zN(m,t)){m.preventDefault();let y=e!==void 0?e:V0(h)===V0(p);c(l,{replace:y,state:i,preventScrollReset:s,relative:r,viewTransition:o})}},[h,c,p,e,i,t,l,s,r,o])}var uL=0,cL=()=>`__${String(++uL)}__`;function hL(){let{router:l}=Z4("useSubmit"),{basename:t}=zt.useContext(Xl),e=RN();return zt.useCallback(async(i,s={})=>{let{action:r,method:o,encType:c,formData:h,body:p}=HN(i,t);if(s.navigate===!1){let m=s.fetcherKey||cL();await l.fetch(m,e,s.action||r,{preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||o,formEncType:s.encType||c,flushSync:s.flushSync})}else await l.navigate(s.action||r,{preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||o,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:e,flushSync:s.flushSync,viewTransition:s.viewTransition})},[l,t,e])}function fL(l,{relative:t}={}){let{basename:e}=zt.useContext(Xl),i=zt.useContext(gc);fn(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),r={...E2(l||".",{relative:t})},o=lp();if(l==null){r.search=o.search;let c=new URLSearchParams(r.search),h=c.getAll("index");if(h.some(m=>m==="")){c.delete("index"),h.filter(y=>y).forEach(y=>c.append("index",y));let m=c.toString();r.search=m?`?${m}`:""}}return(!l||l===".")&&s.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(r.pathname=r.pathname==="/"?e:cc([e,r.pathname])),V0(r)}function dL(l,t={}){let e=zt.useContext(H4);fn(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Z4("useViewTransitionState"),s=E2(l,{relative:t.relative});if(!e.isTransitioning)return!1;let r=dc(e.currentLocation.pathname,i)||e.currentLocation.pathname,o=dc(e.nextLocation.pathname,i)||e.nextLocation.pathname;return wv(s.pathname,o)!=null||wv(s.pathname,r)!=null}new TextEncoder;const pL=()=>Pt.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100",children:[Pt.jsx("h1",{className:"text-3xl font-bold mb-4",children:"AI-Powered Resume Builder"}),Pt.jsx(CA,{to:"/resume-builder",className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Build Your Resume"})]}),gL="https://api-inference.huggingface.co/models/gpt2",Y3=async l=>{var s,r,o;if(!(l!=null&&l.trim()))throw new Error("Please provide some context for the description.");let t="",e="";if(l.startsWith("Role:")){const c=l.split(`
`);t=c[0].replace("Role:","").trim(),e=((s=c[1])==null?void 0:s.replace("experience test=","").trim())||""}const i=`Create a professional resume description for a ${t||"job"} position. Experience details: ${e||"Entry level position"}. Keep it concise (2-3 sentences), focus on key responsibilities and achievements, use active voice and professional tone, highlight relevant skills and expertise.`;try{const c=await fetch(gL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({inputs:i})});if(!c.ok)throw new Error("Public Space unavailable");const h=await c.json();if(h!=null&&h.error||!((o=(r=h==null?void 0:h.choices)==null?void 0:r[0])!=null&&o.text))throw new Error("No text generated");return h.choices[0].text.trim()}catch{return`As a ${t||"professional"}, demonstrated ability to ${e||"contribute effectively to team goals and deliver results in a fast-paced environment"}. Skilled in key responsibilities and committed to continuous improvement.`}},mL=({onUpdate:l})=>{const[t,e]=zt.useState({name:"",email:"",phone:"",role:"",linkedin:"",github:"",experience:"",education:[{instituteName:"",degree:"",branch:"",scoreVal:"",type:"",from:"",to:""}],skills:[{programmingLanguages:"",librariesFrameworks:"",toolsPlatforms:"",databases:""}],openSource:[{projectName:"",description:""}]}),[i,s]=zt.useState(""),[r,o]=zt.useState({experience:!1,openSource:new Array(t.openSource.length).fill(!1)}),c=R=>{const{name:k,value:j}=R.target;e(H=>({...H,[k]:j})),l({...t,[k]:j})},h=(R,k)=>{const{name:j,value:H}=k.target,tt=[...t.education];tt[R][j]=H,e(Z=>({...Z,education:tt})),l({...t,education:tt})},p=(R,k)=>{const{name:j,value:H}=k.target,tt=[...t.skills];tt[R][j]=H,e(Z=>({...Z,skills:tt})),l({...t,skills:tt})},m=()=>{e(R=>({...R,skills:[...R.skills,{programmingLanguages:"",librariesFrameworks:"",toolsPlatforms:"",databases:""}]}))},y=R=>{const k=[...t.skills];k.splice(R,1),e(j=>({...j,skills:k}))},A=()=>{e(R=>({...R,education:[...R.education,{instituteName:"",degree:"",branch:"",scoreVal:"",type:"",from:"",to:""}]}))},b=R=>{const k=[...t.education];k.splice(R,1),e(j=>({...j,education:k}))},N=(R,k)=>{const{name:j,value:H}=k.target,tt=[...t.openSource];tt[R][j]=H,e(Z=>({...Z,openSource:tt})),l({...t,openSource:tt})},E=()=>{e(R=>({...R,openSource:[...R.openSource,{projectName:"",description:""}]})),o(R=>({...R,openSource:[...R.openSource,!1]}))},T=R=>{const k=[...t.openSource];k.splice(R,1),e(j=>({...j,openSource:k})),o(j=>({...j,openSource:j.openSource.filter((H,tt)=>tt!==R)}))},L=async(R,k=null)=>{try{if(s(""),R==="experience"){if(o(tt=>({...tt,experience:!0})),!t.role)throw new Error("Please enter a role before generating experience description.");const j=`Role: ${t.role}
experience test=${t.experience}`,H=await Y3(j);e(tt=>({...tt,experience:H})),l({...t,experience:H})}else if(R==="openSource"&&k!==null){if(o(tt=>({...tt,openSource:tt.openSource.map((Z,Q)=>Q===k?!0:Z)})),!t.openSource[k].projectName)throw new Error("Please enter a project name before generating description.");const j=await Y3(t.openSource[k].projectName),H=[...t.openSource];H[k].description=j,e(tt=>({...tt,openSource:H})),l({...t,openSource:H})}}catch(j){s(j.message)}finally{o(j=>({...j,experience:!1,openSource:j.openSource.map((H,tt)=>tt===k?!1:H)}))}};return Pt.jsxs(Pt.Fragment,{children:[i&&Pt.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:[Pt.jsx("span",{className:"block sm:inline",children:i}),Pt.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",onClick:()=>s(""),children:Pt.jsxs("svg",{className:"fill-current h-6 w-6 text-red-500",role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:[Pt.jsx("title",{children:"Close"}),Pt.jsx("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"})]})})]}),Pt.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-md",children:[Pt.jsx("h2",{className:"text-xl font-bold mb-4",children:"Personal Details"}),Pt.jsx("input",{type:"text",name:"name",placeholder:"Full Name",value:t.name,onChange:c,className:"w-full p-2 border mb-2 rounded"}),Pt.jsx("input",{type:"email",name:"email",placeholder:"Email",value:t.email,onChange:c,className:"w-full p-2 border mb-2 rounded"}),Pt.jsx("input",{type:"tel",name:"phone",placeholder:"Phone",value:t.phone,onChange:c,className:"w-full p-2 border mb-2 rounded"}),Pt.jsx("input",{type:"text",name:"role",placeholder:"Role",value:t.role,onChange:c,className:"w-full p-2 border mb-2 rounded"}),Pt.jsx("input",{type:"url",name:"linkedin",placeholder:"LinkedIn URL",value:t.linkedin,onChange:c,className:"w-full p-2 border mb-2 rounded"}),Pt.jsx("input",{type:"url",name:"github",placeholder:"GitHub URL",value:t.github,onChange:c,className:"w-full p-2 border mb-2 rounded"}),Pt.jsxs("div",{className:"mt-4",children:[Pt.jsx("h2",{className:"text-xl font-bold mb-4",children:"Experience"}),Pt.jsxs("div",{className:"flex gap-2 mb-2",children:[Pt.jsx("textarea",{name:"experience",placeholder:"Experience Description",value:t.experience,onChange:c,className:"w-full p-2 border rounded",rows:"4"}),Pt.jsx("button",{onClick:()=>L("experience"),disabled:r.experience,className:`px-4 py-2 text-white rounded ${r.experience?"bg-gray-400":"bg-blue-500 hover:bg-blue-600"}`,children:r.experience?"Generating...":"AI Generate"})]})]}),Pt.jsxs("div",{className:"mt-4",children:[Pt.jsx("h2",{className:"text-xl font-bold mb-4",children:"Education"}),t.education.map((R,k)=>Pt.jsxs("div",{className:"mb-4 p-4 border rounded",children:[Pt.jsxs("div",{className:"flex justify-between items-center mb-2",children:[Pt.jsxs("h3",{className:"text-lg font-semibold",children:["Education ",k+1]}),k>0&&Pt.jsx("button",{onClick:()=>b(k),className:"text-red-500 hover:text-red-700",children:"Delete"})]}),Pt.jsx("input",{type:"text",name:"instituteName",placeholder:"Institute Name",value:R.instituteName,onChange:j=>h(k,j),className:"w-full p-2 border mb-2 rounded"}),Pt.jsx("input",{type:"text",name:"degree",placeholder:"Degree",value:R.degree,onChange:j=>h(k,j),className:"w-full p-2 border mb-2 rounded"}),Pt.jsx("input",{type:"text",name:"branch",placeholder:"Branch",value:R.branch,onChange:j=>h(k,j),className:"w-full p-2 border mb-2 rounded"}),Pt.jsx("input",{type:"text",name:"scoreVal",placeholder:"Score",value:R.scoreVal,onChange:j=>h(k,j),className:"w-full p-2 border mb-2 rounded"}),Pt.jsx("input",{type:"text",name:"type",placeholder:"Type (CGPA/Percentage)",value:R.type,onChange:j=>h(k,j),className:"w-full p-2 border mb-2 rounded"}),Pt.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[Pt.jsx("input",{type:"text",name:"from",placeholder:"From Year",value:R.from,onChange:j=>h(k,j),className:"w-full p-2 border rounded"}),Pt.jsx("input",{type:"text",name:"to",placeholder:"To Year",value:R.to,onChange:j=>h(k,j),className:"w-full p-2 border rounded"})]})]},k)),Pt.jsx("button",{onClick:A,className:"w-full p-2 text-white bg-green-500 rounded hover:bg-green-600",children:"Add Education"})]}),Pt.jsxs("div",{className:"mt-4",children:[Pt.jsx("h2",{className:"text-xl font-bold mb-4",children:"Skills"}),t.skills.map((R,k)=>Pt.jsxs("div",{className:"mb-4 p-4 border rounded",children:[Pt.jsxs("div",{className:"flex justify-between items-center mb-2",children:[Pt.jsxs("h3",{className:"text-lg font-semibold",children:["Skills ",k+1]}),k>0&&Pt.jsx("button",{onClick:()=>y(k),className:"text-red-500 hover:text-red-700",children:"Delete"})]}),Pt.jsx("input",{type:"text",name:"programmingLanguages",placeholder:"Programming Languages",value:R.programmingLanguages,onChange:j=>p(k,j),className:"w-full p-2 border mb-2 rounded"}),Pt.jsx("input",{type:"text",name:"librariesFrameworks",placeholder:"Libraries & Frameworks",value:R.librariesFrameworks,onChange:j=>p(k,j),className:"w-full p-2 border mb-2 rounded"}),Pt.jsx("input",{type:"text",name:"toolsPlatforms",placeholder:"Tools & Platforms",value:R.toolsPlatforms,onChange:j=>p(k,j),className:"w-full p-2 border mb-2 rounded"}),Pt.jsx("input",{type:"text",name:"databases",placeholder:"Databases",value:R.databases,onChange:j=>p(k,j),className:"w-full p-2 border mb-2 rounded"})]},k)),Pt.jsx("button",{onClick:m,className:"w-full p-2 text-white bg-green-500 rounded hover:bg-green-600",children:"Add Skills"})]}),Pt.jsxs("div",{className:"mt-4",children:[Pt.jsx("h2",{className:"text-xl font-bold mb-4",children:"Open Source Contributions"}),t.openSource.map((R,k)=>Pt.jsxs("div",{className:"mb-4 p-4 border rounded",children:[Pt.jsxs("div",{className:"flex justify-between items-center mb-2",children:[Pt.jsxs("h3",{className:"text-lg font-semibold",children:["Project ",k+1]}),k>0&&Pt.jsx("button",{onClick:()=>T(k),className:"text-red-500 hover:text-red-700",children:"Delete"})]}),Pt.jsx("input",{type:"text",name:"projectName",placeholder:"Project Name",value:R.projectName,onChange:j=>N(k,j),className:"w-full p-2 border mb-2 rounded"}),Pt.jsxs("div",{className:"flex gap-2",children:[Pt.jsx("textarea",{name:"description",placeholder:"Project Description",value:R.description,onChange:j=>N(k,j),className:"w-full p-2 border rounded",rows:"3"}),Pt.jsx("button",{onClick:()=>L("openSource",k),disabled:r.openSource[k],className:`px-4 py-2 text-white rounded ${r.openSource[k]?"bg-gray-400":"bg-blue-500 hover:bg-blue-600"}`,children:r.openSource[k]?"Generating...":"AI Generate"})]})]},k)),Pt.jsx("button",{onClick:E,className:"w-full p-2 text-white bg-green-500 rounded hover:bg-green-600",children:"Add Project"})]})]})]})},vL="modulepreload",bL=function(l){return"/ResumeBuilder/"+l},X3={},Yy=function(t,e,i){let s=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(e.map(h=>{if(h=bL(h),h in X3)return;X3[h]=!0;const p=h.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${m}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":vL,p||(y.as="script"),y.crossOrigin="",y.href=h,c&&y.setAttribute("nonce",c),document.head.appendChild(y),p)return new Promise((A,b)=>{y.addEventListener("load",A),y.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${h}`)))})}))}function r(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return s.then(o=>{for(const c of o||[])c.status==="rejected"&&r(c.reason);return t().catch(r)})};function xi(l){"@babel/helpers - typeof";return xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xi(l)}var $s=Uint8Array,Nr=Uint16Array,TA=Int32Array,Jv=new $s([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),tb=new $s([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Xy=new $s([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),J4=function(l,t){for(var e=new Nr(31),i=0;i<31;++i)e[i]=t+=1<<l[i-1];for(var s=new TA(e[30]),i=1;i<30;++i)for(var r=e[i];r<e[i+1];++r)s[r]=r-e[i]<<5|i;return{b:e,r:s}},t_=J4(Jv,2),e_=t_.b,Wy=t_.r;e_[28]=258,Wy[258]=28;var i_=J4(tb,0),yL=i_.b,W3=i_.r,$y=new Nr(32768);for(var Wi=0;Wi<32768;++Wi){var ch=(Wi&43690)>>1|(Wi&21845)<<1;ch=(ch&52428)>>2|(ch&13107)<<2,ch=(ch&61680)>>4|(ch&3855)<<4,$y[Wi]=((ch&65280)>>8|(ch&255)<<8)>>1}var Hl=function(l,t,e){for(var i=l.length,s=0,r=new Nr(t);s<i;++s)l[s]&&++r[l[s]-1];var o=new Nr(t);for(s=1;s<t;++s)o[s]=o[s-1]+r[s-1]<<1;var c;if(e){c=new Nr(1<<t);var h=15-t;for(s=0;s<i;++s)if(l[s])for(var p=s<<4|l[s],m=t-l[s],y=o[l[s]-1]++<<m,A=y|(1<<m)-1;y<=A;++y)c[$y[y]>>h]=p}else for(c=new Nr(i),s=0;s<i;++s)l[s]&&(c[s]=$y[o[l[s]-1]++]>>15-l[s]);return c},Zh=new $s(288);for(var Wi=0;Wi<144;++Wi)Zh[Wi]=8;for(var Wi=144;Wi<256;++Wi)Zh[Wi]=9;for(var Wi=256;Wi<280;++Wi)Zh[Wi]=7;for(var Wi=280;Wi<288;++Wi)Zh[Wi]=8;var Y0=new $s(32);for(var Wi=0;Wi<32;++Wi)Y0[Wi]=5;var wL=Hl(Zh,9,0),AL=Hl(Zh,9,1),SL=Hl(Y0,5,0),_L=Hl(Y0,5,1),Ny=function(l){for(var t=l[0],e=1;e<l.length;++e)l[e]>t&&(t=l[e]);return t},No=function(l,t,e){var i=t/8|0;return(l[i]|l[i+1]<<8)>>(t&7)&e},Ly=function(l,t){var e=t/8|0;return(l[e]|l[e+1]<<8|l[e+2]<<16)>>(t&7)},RA=function(l){return(l+7)/8|0},n_=function(l,t,e){return(e==null||e>l.length)&&(e=l.length),new $s(l.subarray(t,e))},xL=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],To=function(l,t,e){var i=new Error(t||xL[l]);if(i.code=l,Error.captureStackTrace&&Error.captureStackTrace(i,To),!e)throw i;return i},EL=function(l,t,e,i){var s=l.length,r=0;if(!s||t.f&&!t.l)return e||new $s(0);var o=!e,c=o||t.i!=2,h=t.i;o&&(e=new $s(s*3));var p=function(Vt){var Jt=e.length;if(Vt>Jt){var Qt=new $s(Math.max(Jt*2,Vt));Qt.set(e),e=Qt}},m=t.f||0,y=t.p||0,A=t.b||0,b=t.l,N=t.d,E=t.m,T=t.n,L=s*8;do{if(!b){m=No(l,y,1);var R=No(l,y+1,3);if(y+=3,R)if(R==1)b=AL,N=_L,E=9,T=5;else if(R==2){var tt=No(l,y,31)+257,Z=No(l,y+10,15)+4,Q=tt+No(l,y+5,31)+1;y+=14;for(var et=new $s(Q),ft=new $s(19),q=0;q<Z;++q)ft[Xy[q]]=No(l,y+q*3,7);y+=Z*3;for(var W=Ny(ft),lt=(1<<W)-1,nt=Hl(ft,W,1),q=0;q<Q;){var Tt=nt[No(l,y,lt)];y+=Tt&15;var k=Tt>>4;if(k<16)et[q++]=k;else{var it=0,ct=0;for(k==16?(ct=3+No(l,y,3),y+=2,it=et[q-1]):k==17?(ct=3+No(l,y,7),y+=3):k==18&&(ct=11+No(l,y,127),y+=7);ct--;)et[q++]=it}}var dt=et.subarray(0,tt),Lt=et.subarray(tt);E=Ny(dt),T=Ny(Lt),b=Hl(dt,E,1),N=Hl(Lt,T,1)}else To(1);else{var k=RA(y)+4,j=l[k-4]|l[k-3]<<8,H=k+j;if(H>s){h&&To(0);break}c&&p(A+j),e.set(l.subarray(k,H),A),t.b=A+=j,t.p=y=H*8,t.f=m;continue}if(y>L){h&&To(0);break}}c&&p(A+131072);for(var $=(1<<E)-1,St=(1<<T)-1,P=y;;P=y){var it=b[Ly(l,y)&$],V=it>>4;if(y+=it&15,y>L){h&&To(0);break}if(it||To(2),V<256)e[A++]=V;else if(V==256){P=y,b=null;break}else{var K=V-254;if(V>264){var q=V-257,at=Jv[q];K=No(l,y,(1<<at)-1)+e_[q],y+=at}var ut=N[Ly(l,y)&St],bt=ut>>4;ut||To(3),y+=ut&15;var Lt=yL[bt];if(bt>3){var at=tb[bt];Lt+=Ly(l,y)&(1<<at)-1,y+=at}if(y>L){h&&To(0);break}c&&p(A+131072);var At=A+K;if(A<Lt){var Et=r-Lt,Ut=Math.min(Lt,At);for(Et+A<0&&To(3);A<Ut;++A)e[A]=i[Et+A]}for(;A<At;++A)e[A]=e[A-Lt]}}t.l=b,t.p=P,t.b=A,t.f=m,b&&(m=1,t.m=E,t.d=N,t.n=T)}while(!m);return A!=e.length&&o?n_(e,0,A):e.subarray(0,A)},Lu=function(l,t,e){e<<=t&7;var i=t/8|0;l[i]|=e,l[i+1]|=e>>8},y0=function(l,t,e){e<<=t&7;var i=t/8|0;l[i]|=e,l[i+1]|=e>>8,l[i+2]|=e>>16},Cy=function(l,t){for(var e=[],i=0;i<l.length;++i)l[i]&&e.push({s:i,f:l[i]});var s=e.length,r=e.slice();if(!s)return{t:a_,l:0};if(s==1){var o=new $s(e[0].s+1);return o[e[0].s]=1,{t:o,l:1}}e.sort(function(H,tt){return H.f-tt.f}),e.push({s:-1,f:25001});var c=e[0],h=e[1],p=0,m=1,y=2;for(e[0]={s:-1,f:c.f+h.f,l:c,r:h};m!=s-1;)c=e[e[p].f<e[y].f?p++:y++],h=e[p!=m&&e[p].f<e[y].f?p++:y++],e[m++]={s:-1,f:c.f+h.f,l:c,r:h};for(var A=r[0].s,i=1;i<s;++i)r[i].s>A&&(A=r[i].s);var b=new Nr(A+1),N=Ky(e[m-1],b,0);if(N>t){var i=0,E=0,T=N-t,L=1<<T;for(r.sort(function(tt,Z){return b[Z.s]-b[tt.s]||tt.f-Z.f});i<s;++i){var R=r[i].s;if(b[R]>t)E+=L-(1<<N-b[R]),b[R]=t;else break}for(E>>=T;E>0;){var k=r[i].s;b[k]<t?E-=1<<t-b[k]++-1:++i}for(;i>=0&&E;--i){var j=r[i].s;b[j]==t&&(--b[j],++E)}N=t}return{t:new $s(b),l:N}},Ky=function(l,t,e){return l.s==-1?Math.max(Ky(l.l,t,e+1),Ky(l.r,t,e+1)):t[l.s]=e},$3=function(l){for(var t=l.length;t&&!l[--t];);for(var e=new Nr(++t),i=0,s=l[0],r=1,o=function(h){e[i++]=h},c=1;c<=t;++c)if(l[c]==s&&c!=t)++r;else{if(!s&&r>2){for(;r>138;r-=138)o(32754);r>2&&(o(r>10?r-11<<5|28690:r-3<<5|12305),r=0)}else if(r>3){for(o(s),--r;r>6;r-=6)o(8304);r>2&&(o(r-3<<5|8208),r=0)}for(;r--;)o(s);r=1,s=l[c]}return{c:e.subarray(0,i),n:t}},w0=function(l,t){for(var e=0,i=0;i<t.length;++i)e+=l[i]*t[i];return e},s_=function(l,t,e){var i=e.length,s=RA(t+2);l[s]=i&255,l[s+1]=i>>8,l[s+2]=l[s]^255,l[s+3]=l[s+1]^255;for(var r=0;r<i;++r)l[s+r+4]=e[r];return(s+4+i)*8},K3=function(l,t,e,i,s,r,o,c,h,p,m){Lu(t,m++,e),++s[256];for(var y=Cy(s,15),A=y.t,b=y.l,N=Cy(r,15),E=N.t,T=N.l,L=$3(A),R=L.c,k=L.n,j=$3(E),H=j.c,tt=j.n,Z=new Nr(19),Q=0;Q<R.length;++Q)++Z[R[Q]&31];for(var Q=0;Q<H.length;++Q)++Z[H[Q]&31];for(var et=Cy(Z,7),ft=et.t,q=et.l,W=19;W>4&&!ft[Xy[W-1]];--W);var lt=p+5<<3,nt=w0(s,Zh)+w0(r,Y0)+o,Tt=w0(s,A)+w0(r,E)+o+14+3*W+w0(Z,ft)+2*Z[16]+3*Z[17]+7*Z[18];if(h>=0&&lt<=nt&&lt<=Tt)return s_(t,m,l.subarray(h,h+p));var it,ct,dt,Lt;if(Lu(t,m,1+(Tt<nt)),m+=2,Tt<nt){it=Hl(A,b,0),ct=A,dt=Hl(E,T,0),Lt=E;var $=Hl(ft,q,0);Lu(t,m,k-257),Lu(t,m+5,tt-1),Lu(t,m+10,W-4),m+=14;for(var Q=0;Q<W;++Q)Lu(t,m+3*Q,ft[Xy[Q]]);m+=3*W;for(var St=[R,H],P=0;P<2;++P)for(var V=St[P],Q=0;Q<V.length;++Q){var K=V[Q]&31;Lu(t,m,$[K]),m+=ft[K],K>15&&(Lu(t,m,V[Q]>>5&127),m+=V[Q]>>12)}}else it=wL,ct=Zh,dt=SL,Lt=Y0;for(var Q=0;Q<c;++Q){var at=i[Q];if(at>255){var K=at>>18&31;y0(t,m,it[K+257]),m+=ct[K+257],K>7&&(Lu(t,m,at>>23&31),m+=Jv[K]);var ut=at&31;y0(t,m,dt[ut]),m+=Lt[ut],ut>3&&(y0(t,m,at>>5&8191),m+=tb[ut])}else y0(t,m,it[at]),m+=ct[at]}return y0(t,m,it[256]),m+ct[256]},NL=new TA([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),a_=new $s(0),LL=function(l,t,e,i,s,r){var o=r.z||l.length,c=new $s(i+o+5*(1+Math.ceil(o/7e3))+s),h=c.subarray(i,c.length-s),p=r.l,m=(r.r||0)&7;if(t){m&&(h[0]=r.r>>3);for(var y=NL[t-1],A=y>>13,b=y&8191,N=(1<<e)-1,E=r.p||new Nr(32768),T=r.h||new Nr(N+1),L=Math.ceil(e/3),R=2*L,k=function(ve){return(l[ve]^l[ve+1]<<L^l[ve+2]<<R)&N},j=new TA(25e3),H=new Nr(288),tt=new Nr(32),Z=0,Q=0,et=r.i||0,ft=0,q=r.w||0,W=0;et+2<o;++et){var lt=k(et),nt=et&32767,Tt=T[lt];if(E[nt]=Tt,T[lt]=nt,q<=et){var it=o-et;if((Z>7e3||ft>24576)&&(it>423||!p)){m=K3(l,h,0,j,H,tt,Q,ft,W,et-W,m),ft=Z=Q=0,W=et;for(var ct=0;ct<286;++ct)H[ct]=0;for(var ct=0;ct<30;++ct)tt[ct]=0}var dt=2,Lt=0,$=b,St=nt-Tt&32767;if(it>2&&lt==k(et-St))for(var P=Math.min(A,it)-1,V=Math.min(32767,et),K=Math.min(258,it);St<=V&&--$&&nt!=Tt;){if(l[et+dt]==l[et+dt-St]){for(var at=0;at<K&&l[et+at]==l[et+at-St];++at);if(at>dt){if(dt=at,Lt=St,at>P)break;for(var ut=Math.min(St,at-2),bt=0,ct=0;ct<ut;++ct){var At=et-St+ct&32767,Et=E[At],Ut=At-Et&32767;Ut>bt&&(bt=Ut,Tt=At)}}}nt=Tt,Tt=E[nt],St+=nt-Tt&32767}if(Lt){j[ft++]=268435456|Wy[dt]<<18|W3[Lt];var Vt=Wy[dt]&31,Jt=W3[Lt]&31;Q+=Jv[Vt]+tb[Jt],++H[257+Vt],++tt[Jt],q=et+dt,++Z}else j[ft++]=l[et],++H[l[et]]}}for(et=Math.max(et,q);et<o;++et)j[ft++]=l[et],++H[l[et]];m=K3(l,h,p,j,H,tt,Q,ft,W,et-W,m),p||(r.r=m&7|h[m/8|0]<<3,m-=7,r.h=T,r.p=E,r.i=et,r.w=q)}else{for(var et=r.w||0;et<o+p;et+=65535){var Qt=et+65535;Qt>=o&&(h[m/8|0]=p,Qt=o),m=s_(h,m+1,l.subarray(et,Qt))}r.i=o}return n_(c,0,i+RA(m)+s)},r_=function(){var l=1,t=0;return{p:function(e){for(var i=l,s=t,r=e.length|0,o=0;o!=r;){for(var c=Math.min(o+2655,r);o<c;++o)s+=i+=e[o];i=(i&65535)+15*(i>>16),s=(s&65535)+15*(s>>16)}l=i,t=s},d:function(){return l%=65521,t%=65521,(l&255)<<24|(l&65280)<<8|(t&255)<<8|t>>8}}},CL=function(l,t,e,i,s){if(!s&&(s={l:1},t.dictionary)){var r=t.dictionary.subarray(-32768),o=new $s(r.length+l.length);o.set(r),o.set(l,r.length),l=o,s.w=r.length}return LL(l,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(l.length)))*1.5):20:12+t.mem,e,i,s)},o_=function(l,t,e){for(;e;++t)l[t]=e,e>>>=8},TL=function(l,t){var e=t.level,i=e==0?0:e<6?1:e==9?3:2;if(l[0]=120,l[1]=i<<6|(t.dictionary&&32),l[1]|=31-(l[0]<<8|l[1])%31,t.dictionary){var s=r_();s.p(t.dictionary),o_(l,2,s.d())}},RL=function(l,t){return((l[0]&15)!=8||l[0]>>4>7||(l[0]<<8|l[1])%31)&&To(6,"invalid zlib data"),(l[1]>>5&1)==1&&To(6,"invalid zlib data: "+(l[1]&32?"need":"unexpected")+" dictionary"),(l[1]>>3&4)+2};function Qy(l,t){t||(t={});var e=r_();e.p(l);var i=CL(l,t,t.dictionary?6:2,4);return TL(i,t),o_(i,i.length-4,e.d()),i}function ML(l,t){return EL(l.subarray(RL(l),-4),{i:2},t,t)}var kL=typeof TextDecoder<"u"&&new TextDecoder,DL=0;try{kL.decode(a_,{stream:!0}),DL=1}catch{}var Te=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Ty(){Te.console&&typeof Te.console.log=="function"&&Te.console.log.apply(Te.console,arguments)}var ki={log:Ty,warn:function(l){Te.console&&(typeof Te.console.warn=="function"?Te.console.warn.apply(Te.console,arguments):Ty.call(null,arguments))},error:function(l){Te.console&&(typeof Te.console.error=="function"?Te.console.error.apply(Te.console,arguments):Ty(l))}};function Ry(l,t,e){var i=new XMLHttpRequest;i.open("GET",l),i.responseType="blob",i.onload=function(){Vf(i.response,t,e)},i.onerror=function(){ki.error("could not download file")},i.send()}function Q3(l){var t=new XMLHttpRequest;t.open("HEAD",l,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function N5(l){try{l.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),l.dispatchEvent(t)}}var G0,Zy,Vf=Te.saveAs||((typeof window>"u"?"undefined":xi(window))!=="object"||window!==Te?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(l,t,e){var i=Te.URL||Te.webkitURL,s=document.createElement("a");t=t||l.name||"download",s.download=t,s.rel="noopener",typeof l=="string"?(s.href=l,s.origin!==location.origin?Q3(s.href)?Ry(l,t,e):N5(s,s.target="_blank"):N5(s)):(s.href=i.createObjectURL(l),setTimeout(function(){i.revokeObjectURL(s.href)},4e4),setTimeout(function(){N5(s)},0))}:"msSaveOrOpenBlob"in navigator?function(l,t,e){if(t=t||l.name||"download",typeof l=="string")if(Q3(l))Ry(l,t,e);else{var i=document.createElement("a");i.href=l,i.target="_blank",setTimeout(function(){N5(i)})}else navigator.msSaveOrOpenBlob(function(s,r){return r===void 0?r={autoBom:!1}:xi(r)!=="object"&&(ki.warn("Deprecated: Expected third argument to be a object"),r={autoBom:!r}),r.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(l,e),t)}:function(l,t,e,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof l=="string")return Ry(l,t,e);var s=l.type==="application/octet-stream",r=/constructor/i.test(Te.HTMLElement)||Te.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&r)&&(typeof FileReader>"u"?"undefined":xi(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var m=c.result;m=o?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=m:location=m,i=null},c.readAsDataURL(l)}else{var h=Te.URL||Te.webkitURL,p=h.createObjectURL(l);i?i.location=p:location.href=p,i=null,setTimeout(function(){h.revokeObjectURL(p)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function l_(l){var t;l=l||"",this.ok=!1,l.charAt(0)=="#"&&(l=l.substr(1,6)),l={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[l=(l=l.replace(/ /g,"")).toLowerCase()]||l;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],i=0;i<e.length;i++){var s=e[i].re,r=e[i].process,o=s.exec(l);o&&(t=r(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),h=this.g.toString(16),p=this.b.toString(16);return c.length==1&&(c="0"+c),h.length==1&&(h="0"+h),p.length==1&&(p="0"+p),"#"+c+h+p}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function My(l,t){var e=l[0],i=l[1],s=l[2],r=l[3];e=js(e,i,s,r,t[0],7,-680876936),r=js(r,e,i,s,t[1],12,-389564586),s=js(s,r,e,i,t[2],17,606105819),i=js(i,s,r,e,t[3],22,-1044525330),e=js(e,i,s,r,t[4],7,-176418897),r=js(r,e,i,s,t[5],12,1200080426),s=js(s,r,e,i,t[6],17,-1473231341),i=js(i,s,r,e,t[7],22,-45705983),e=js(e,i,s,r,t[8],7,1770035416),r=js(r,e,i,s,t[9],12,-1958414417),s=js(s,r,e,i,t[10],17,-42063),i=js(i,s,r,e,t[11],22,-1990404162),e=js(e,i,s,r,t[12],7,1804603682),r=js(r,e,i,s,t[13],12,-40341101),s=js(s,r,e,i,t[14],17,-1502002290),e=zs(e,i=js(i,s,r,e,t[15],22,1236535329),s,r,t[1],5,-165796510),r=zs(r,e,i,s,t[6],9,-1069501632),s=zs(s,r,e,i,t[11],14,643717713),i=zs(i,s,r,e,t[0],20,-373897302),e=zs(e,i,s,r,t[5],5,-701558691),r=zs(r,e,i,s,t[10],9,38016083),s=zs(s,r,e,i,t[15],14,-660478335),i=zs(i,s,r,e,t[4],20,-405537848),e=zs(e,i,s,r,t[9],5,568446438),r=zs(r,e,i,s,t[14],9,-1019803690),s=zs(s,r,e,i,t[3],14,-187363961),i=zs(i,s,r,e,t[8],20,1163531501),e=zs(e,i,s,r,t[13],5,-1444681467),r=zs(r,e,i,s,t[2],9,-51403784),s=zs(s,r,e,i,t[7],14,1735328473),e=qs(e,i=zs(i,s,r,e,t[12],20,-1926607734),s,r,t[5],4,-378558),r=qs(r,e,i,s,t[8],11,-2022574463),s=qs(s,r,e,i,t[11],16,1839030562),i=qs(i,s,r,e,t[14],23,-35309556),e=qs(e,i,s,r,t[1],4,-1530992060),r=qs(r,e,i,s,t[4],11,1272893353),s=qs(s,r,e,i,t[7],16,-155497632),i=qs(i,s,r,e,t[10],23,-1094730640),e=qs(e,i,s,r,t[13],4,681279174),r=qs(r,e,i,s,t[0],11,-358537222),s=qs(s,r,e,i,t[3],16,-722521979),i=qs(i,s,r,e,t[6],23,76029189),e=qs(e,i,s,r,t[9],4,-640364487),r=qs(r,e,i,s,t[12],11,-421815835),s=qs(s,r,e,i,t[15],16,530742520),e=Us(e,i=qs(i,s,r,e,t[2],23,-995338651),s,r,t[0],6,-198630844),r=Us(r,e,i,s,t[7],10,1126891415),s=Us(s,r,e,i,t[14],15,-1416354905),i=Us(i,s,r,e,t[5],21,-57434055),e=Us(e,i,s,r,t[12],6,1700485571),r=Us(r,e,i,s,t[3],10,-1894986606),s=Us(s,r,e,i,t[10],15,-1051523),i=Us(i,s,r,e,t[1],21,-2054922799),e=Us(e,i,s,r,t[8],6,1873313359),r=Us(r,e,i,s,t[15],10,-30611744),s=Us(s,r,e,i,t[6],15,-1560198380),i=Us(i,s,r,e,t[13],21,1309151649),e=Us(e,i,s,r,t[4],6,-145523070),r=Us(r,e,i,s,t[11],10,-1120210379),s=Us(s,r,e,i,t[2],15,718787259),i=Us(i,s,r,e,t[9],21,-343485551),l[0]=Qh(e,l[0]),l[1]=Qh(i,l[1]),l[2]=Qh(s,l[2]),l[3]=Qh(r,l[3])}function eb(l,t,e,i,s,r){return t=Qh(Qh(t,l),Qh(i,r)),Qh(t<<s|t>>>32-s,e)}function js(l,t,e,i,s,r,o){return eb(t&e|~t&i,l,t,s,r,o)}function zs(l,t,e,i,s,r,o){return eb(t&i|e&~i,l,t,s,r,o)}function qs(l,t,e,i,s,r,o){return eb(t^e^i,l,t,s,r,o)}function Us(l,t,e,i,s,r,o){return eb(e^(t|~i),l,t,s,r,o)}function u_(l){var t,e=l.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l.length;t+=64)My(i,PL(l.substring(t-64,t)));l=l.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<l.length;t++)s[t>>2]|=l.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(My(i,s),t=0;t<16;t++)s[t]=0;return s[14]=8*e,My(i,s),i}function PL(l){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=l.charCodeAt(t)+(l.charCodeAt(t+1)<<8)+(l.charCodeAt(t+2)<<16)+(l.charCodeAt(t+3)<<24);return e}G0=Te.atob.bind(Te),Zy=Te.btoa.bind(Te);var Z3="0123456789abcdef".split("");function OL(l){for(var t="",e=0;e<4;e++)t+=Z3[l>>8*e+4&15]+Z3[l>>8*e&15];return t}function FL(l){return String.fromCharCode((255&l)>>0,(65280&l)>>8,(16711680&l)>>16,(4278190080&l)>>24)}function Jy(l){return u_(l).map(FL).join("")}var IL=function(l){for(var t=0;t<l.length;t++)l[t]=OL(l[t]);return l.join("")}(u_("hello"))!="5d41402abc4b2a76b9719d911017c592";function Qh(l,t){if(IL){var e=(65535&l)+(65535&t);return(l>>16)+(t>>16)+(e>>16)<<16|65535&e}return l+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function tw(l,t){var e,i,s,r;if(l!==e){for(var o=(s=l,r=1+(256/l.length>>0),new Array(r+1).join(s)),c=[],h=0;h<256;h++)c[h]=h;var p=0;for(h=0;h<256;h++){var m=c[h];p=(p+m+o.charCodeAt(h))%256,c[h]=c[p],c[p]=m}e=l,i=c}else c=i;var y=t.length,A=0,b=0,N="";for(h=0;h<y;h++)b=(b+(m=c[A=(A+1)%256]))%256,c[A]=c[b],c[b]=m,o=c[(c[A]+c[b])%256],N+=String.fromCharCode(t.charCodeAt(h)^o);return N}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var J3={print:4,modify:8,copy:16,"annot-forms":32};function tg(l,t,e,i){this.v=1,this.r=2;var s=192;l.forEach(function(c){if(J3.perm!==void 0)throw new Error("Invalid permission: "+c);s+=J3[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var r=(t+this.padding).substr(0,32),o=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(r,o),this.P=-(1+(255^s)),this.encryptionKey=Jy(r+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=tw(this.encryptionKey,this.padding)}function eg(l){if(/[^\u0000-\u00ff]/.test(l))throw new Error("Invalid PDF Name Object: "+l+", Only accept ASCII characters.");for(var t="",e=l.length,i=0;i<e;i++){var s=l.charCodeAt(i);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?t+="#"+("0"+s.toString(16)).slice(-2):t+=l[i]}return t}function t4(l){if(xi(l)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,i,s){if(s=s||!1,typeof e!="string"||typeof i!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var r=Math.random().toString(35);return t[e][r]=[i,!!s],r},this.unsubscribe=function(e){for(var i in t)if(t[i][e])return delete t[i][e],Object.keys(t[i]).length===0&&delete t[i],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var i=Array.prototype.slice.call(arguments,1),s=[];for(var r in t[e]){var o=t[e][r];try{o[0].apply(l,i)}catch(c){Te.console&&ki.error("jsPDF PubSub Error",c.message,c)}o[1]&&s.push(r)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Av(l){if(!(this instanceof Av))return new Av(l);var t="opacity,stroke-opacity".split(",");for(var e in l)l.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=l[e]);this.id="",this.objectNumber=-1}function c_(l,t){this.gState=l,this.matrix=t,this.id="",this.objectNumber=-1}function $f(l,t,e,i,s){if(!(this instanceof $f))return new $f(l,t,e,i,s);this.type=l==="axial"?2:3,this.coords=t,this.colors=e,c_.call(this,i,s)}function ug(l,t,e,i,s){if(!(this instanceof ug))return new ug(l,t,e,i,s);this.boundingBox=l,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,c_.call(this,i,s)}function Ne(l){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],s=arguments[2],r=arguments[3],o=[],c=1,h=16,p="S",m=null;xi(l=l||{})==="object"&&(e=l.orientation,i=l.unit||i,s=l.format||s,r=l.compress||l.compressPdf||r,(m=l.encryption||null)!==null&&(m.userPassword=m.userPassword||"",m.ownerPassword=m.ownerPassword||"",m.userPermissions=m.userPermissions||[]),c=typeof l.userUnit=="number"?Math.abs(l.userUnit):1,l.precision!==void 0&&(t=l.precision),l.floatPrecision!==void 0&&(h=l.floatPrecision),p=l.defaultPathOperation||"S"),o=l.filters||(r===!0?["FlateEncode"]:o),i=i||"mm",e=(""+(e||"P")).toLowerCase();var y=l.putOnlyUsedFonts||!1,A={},b={internal:{},__private__:{}};b.__private__.PubSub=t4;var N="1.3",E=b.__private__.getPdfVersion=function(){return N};b.__private__.setPdfVersion=function(_){N=_};var T={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return T};var L=b.__private__.getPageFormat=function(_){return T[_]};s=s||"a4";var R={COMPAT:"compat",ADVANCED:"advanced"},k=R.COMPAT;function j(){this.saveGraphicsState(),ot(new be(re,0,0,-re,0,il()*re).toString()+" cm"),this.setFontSize(this.getFontSize()/re),p="n",k=R.ADVANCED}function H(){this.restoreGraphicsState(),p="S",k=R.COMPAT}var tt=b.__private__.combineFontStyleAndFontWeight=function(_,F){if(_=="bold"&&F=="normal"||_=="bold"&&F==400||_=="normal"&&F=="italic"||_=="bold"&&F=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return F&&(_=F==400||F==="normal"?_==="italic"?"italic":"normal":F!=700&&F!=="bold"||_!=="normal"?(F==700?"bold":F)+""+_:"bold"),_};b.advancedAPI=function(_){var F=k===R.COMPAT;return F&&j.call(this),typeof _!="function"||(_(this),F&&H.call(this)),this},b.compatAPI=function(_){var F=k===R.ADVANCED;return F&&H.call(this),typeof _!="function"||(_(this),F&&j.call(this)),this},b.isAdvancedAPI=function(){return k===R.ADVANCED};var Z,Q=function(_){if(k!==R.ADVANCED)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},et=b.roundToPrecision=b.__private__.roundToPrecision=function(_,F){var st=t||F;if(isNaN(_)||isNaN(st))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(st).replace(/0+$/,"")};Z=b.hpf=b.__private__.hpf=typeof h=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return et(_,h)}:h==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return et(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return et(_,16)};var ft=b.f2=b.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return et(_,2)},q=b.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return et(_,3)},W=b.scale=b.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return k===R.COMPAT?_*re:k===R.ADVANCED?_:void 0},lt=function(_){return k===R.COMPAT?il()-_:k===R.ADVANCED?_:void 0},nt=function(_){return W(lt(_))};b.__private__.setPrecision=b.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(t=parseInt(_,10))};var Tt,it="00000000000000000000000000000000",ct=b.__private__.getFileId=function(){return it},dt=b.__private__.setFileId=function(_){return it=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():it.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),m!==null&&(kn=new tg(m.userPermissions,m.userPassword,m.ownerPassword,it)),it};b.setFileId=function(_){return dt(_),this},b.getFileId=function(){return ct()};var Lt=b.__private__.convertDateToPDFDate=function(_){var F=_.getTimezoneOffset(),st=F<0?"+":"-",pt=Math.floor(Math.abs(F/60)),_t=Math.abs(F%60),Ft=[st,K(pt),"'",K(_t),"'"].join("");return["D:",_.getFullYear(),K(_.getMonth()+1),K(_.getDate()),K(_.getHours()),K(_.getMinutes()),K(_.getSeconds()),Ft].join("")},$=b.__private__.convertPDFDateToDate=function(_){var F=parseInt(_.substr(2,4),10),st=parseInt(_.substr(6,2),10)-1,pt=parseInt(_.substr(8,2),10),_t=parseInt(_.substr(10,2),10),Ft=parseInt(_.substr(12,2),10),Yt=parseInt(_.substr(14,2),10);return new Date(F,st,pt,_t,Ft,Yt,0)},St=b.__private__.setCreationDate=function(_){var F;if(_===void 0&&(_=new Date),_ instanceof Date)F=Lt(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");F=_}return Tt=F},P=b.__private__.getCreationDate=function(_){var F=Tt;return _==="jsDate"&&(F=$(Tt)),F};b.setCreationDate=function(_){return St(_),this},b.getCreationDate=function(_){return P(_)};var V,K=b.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},at=b.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},ut=0,bt=[],At=[],Et=0,Ut=[],Vt=[],Jt=!1,Qt=At,ve=function(){ut=0,Et=0,At=[],bt=[],Ut=[],Di=sn(),Pi=sn()};b.__private__.setCustomOutputDestination=function(_){Jt=!0,Qt=_};var Ot=function(_){Jt||(Qt=_)};b.__private__.resetCustomOutputDestination=function(){Jt=!1,Qt=At};var ot=b.__private__.out=function(_){return _=_.toString(),Et+=_.length+1,Qt.push(_),Qt},Re=b.__private__.write=function(_){return ot(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},ue=b.__private__.getArrayBuffer=function(_){for(var F=_.length,st=new ArrayBuffer(F),pt=new Uint8Array(st);F--;)pt[F]=_.charCodeAt(F);return st},$t=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return $t};var te=l.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(_){return te=k===R.ADVANCED?_/re:_,this};var ne,ee=b.__private__.getFontSize=b.getFontSize=function(){return k===R.COMPAT?te:te*re},me=l.R2L||!1;b.__private__.setR2L=b.setR2L=function(_){return me=_,this},b.__private__.getR2L=b.getR2L=function(){return me};var Ae,Be=b.__private__.setZoomMode=function(_){var F=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))ne=_;else if(isNaN(_)){if(F.indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');ne=_}else ne=parseInt(_,10)};b.__private__.getZoomMode=function(){return ne};var ze,Ze=b.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');Ae=_};b.__private__.getPageMode=function(){return Ae};var li=b.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');ze=_};b.__private__.getLayoutMode=function(){return ze},b.__private__.setDisplayMode=b.setDisplayMode=function(_,F,st){return Be(_),li(F),Ze(st),this};var Le={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(_){if(Object.keys(Le).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Le[_]},b.__private__.getDocumentProperties=function(){return Le},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(_){for(var F in Le)Le.hasOwnProperty(F)&&_[F]&&(Le[F]=_[F]);return this},b.__private__.setDocumentProperty=function(_,F){if(Object.keys(Le).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Le[_]=F};var He,re,Qn,Xe,Ui,wi={},ui={},$i=[],pi={},$l={},Ki={},Rs={},ba=null,bi=0,Ce=[],Je=new t4(b),Kl=l.hotfixes||[],Mn={},ja={},ya=[],be=function _(F,st,pt,_t,Ft,Yt){if(!(this instanceof _))return new _(F,st,pt,_t,Ft,Yt);isNaN(F)&&(F=1),isNaN(st)&&(st=0),isNaN(pt)&&(pt=0),isNaN(_t)&&(_t=1),isNaN(Ft)&&(Ft=0),isNaN(Yt)&&(Yt=0),this._matrix=[F,st,pt,_t,Ft,Yt]};Object.defineProperty(be.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(be.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(be.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(be.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(be.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(be.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(be.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(be.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(be.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(be.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(be.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(be.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(be.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(be.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(be.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(be.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),be.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Z).join(_)},be.prototype.multiply=function(_){var F=_.sx*this.sx+_.shy*this.shx,st=_.sx*this.shy+_.shy*this.sy,pt=_.shx*this.sx+_.sy*this.shx,_t=_.shx*this.shy+_.sy*this.sy,Ft=_.tx*this.sx+_.ty*this.shx+this.tx,Yt=_.tx*this.shy+_.ty*this.sy+this.ty;return new be(F,st,pt,_t,Ft,Yt)},be.prototype.decompose=function(){var _=this.sx,F=this.shy,st=this.shx,pt=this.sy,_t=this.tx,Ft=this.ty,Yt=Math.sqrt(_*_+F*F),ae=(_/=Yt)*st+(F/=Yt)*pt;st-=_*ae,pt-=F*ae;var de=Math.sqrt(st*st+pt*pt);return ae/=de,_*(pt/=de)<F*(st/=de)&&(_=-_,F=-F,ae=-ae,Yt=-Yt),{scale:new be(Yt,0,0,de,0,0),translate:new be(1,0,0,1,_t,Ft),rotate:new be(_,F,-F,_,0,0),skew:new be(1,0,ae,1,0,0)}},be.prototype.toString=function(_){return this.join(" ")},be.prototype.inversed=function(){var _=this.sx,F=this.shy,st=this.shx,pt=this.sy,_t=this.tx,Ft=this.ty,Yt=1/(_*pt-F*st),ae=pt*Yt,de=-F*Yt,De=-st*Yt,Me=_*Yt;return new be(ae,de,De,Me,-ae*_t-De*Ft,-de*_t-Me*Ft)},be.prototype.applyToPoint=function(_){var F=_.x*this.sx+_.y*this.shx+this.tx,st=_.x*this.shy+_.y*this.sy+this.ty;return new Tc(F,st)},be.prototype.applyToRectangle=function(_){var F=this.applyToPoint(_),st=this.applyToPoint(new Tc(_.x+_.w,_.y+_.h));return new pf(F.x,F.y,st.x-F.x,st.y-F.y)},be.prototype.clone=function(){var _=this.sx,F=this.shy,st=this.shx,pt=this.sy,_t=this.tx,Ft=this.ty;return new be(_,F,st,pt,_t,Ft)},b.Matrix=be;var za=b.matrixMult=function(_,F){return F.multiply(_)},qa=new be(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=qa;var ds=function(_,F){if(!$l[_]){var st=(F instanceof $f?"Sh":"P")+(Object.keys(pi).length+1).toString(10);F.id=st,$l[_]=st,pi[st]=F,Je.publish("addPattern",F)}};b.ShadingPattern=$f,b.TilingPattern=ug,b.addShadingPattern=function(_,F){return Q("addShadingPattern()"),ds(_,F),this},b.beginTilingPattern=function(_){Q("beginTilingPattern()"),Rc(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},b.endTilingPattern=function(_,F){Q("endTilingPattern()"),F.stream=Vt[V].join(`
`),ds(_,F),Je.publish("endTilingPattern",F),ya.pop().restore()};var dn=b.__private__.newObject=function(){var _=sn();return Ks(_,!0),_},sn=b.__private__.newObjectDeferred=function(){return ut++,bt[ut]=function(){return Et},ut},Ks=function(_,F){return F=typeof F=="boolean"&&F,bt[_]=Et,F&&ot(_+" 0 obj"),_},Qs=b.__private__.newAdditionalObject=function(){var _={objId:sn(),content:""};return Ut.push(_),_},Di=sn(),Pi=sn(),Zn=b.__private__.decodeColorString=function(_){var F=_.split(" ");if(F.length!==2||F[1]!=="g"&&F[1]!=="G")F.length===5&&(F[4]==="k"||F[4]==="K")&&(F=[(1-F[0])*(1-F[3]),(1-F[1])*(1-F[3]),(1-F[2])*(1-F[3]),"r"]);else{var st=parseFloat(F[0]);F=[st,st,st,"r"]}for(var pt="#",_t=0;_t<3;_t++)pt+=("0"+Math.floor(255*parseFloat(F[_t])).toString(16)).slice(-2);return pt},Zs=b.__private__.encodeColorString=function(_){var F;typeof _=="string"&&(_={ch1:_});var st=_.ch1,pt=_.ch2,_t=_.ch3,Ft=_.ch4,Yt=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof st=="string"&&st.charAt(0)!=="#"){var ae=new l_(st);if(ae.ok)st=ae.toHex();else if(!/^\d*\.?\d*$/.test(st))throw new Error('Invalid color "'+st+'" passed to jsPDF.encodeColorString.')}if(typeof st=="string"&&/^#[0-9A-Fa-f]{3}$/.test(st)&&(st="#"+st[1]+st[1]+st[2]+st[2]+st[3]+st[3]),typeof st=="string"&&/^#[0-9A-Fa-f]{6}$/.test(st)){var de=parseInt(st.substr(1),16);st=de>>16&255,pt=de>>8&255,_t=255&de}if(pt===void 0||Ft===void 0&&st===pt&&pt===_t)if(typeof st=="string")F=st+" "+Yt[0];else switch(_.precision){case 2:F=ft(st/255)+" "+Yt[0];break;case 3:default:F=q(st/255)+" "+Yt[0]}else if(Ft===void 0||xi(Ft)==="object"){if(Ft&&!isNaN(Ft.a)&&Ft.a===0)return F=["1.","1.","1.",Yt[1]].join(" ");if(typeof st=="string")F=[st,pt,_t,Yt[1]].join(" ");else switch(_.precision){case 2:F=[ft(st/255),ft(pt/255),ft(_t/255),Yt[1]].join(" ");break;default:case 3:F=[q(st/255),q(pt/255),q(_t/255),Yt[1]].join(" ")}}else if(typeof st=="string")F=[st,pt,_t,Ft,Yt[2]].join(" ");else switch(_.precision){case 2:F=[ft(st),ft(pt),ft(_t),ft(Ft),Yt[2]].join(" ");break;case 3:default:F=[q(st),q(pt),q(_t),q(Ft),Yt[2]].join(" ")}return F},Cr=b.__private__.getFilters=function(){return o},wa=b.__private__.putStream=function(_){var F=(_=_||{}).data||"",st=_.filters||Cr(),pt=_.alreadyAppliedFilters||[],_t=_.addLength1||!1,Ft=F.length,Yt=_.objectId,ae=function(rn){return rn};if(m!==null&&Yt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");m!==null&&(ae=kn.encryptor(Yt,0));var de={};st===!0&&(st=["FlateEncode"]);var De=_.additionalKeyValues||[],Me=(de=Ne.API.processDataByFilters!==void 0?Ne.API.processDataByFilters(F,st):{data:F,reverseChain:[]}).reverseChain+(Array.isArray(pt)?pt.join(" "):pt.toString());if(de.data.length!==0&&(De.push({key:"Length",value:de.data.length}),_t===!0&&De.push({key:"Length1",value:Ft})),Me.length!=0)if(Me.split("/").length-1==1)De.push({key:"Filter",value:Me});else{De.push({key:"Filter",value:"["+Me+"]"});for(var Ke=0;Ke<De.length;Ke+=1)if(De[Ke].key==="DecodeParms"){for(var Fi=[],Hi=0;Hi<de.reverseChain.split("/").length-1;Hi+=1)Fi.push("null");Fi.push(De[Ke].value),De[Ke].value="["+Fi.join(" ")+"]"}}ot("<<");for(var an=0;an<De.length;an++)ot("/"+De[an].key+" "+De[an].value);ot(">>"),de.data.length!==0&&(ot("stream"),ot(ae(de.data)),ot("endstream"))},Ua=b.__private__.putPage=function(_){var F=_.number,st=_.data,pt=_.objId,_t=_.contentsObjId;Ks(pt,!0),ot("<</Type /Page"),ot("/Parent "+_.rootDictionaryObjId+" 0 R"),ot("/Resources "+_.resourceDictionaryObjId+" 0 R"),ot("/MediaBox ["+parseFloat(Z(_.mediaBox.bottomLeftX))+" "+parseFloat(Z(_.mediaBox.bottomLeftY))+" "+Z(_.mediaBox.topRightX)+" "+Z(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&ot("/CropBox ["+Z(_.cropBox.bottomLeftX)+" "+Z(_.cropBox.bottomLeftY)+" "+Z(_.cropBox.topRightX)+" "+Z(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&ot("/BleedBox ["+Z(_.bleedBox.bottomLeftX)+" "+Z(_.bleedBox.bottomLeftY)+" "+Z(_.bleedBox.topRightX)+" "+Z(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&ot("/TrimBox ["+Z(_.trimBox.bottomLeftX)+" "+Z(_.trimBox.bottomLeftY)+" "+Z(_.trimBox.topRightX)+" "+Z(_.trimBox.topRightY)+"]"),_.artBox!==null&&ot("/ArtBox ["+Z(_.artBox.bottomLeftX)+" "+Z(_.artBox.bottomLeftY)+" "+Z(_.artBox.topRightX)+" "+Z(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&ot("/UserUnit "+_.userUnit),Je.publish("putPage",{objId:pt,pageContext:Ce[F],pageNumber:F,page:st}),ot("/Contents "+_t+" 0 R"),ot(">>"),ot("endobj");var Ft=st.join(`
`);return k===R.ADVANCED&&(Ft+=`
Q`),Ks(_t,!0),wa({data:Ft,filters:Cr(),objectId:_t}),ot("endobj"),pt},Ha=b.__private__.putPages=function(){var _,F,st=[];for(_=1;_<=bi;_++)Ce[_].objId=sn(),Ce[_].contentsObjId=sn();for(_=1;_<=bi;_++)st.push(Ua({number:_,data:Vt[_],objId:Ce[_].objId,contentsObjId:Ce[_].contentsObjId,mediaBox:Ce[_].mediaBox,cropBox:Ce[_].cropBox,bleedBox:Ce[_].bleedBox,trimBox:Ce[_].trimBox,artBox:Ce[_].artBox,userUnit:Ce[_].userUnit,rootDictionaryObjId:Di,resourceDictionaryObjId:Pi}));Ks(Di,!0),ot("<</Type /Pages");var pt="/Kids [";for(F=0;F<bi;F++)pt+=st[F]+" 0 R ";ot(pt+"]"),ot("/Count "+bi),ot(">>"),ot("endobj"),Je.publish("postPutPages")},Wo=function(_){Je.publish("putFont",{font:_,out:ot,newObject:dn,putStream:wa}),_.isAlreadyPutted!==!0&&(_.objectNumber=dn(),ot("<<"),ot("/Type /Font"),ot("/BaseFont /"+eg(_.postScriptName)),ot("/Subtype /Type1"),typeof _.encoding=="string"&&ot("/Encoding /"+_.encoding),ot("/FirstChar 32"),ot("/LastChar 255"),ot(">>"),ot("endobj"))},Aa=function(){for(var _ in wi)wi.hasOwnProperty(_)&&(y===!1||y===!0&&A.hasOwnProperty(_))&&Wo(wi[_])},Ga=function(_){_.objectNumber=dn();var F=[];F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Form"}),F.push({key:"BBox",value:"["+[Z(_.x),Z(_.y),Z(_.x+_.width),Z(_.y+_.height)].join(" ")+"]"}),F.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var st=_.pages[1].join(`
`);wa({data:st,additionalKeyValues:F,objectId:_.objectNumber}),ot("endobj")},Tr=function(){for(var _ in Mn)Mn.hasOwnProperty(_)&&Ga(Mn[_])},io=function(_,F){var st,pt=[],_t=1/(F-1);for(st=0;st<1;st+=_t)pt.push(st);if(pt.push(1),_[0].offset!=0){var Ft={offset:0,color:_[0].color};_.unshift(Ft)}if(_[_.length-1].offset!=1){var Yt={offset:1,color:_[_.length-1].color};_.push(Yt)}for(var ae="",de=0,De=0;De<pt.length;De++){for(st=pt[De];st>_[de+1].offset;)de++;var Me=_[de].offset,Ke=(st-Me)/(_[de+1].offset-Me),Fi=_[de].color,Hi=_[de+1].color;ae+=at(Math.round((1-Ke)*Fi[0]+Ke*Hi[0]).toString(16))+at(Math.round((1-Ke)*Fi[1]+Ke*Hi[1]).toString(16))+at(Math.round((1-Ke)*Fi[2]+Ke*Hi[2]).toString(16))}return ae.trim()},pn=function(_,F){F||(F=21);var st=dn(),pt=io(_.colors,F),_t=[];_t.push({key:"FunctionType",value:"0"}),_t.push({key:"Domain",value:"[0.0 1.0]"}),_t.push({key:"Size",value:"["+F+"]"}),_t.push({key:"BitsPerSample",value:"8"}),_t.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_t.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),wa({data:pt,additionalKeyValues:_t,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:st}),ot("endobj"),_.objectNumber=dn(),ot("<< /ShadingType "+_.type),ot("/ColorSpace /DeviceRGB");var Ft="/Coords ["+Z(parseFloat(_.coords[0]))+" "+Z(parseFloat(_.coords[1]))+" ";_.type===2?Ft+=Z(parseFloat(_.coords[2]))+" "+Z(parseFloat(_.coords[3])):Ft+=Z(parseFloat(_.coords[2]))+" "+Z(parseFloat(_.coords[3]))+" "+Z(parseFloat(_.coords[4]))+" "+Z(parseFloat(_.coords[5])),ot(Ft+="]"),_.matrix&&ot("/Matrix ["+_.matrix.toString()+"]"),ot("/Function "+st+" 0 R"),ot("/Extend [true true]"),ot(">>"),ot("endobj")},fp=function(_,F){var st=sn(),pt=dn();F.push({resourcesOid:st,objectOid:pt}),_.objectNumber=pt;var _t=[];_t.push({key:"Type",value:"/Pattern"}),_t.push({key:"PatternType",value:"1"}),_t.push({key:"PaintType",value:"1"}),_t.push({key:"TilingType",value:"1"}),_t.push({key:"BBox",value:"["+_.boundingBox.map(Z).join(" ")+"]"}),_t.push({key:"XStep",value:Z(_.xStep)}),_t.push({key:"YStep",value:Z(_.yStep)}),_t.push({key:"Resources",value:st+" 0 R"}),_.matrix&&_t.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),wa({data:_.stream,additionalKeyValues:_t,objectId:_.objectNumber}),ot("endobj")},Ql=function(_){var F;for(F in pi)pi.hasOwnProperty(F)&&(pi[F]instanceof $f?pn(pi[F]):pi[F]instanceof ug&&fp(pi[F],_))},Rr=function(_){for(var F in _.objectNumber=dn(),ot("<<"),_)switch(F){case"opacity":ot("/ca "+ft(_[F]));break;case"stroke-opacity":ot("/CA "+ft(_[F]))}ot(">>"),ot("endobj")},$o=function(){var _;for(_ in Ki)Ki.hasOwnProperty(_)&&Rr(Ki[_])},Js=function(){for(var _ in ot("/XObject <<"),Mn)Mn.hasOwnProperty(_)&&Mn[_].objectNumber>=0&&ot("/"+_+" "+Mn[_].objectNumber+" 0 R");Je.publish("putXobjectDict"),ot(">>")},N1=function(){kn.oid=dn(),ot("<<"),ot("/Filter /Standard"),ot("/V "+kn.v),ot("/R "+kn.r),ot("/U <"+kn.toHexString(kn.U)+">"),ot("/O <"+kn.toHexString(kn.O)+">"),ot("/P "+kn.P),ot(">>"),ot("endobj")},rf=function(){for(var _ in ot("/Font <<"),wi)wi.hasOwnProperty(_)&&(y===!1||y===!0&&A.hasOwnProperty(_))&&ot("/"+_+" "+wi[_].objectNumber+" 0 R");ot(">>")},dp=function(){if(Object.keys(pi).length>0){for(var _ in ot("/Shading <<"),pi)pi.hasOwnProperty(_)&&pi[_]instanceof $f&&pi[_].objectNumber>=0&&ot("/"+_+" "+pi[_].objectNumber+" 0 R");Je.publish("putShadingPatternDict"),ot(">>")}},mc=function(_){if(Object.keys(pi).length>0){for(var F in ot("/Pattern <<"),pi)pi.hasOwnProperty(F)&&pi[F]instanceof b.TilingPattern&&pi[F].objectNumber>=0&&pi[F].objectNumber<_&&ot("/"+F+" "+pi[F].objectNumber+" 0 R");Je.publish("putTilingPatternDict"),ot(">>")}},vc=function(){if(Object.keys(Ki).length>0){var _;for(_ in ot("/ExtGState <<"),Ki)Ki.hasOwnProperty(_)&&Ki[_].objectNumber>=0&&ot("/"+_+" "+Ki[_].objectNumber+" 0 R");Je.publish("putGStateDict"),ot(">>")}},Oi=function(_){Ks(_.resourcesOid,!0),ot("<<"),ot("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),rf(),dp(),mc(_.objectOid),vc(),Js(),ot(">>"),ot("endobj")},Sa=function(){var _=[];Aa(),$o(),Tr(),Ql(_),Je.publish("putResources"),_.forEach(Oi),Oi({resourcesOid:Pi,objectOid:Number.MAX_SAFE_INTEGER}),Je.publish("postPutResources")},ps=function(){Je.publish("putAdditionalObjects");for(var _=0;_<Ut.length;_++){var F=Ut[_];Ks(F.objId,!0),ot(F.content),ot("endobj")}Je.publish("postPutAdditionalObjects")},of=function(_){ui[_.fontName]=ui[_.fontName]||{},ui[_.fontName][_.fontStyle]=_.id},lf=function(_,F,st,pt,_t){var Ft={id:"F"+(Object.keys(wi).length+1).toString(10),postScriptName:_,fontName:F,fontStyle:st,encoding:pt,isStandardFont:_t||!1,metadata:{}};return Je.publish("addFont",{font:Ft,instance:this}),wi[Ft.id]=Ft,of(Ft),Ft.id},bc=function(_){for(var F=0,st=$t.length;F<st;F++){var pt=lf.call(this,_[F][0],_[F][1],_[F][2],$t[F][3],!0);y===!1&&(A[pt]=!0);var _t=_[F][0].split("-");of({id:pt,fontName:_t[0],fontStyle:_t[1]||""})}Je.publish("addFonts",{fonts:wi,dictionary:ui})},_a=function(_){return _.foo=function(){try{return _.apply(this,arguments)}catch(pt){var F=pt.stack||"";~F.indexOf(" at ")&&(F=F.split(" at ")[1]);var st="Error in function "+F.split(`
`)[0].split("<")[0]+": "+pt.message;if(!Te.console)throw new Error(st);Te.console.error(st,pt),Te.alert&&alert(st)}},_.foo.bar=_,_.foo},no=function(_,F){var st,pt,_t,Ft,Yt,ae,de,De,Me;if(_t=(F=F||{}).sourceEncoding||"Unicode",Yt=F.outputEncoding,(F.autoencode||Yt)&&wi[He].metadata&&wi[He].metadata[_t]&&wi[He].metadata[_t].encoding&&(Ft=wi[He].metadata[_t].encoding,!Yt&&wi[He].encoding&&(Yt=wi[He].encoding),!Yt&&Ft.codePages&&(Yt=Ft.codePages[0]),typeof Yt=="string"&&(Yt=Ft[Yt]),Yt)){for(de=!1,ae=[],st=0,pt=_.length;st<pt;st++)(De=Yt[_.charCodeAt(st)])?ae.push(String.fromCharCode(De)):ae.push(_[st]),ae[st].charCodeAt(0)>>8&&(de=!0);_=ae.join("")}for(st=_.length;de===void 0&&st!==0;)_.charCodeAt(st-1)>>8&&(de=!0),st--;if(!de)return _;for(ae=F.noBOM?[]:[254,255],st=0,pt=_.length;st<pt;st++){if((Me=(De=_.charCodeAt(st))>>8)>>8)throw new Error("Character at position "+st+" of string '"+_+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ae.push(Me),ae.push(De-(Me<<8))}return String.fromCharCode.apply(void 0,ae)},Ms=b.__private__.pdfEscape=b.pdfEscape=function(_,F){return no(_,F).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Jn=b.__private__.beginPage=function(_){Vt[++bi]=[],Ce[bi]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},wc(bi),Ot(Vt[V])},yc=function(_,F){var st,pt,_t;switch(e=F||e,typeof _=="string"&&(st=L(_.toLowerCase()),Array.isArray(st)&&(pt=st[0],_t=st[1])),Array.isArray(_)&&(pt=_[0]*re,_t=_[1]*re),isNaN(pt)&&(pt=s[0],_t=s[1]),(pt>14400||_t>14400)&&(ki.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),pt=Math.min(14400,pt),_t=Math.min(14400,_t)),s=[pt,_t],e.substr(0,1)){case"l":_t>pt&&(s=[_t,pt]);break;case"p":pt>_t&&(s=[_t,pt])}Jn(s),wp(Jo),ot(Xa),df!==0&&ot(df+" J"),Cc!==0&&ot(Cc+" j"),Je.publish("addPage",{pageNumber:bi})},pp=function(_){_>0&&_<=bi&&(Vt.splice(_,1),Ce.splice(_,1),bi--,V>bi&&(V=bi),this.setPage(V))},wc=function(_){_>0&&_<=bi&&(V=_)},Ko=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return Vt.length-1},uf=function(_,F,st){var pt,_t=void 0;return st=st||{},_=_!==void 0?_:wi[He].fontName,F=F!==void 0?F:wi[He].fontStyle,pt=_.toLowerCase(),ui[pt]!==void 0&&ui[pt][F]!==void 0?_t=ui[pt][F]:ui[_]!==void 0&&ui[_][F]!==void 0?_t=ui[_][F]:st.disableWarning===!1&&ki.warn("Unable to look up font label for font '"+_+"', '"+F+"'. Refer to getFontList() for available fonts."),_t||st.noFallback||(_t=ui.times[F])==null&&(_t=ui.times.normal),_t},gp=b.__private__.putInfo=function(){var _=dn(),F=function(pt){return pt};for(var st in m!==null&&(F=kn.encryptor(_,0)),ot("<<"),ot("/Producer ("+Ms(F("jsPDF "+Ne.version))+")"),Le)Le.hasOwnProperty(st)&&Le[st]&&ot("/"+st.substr(0,1).toUpperCase()+st.substr(1)+" ("+Ms(F(Le[st]))+")");ot("/CreationDate ("+Ms(F(Tt))+")"),ot(">>"),ot("endobj")},Mr=b.__private__.putCatalog=function(_){var F=(_=_||{}).rootDictionaryObjId||Di;switch(dn(),ot("<<"),ot("/Type /Catalog"),ot("/Pages "+F+" 0 R"),ne||(ne="fullwidth"),ne){case"fullwidth":ot("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ot("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ot("/OpenAction [3 0 R /Fit]");break;case"original":ot("/OpenAction [3 0 R /XYZ null null 1]");break;default:var st=""+ne;st.substr(st.length-1)==="%"&&(ne=parseInt(ne)/100),typeof ne=="number"&&ot("/OpenAction [3 0 R /XYZ null null "+ft(ne)+"]")}switch(ze||(ze="continuous"),ze){case"continuous":ot("/PageLayout /OneColumn");break;case"single":ot("/PageLayout /SinglePage");break;case"two":case"twoleft":ot("/PageLayout /TwoColumnLeft");break;case"tworight":ot("/PageLayout /TwoColumnRight")}Ae&&ot("/PageMode /"+Ae),Je.publish("putCatalog"),ot(">>"),ot("endobj")},L1=b.__private__.putTrailer=function(){ot("trailer"),ot("<<"),ot("/Size "+(ut+1)),ot("/Root "+ut+" 0 R"),ot("/Info "+(ut-1)+" 0 R"),m!==null&&ot("/Encrypt "+kn.oid+" 0 R"),ot("/ID [ <"+it+"> <"+it+"> ]"),ot(">>")},mp=b.__private__.putHeader=function(){ot("%PDF-"+N),ot("%")},vp=b.__private__.putXRef=function(){var _="0000000000";ot("xref"),ot("0 "+(ut+1)),ot("0000000000 65535 f ");for(var F=1;F<=ut;F++)typeof bt[F]=="function"?ot((_+bt[F]()).slice(-10)+" 00000 n "):bt[F]!==void 0?ot((_+bt[F]).slice(-10)+" 00000 n "):ot("0000000000 00000 n ")},Va=b.__private__.buildDocument=function(){ve(),Ot(At),Je.publish("buildDocument"),mp(),Ha(),ps(),Sa(),m!==null&&N1(),gp(),Mr();var _=Et;return vp(),L1(),ot("startxref"),ot(""+_),ot("%%EOF"),Ot(Vt[V]),At.join(`
`)},Ac=b.__private__.getBlob=function(_){return new Blob([ue(_)],{type:"application/pdf"})},Sc=b.output=b.__private__.output=_a(function(_,F){switch(typeof(F=F||{})=="string"?F={filename:F}:F.filename=F.filename||"generated.pdf",_){case void 0:return Va();case"save":b.save(F.filename);break;case"arraybuffer":return ue(Va());case"blob":return Ac(Va());case"bloburi":case"bloburl":if(Te.URL!==void 0&&typeof Te.URL.createObjectURL=="function")return Te.URL&&Te.URL.createObjectURL(Ac(Va()))||void 0;ki.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var st="",pt=Va();try{st=Zy(pt)}catch{st=Zy(unescape(encodeURIComponent(pt)))}return"data:application/pdf;filename="+F.filename+";base64,"+st;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Te)==="[object Window]"){var _t="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ft=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';F.pdfObjectUrl&&(_t=F.pdfObjectUrl,Ft="");var Yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+_t+'"'+Ft+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(F)+");<\/script></body></html>",ae=Te.open();return ae!==null&&ae.document.write(Yt),ae}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Te)==="[object Window]"){var de='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(F.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+F.filename+'" width="500px" height="400px" /></body></html>',De=Te.open();if(De!==null){De.document.write(de);var Me=this;De.document.documentElement.querySelector("#pdfViewer").onload=function(){De.document.title=F.filename,De.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Me.output("bloburl"))}}return De}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Te)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",F)+'"></iframe></body></html>',Fi=Te.open();if(Fi!==null&&(Fi.document.write(Ke),Fi.document.title=F.filename),Fi||typeof safari>"u")return Fi;break;case"datauri":case"dataurl":return Te.document.location.href=this.output("datauristring",F);default:return null}}),Zl=function(_){return Array.isArray(Kl)===!0&&Kl.indexOf(_)>-1};switch(i){case"pt":re=1;break;case"mm":re=72/25.4;break;case"cm":re=72/2.54;break;case"in":re=72;break;case"px":re=Zl("px_scaling")==1?.75:96/72;break;case"pc":case"em":re=12;break;case"ex":re=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);re=i}var kn=null;St(),dt();var cf=function(_){return m!==null?kn.encryptor(_,0):function(F){return F}},so=b.__private__.getPageInfo=b.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ce[_].objId,pageNumber:_,pageContext:Ce[_]}},_e=b.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var F in Ce)if(Ce[F].objId===_)break;return so(F)},bp=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:Ce[V].objId,pageNumber:V,pageContext:Ce[V]}};b.addPage=function(){return yc.apply(this,arguments),this},b.setPage=function(){return wc.apply(this,arguments),Ot.call(this,Vt[V]),this},b.insertPage=function(_){return this.addPage(),this.movePage(V,_),this},b.movePage=function(_,F){var st,pt;if(_>F){st=Vt[_],pt=Ce[_];for(var _t=_;_t>F;_t--)Vt[_t]=Vt[_t-1],Ce[_t]=Ce[_t-1];Vt[F]=st,Ce[F]=pt,this.setPage(F)}else if(_<F){st=Vt[_],pt=Ce[_];for(var Ft=_;Ft<F;Ft++)Vt[Ft]=Vt[Ft+1],Ce[Ft]=Ce[Ft+1];Vt[F]=st,Ce[F]=pt,this.setPage(F)}return this},b.deletePage=function(){return pp.apply(this,arguments),this},b.__private__.text=b.text=function(_,F,st,pt,_t){var Ft,Yt,ae,de,De,Me,Ke,Fi,Hi,an=(pt=pt||{}).scope||this;if(typeof _=="number"&&typeof F=="number"&&(typeof st=="string"||Array.isArray(st))){var rn=st;st=F,F=_,_=rn}if(arguments[3]instanceof be?(Q("The transform parameter of text() with a Matrix value"),Hi=_t):(ae=arguments[4],de=arguments[5],xi(Ke=arguments[3])==="object"&&Ke!==null||(typeof ae=="string"&&(de=ae,ae=null),typeof Ke=="string"&&(de=Ke,Ke=null),typeof Ke=="number"&&(ae=Ke,Ke=null),pt={flags:Ke,angle:ae,align:de})),isNaN(F)||isNaN(st)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return an;var Dn="",Wa=!1,ia=typeof pt.lineHeightFactor=="number"?pt.lineHeightFactor:ta,$a=an.internal.scaleFactor;function vf(Ve){return Ve=Ve.split("	").join(Array(pt.TabLen||9).join(" ")),Ms(Ve,Ke)}function ro(Ve){for(var ci,Vi=Ve.concat(),Zi=[],Na=Vi.length;Na--;)typeof(ci=Vi.shift())=="string"?Zi.push(ci):Array.isArray(Ve)&&(ci.length===1||ci[1]===void 0&&ci[2]===void 0)?Zi.push(ci[0]):Zi.push([ci[0],ci[1],ci[2]]);return Zi}function oo(Ve,ci){var Vi;if(typeof Ve=="string")Vi=ci(Ve)[0];else if(Array.isArray(Ve)){for(var Zi,Na,ou=Ve.concat(),aa=[],Af=ou.length;Af--;)typeof(Zi=ou.shift())=="string"?aa.push(ci(Zi)[0]):Array.isArray(Zi)&&typeof Zi[0]=="string"&&(Na=ci(Zi[0],Zi[1],Zi[2]),aa.push([Na[0],Na[1],Na[2]]));Vi=aa}return Vi}var Dc=!1,nl=!0;if(typeof _=="string")Dc=!0;else if(Array.isArray(_)){var Pc=_.concat();Yt=[];for(var iu,An=Pc.length;An--;)(typeof(iu=Pc.shift())!="string"||Array.isArray(iu)&&typeof iu[0]!="string")&&(nl=!1);Dc=nl}if(Dc===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var sl=te/an.internal.scaleFactor,nu=sl*(ia-1);switch(pt.baseline){case"bottom":st-=nu;break;case"top":st+=sl-nu;break;case"hanging":st+=sl-2*nu;break;case"middle":st+=sl/2-nu}if((Me=pt.maxWidth||0)>0&&(typeof _=="string"?_=an.splitTextToSize(_,Me):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(Ve,ci){return Ve.concat(an.splitTextToSize(ci,Me))},[]))),Ft={text:_,x:F,y:st,options:pt,mutex:{pdfEscape:Ms,activeFontKey:He,fonts:wi,activeFontSize:te}},Je.publish("preProcessText",Ft),_=Ft.text,ae=(pt=Ft.options).angle,!(Hi instanceof be)&&ae&&typeof ae=="number"){ae*=Math.PI/180,pt.rotationDirection===0&&(ae=-ae),k===R.ADVANCED&&(ae=-ae);var su=Math.cos(ae),Oc=Math.sin(ae);Hi=new be(su,Oc,-Oc,su,0,0)}else ae&&ae instanceof be&&(Hi=ae);k!==R.ADVANCED||Hi||(Hi=qa),(De=pt.charSpace||Lc)!==void 0&&(Dn+=Z(W(De))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Fi=pt.horizontalScale)!==void 0&&(Dn+=Z(100*Fi)+` Tz
`),pt.lang;var ks=-1,k1=pt.renderingMode!==void 0?pt.renderingMode:pt.stroke,bf=an.internal.getCurrentPageInfo().pageContext;switch(k1){case 0:case!1:case"fill":ks=0;break;case 1:case!0:case"stroke":ks=1;break;case 2:case"fillThenStroke":ks=2;break;case 3:case"invisible":ks=3;break;case 4:case"fillAndAddForClipping":ks=4;break;case 5:case"strokeAndAddPathForClipping":ks=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ks=6;break;case 7:case"addToPathForClipping":ks=7}var Sp=bf.usedRenderingMode!==void 0?bf.usedRenderingMode:-1;ks!==-1?Dn+=ks+` Tr
`:Sp!==-1&&(Dn+=`0 Tr
`),ks!==-1&&(bf.usedRenderingMode=ks),de=pt.align||"left";var Ea,Pn=te*ia,al=an.internal.pageSize.getWidth(),yf=wi[He];De=pt.charSpace||Lc,Me=pt.maxWidth||0,Ke=Object.assign({autoencode:!0,noBOM:!0},pt.flags);var lo=[],rl=function(Ve){return an.getStringUnitWidth(Ve,{font:yf,charSpace:De,fontSize:te,doKerning:!1})*te/$a};if(Object.prototype.toString.call(_)==="[object Array]"){var gs;Yt=ro(_),de!=="left"&&(Ea=Yt.map(rl));var qn,ol=0;if(de==="right"){F-=Ea[0],_=[],An=Yt.length;for(var uo=0;uo<An;uo++)uo===0?(qn=ea(F),gs=Or(st)):(qn=W(ol-Ea[uo]),gs=-Pn),_.push([Yt[uo],qn,gs]),ol=Ea[uo]}else if(de==="center"){F-=Ea[0]/2,_=[],An=Yt.length;for(var Ds=0;Ds<An;Ds++)Ds===0?(qn=ea(F),gs=Or(st)):(qn=W((ol-Ea[Ds])/2),gs=-Pn),_.push([Yt[Ds],qn,gs]),ol=Ea[Ds]}else if(de==="left"){_=[],An=Yt.length;for(var ll=0;ll<An;ll++)_.push(Yt[ll])}else if(de==="justify"&&yf.encoding==="Identity-H"){_=[],An=Yt.length,Me=Me!==0?Me:al;for(var na=0,Gi=0;Gi<An;Gi++)if(gs=Gi===0?Or(st):-Pn,qn=Gi===0?ea(F):na,Gi<An-1){var Fc=W((Me-Ea[Gi])/(Yt[Gi].split(" ").length-1)),on=Yt[Gi].split(" ");_.push([on[0]+" ",qn,gs]),na=0;for(var Un=1;Un<on.length;Un++){var ul=(rl(on[Un-1]+" "+on[Un])-rl(on[Un]))*$a+Fc;Un==on.length-1?_.push([on[Un],ul,0]):_.push([on[Un]+" ",ul,0]),na-=ul}}else _.push([Yt[Gi],qn,gs]);_.push(["",na,0])}else{if(de!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],An=Yt.length,Me=Me!==0?Me:al,Gi=0;Gi<An;Gi++)gs=Gi===0?Or(st):-Pn,qn=Gi===0?ea(F):0,Gi<An-1?lo.push(Z(W((Me-Ea[Gi])/(Yt[Gi].split(" ").length-1)))):lo.push(0),_.push([Yt[Gi],qn,gs])}}var wf=typeof pt.R2L=="boolean"?pt.R2L:me;wf===!0&&(_=oo(_,function(Ve,ci,Vi){return[Ve.split("").reverse().join(""),ci,Vi]})),Ft={text:_,x:F,y:st,options:pt,mutex:{pdfEscape:Ms,activeFontKey:He,fonts:wi,activeFontSize:te}},Je.publish("postProcessText",Ft),_=Ft.text,Wa=Ft.mutex.isHex||!1;var Ka=wi[He].encoding;Ka!=="WinAnsiEncoding"&&Ka!=="StandardEncoding"||(_=oo(_,function(Ve,ci,Vi){return[vf(Ve),ci,Vi]})),Yt=ro(_),_=[];for(var cl,hl,co,au=0,Ic=1,ru=Array.isArray(Yt[0])?Ic:au,ho="",Bc=function(Ve,ci,Vi){var Zi="";return Vi instanceof be?(Vi=typeof pt.angle=="number"?za(Vi,new be(1,0,0,1,Ve,ci)):za(new be(1,0,0,1,Ve,ci),Vi),k===R.ADVANCED&&(Vi=za(new be(1,0,0,-1,0,0),Vi)),Zi=Vi.join(" ")+` Tm
`):Zi=Z(Ve)+" "+Z(ci)+` Td
`,Zi},sa=0;sa<Yt.length;sa++){switch(ho="",ru){case Ic:co=(Wa?"<":"(")+Yt[sa][0]+(Wa?">":")"),cl=parseFloat(Yt[sa][1]),hl=parseFloat(Yt[sa][2]);break;case au:co=(Wa?"<":"(")+Yt[sa]+(Wa?">":")"),cl=ea(F),hl=Or(st)}lo!==void 0&&lo[sa]!==void 0&&(ho=lo[sa]+` Tw
`),sa===0?_.push(ho+Bc(cl,hl,Hi)+co):ru===au?_.push(ho+co):ru===Ic&&_.push(ho+Bc(cl,hl,Hi)+co)}_=ru===au?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var Qi=`BT
/`;return Qi+=He+" "+te+` Tf
`,Qi+=Z(te*ia)+` TL
`,Qi+=tu+`
`,Qi+=Dn,Qi+=_,ot(Qi+="ET"),A[He]=!0,an};var hf=b.__private__.clip=b.clip=function(_){return ot(_==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return hf("evenodd")},b.__private__.discardPath=b.discardPath=function(){return ot("n"),this};var Ya=b.__private__.isValidStyle=function(_){var F=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(F=!0),F};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(_){return Ya(_)&&(p=_),this};var Qo=b.__private__.getStyle=b.getStyle=function(_){var F=p;switch(_){case"D":case"S":F="S";break;case"F":F="f";break;case"FD":case"DF":F="B";break;case"f":case"f*":case"B":case"B*":F=_}return F},_c=b.close=function(){return ot("h"),this};b.stroke=function(){return ot("S"),this},b.fill=function(_){return kr("f",_),this},b.fillEvenOdd=function(_){return kr("f*",_),this},b.fillStroke=function(_){return kr("B",_),this},b.fillStrokeEvenOdd=function(_){return kr("B*",_),this};var kr=function(_,F){xi(F)==="object"?xc(F,_):ot(_)},xa=function(_){_===null||k===R.ADVANCED&&_===void 0||(_=Qo(_),ot(_))};function ff(_,F,st,pt,_t){var Ft=new ug(F||this.boundingBox,st||this.xStep,pt||this.yStep,this.gState,_t||this.matrix);Ft.stream=this.stream;var Yt=_+"$$"+this.cloneIndex+++"$$";return ds(Yt,Ft),Ft}var xc=function(_,F){var st=$l[_.key],pt=pi[st];if(pt instanceof $f)ot("q"),ot(yp(F)),pt.gState&&b.setGState(pt.gState),ot(_.matrix.toString()+" cm"),ot("/"+st+" sh"),ot("Q");else if(pt instanceof ug){var _t=new be(1,0,0,-1,0,il());_.matrix&&(_t=_t.multiply(_.matrix||qa),st=ff.call(pt,_.key,_.boundingBox,_.xStep,_.yStep,_t).id),ot("q"),ot("/Pattern cs"),ot("/"+st+" scn"),pt.gState&&b.setGState(pt.gState),ot(F),ot("Q")}},yp=function(_){switch(_){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Zo=b.moveTo=function(_,F){return ot(Z(W(_))+" "+Z(nt(F))+" m"),this},Dr=b.lineTo=function(_,F){return ot(Z(W(_))+" "+Z(nt(F))+" l"),this},ao=b.curveTo=function(_,F,st,pt,_t,Ft){return ot([Z(W(_)),Z(nt(F)),Z(W(st)),Z(nt(pt)),Z(W(_t)),Z(nt(Ft)),"c"].join(" ")),this};b.__private__.line=b.line=function(_,F,st,pt,_t){if(isNaN(_)||isNaN(F)||isNaN(st)||isNaN(pt)||!Ya(_t))throw new Error("Invalid arguments passed to jsPDF.line");return k===R.COMPAT?this.lines([[st-_,pt-F]],_,F,[1,1],_t||"S"):this.lines([[st-_,pt-F]],_,F,[1,1]).stroke()},b.__private__.lines=b.lines=function(_,F,st,pt,_t,Ft){var Yt,ae,de,De,Me,Ke,Fi,Hi,an,rn,Dn,Wa;if(typeof _=="number"&&(Wa=st,st=F,F=_,_=Wa),pt=pt||[1,1],Ft=Ft||!1,isNaN(F)||isNaN(st)||!Array.isArray(_)||!Array.isArray(pt)||!Ya(_t)||typeof Ft!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Zo(F,st),Yt=pt[0],ae=pt[1],De=_.length,rn=F,Dn=st,de=0;de<De;de++)(Me=_[de]).length===2?(rn=Me[0]*Yt+rn,Dn=Me[1]*ae+Dn,Dr(rn,Dn)):(Ke=Me[0]*Yt+rn,Fi=Me[1]*ae+Dn,Hi=Me[2]*Yt+rn,an=Me[3]*ae+Dn,rn=Me[4]*Yt+rn,Dn=Me[5]*ae+Dn,ao(Ke,Fi,Hi,an,rn,Dn));return Ft&&_c(),xa(_t),this},b.path=function(_){for(var F=0;F<_.length;F++){var st=_[F],pt=st.c;switch(st.op){case"m":Zo(pt[0],pt[1]);break;case"l":Dr(pt[0],pt[1]);break;case"c":ao.apply(this,pt);break;case"h":_c()}}return this},b.__private__.rect=b.rect=function(_,F,st,pt,_t){if(isNaN(_)||isNaN(F)||isNaN(st)||isNaN(pt)||!Ya(_t))throw new Error("Invalid arguments passed to jsPDF.rect");return k===R.COMPAT&&(pt=-pt),ot([Z(W(_)),Z(nt(F)),Z(W(st)),Z(W(pt)),"re"].join(" ")),xa(_t),this},b.__private__.triangle=b.triangle=function(_,F,st,pt,_t,Ft,Yt){if(isNaN(_)||isNaN(F)||isNaN(st)||isNaN(pt)||isNaN(_t)||isNaN(Ft)||!Ya(Yt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[st-_,pt-F],[_t-st,Ft-pt],[_-_t,F-Ft]],_,F,[1,1],Yt,!0),this},b.__private__.roundedRect=b.roundedRect=function(_,F,st,pt,_t,Ft,Yt){if(isNaN(_)||isNaN(F)||isNaN(st)||isNaN(pt)||isNaN(_t)||isNaN(Ft)||!Ya(Yt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ae=4/3*(Math.SQRT2-1);return _t=Math.min(_t,.5*st),Ft=Math.min(Ft,.5*pt),this.lines([[st-2*_t,0],[_t*ae,0,_t,Ft-Ft*ae,_t,Ft],[0,pt-2*Ft],[0,Ft*ae,-_t*ae,Ft,-_t,Ft],[2*_t-st,0],[-_t*ae,0,-_t,-Ft*ae,-_t,-Ft],[0,2*Ft-pt],[0,-Ft*ae,_t*ae,-Ft,_t,-Ft]],_+_t,F,[1,1],Yt,!0),this},b.__private__.ellipse=b.ellipse=function(_,F,st,pt,_t){if(isNaN(_)||isNaN(F)||isNaN(st)||isNaN(pt)||!Ya(_t))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ft=4/3*(Math.SQRT2-1)*st,Yt=4/3*(Math.SQRT2-1)*pt;return Zo(_+st,F),ao(_+st,F-Yt,_+Ft,F-pt,_,F-pt),ao(_-Ft,F-pt,_-st,F-Yt,_-st,F),ao(_-st,F+Yt,_-Ft,F+pt,_,F+pt),ao(_+Ft,F+pt,_+st,F+Yt,_+st,F),xa(_t),this},b.__private__.circle=b.circle=function(_,F,st,pt){if(isNaN(_)||isNaN(F)||isNaN(st)||!Ya(pt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,F,st,st,pt)},b.setFont=function(_,F,st){return st&&(F=tt(F,st)),He=uf(_,F,{disableWarning:!1}),this};var ts=b.__private__.getFont=b.getFont=function(){return wi[uf.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var _,F,st={};for(_ in ui)if(ui.hasOwnProperty(_))for(F in st[_]=[],ui[_])ui[_].hasOwnProperty(F)&&st[_].push(F);return st},b.addFont=function(_,F,st,pt,_t){var Ft=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ft.indexOf(arguments[3])!==-1?_t=arguments[3]:arguments[3]&&Ft.indexOf(arguments[3])==-1&&(st=tt(st,pt)),_t=_t||"Identity-H",lf.call(this,_,F,st,_t)};var ta,Jo=l.lineWidth||.200025,Pr=b.__private__.getLineWidth=b.getLineWidth=function(){return Jo},wp=b.__private__.setLineWidth=b.setLineWidth=function(_){return Jo=_,ot(Z(W(_))+" w"),this};b.__private__.setLineDash=Ne.API.setLineDash=Ne.API.setLineDashPattern=function(_,F){if(_=_||[],F=F||0,isNaN(F)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(st){return Z(W(st))}).join(" "),F=Z(W(F)),ot("["+_+"] "+F+" d"),this};var Ec=b.__private__.getLineHeight=b.getLineHeight=function(){return te*ta};b.__private__.getLineHeight=b.getLineHeight=function(){return te*ta};var Nc=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&(ta=_),this},tl=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return ta};Nc(l.lineHeight);var ea=b.__private__.getHorizontalCoordinate=function(_){return W(_)},Or=b.__private__.getVerticalCoordinate=function(_){return k===R.ADVANCED?_:Ce[V].mediaBox.topRightY-Ce[V].mediaBox.bottomLeftY-W(_)},C1=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(_){return Z(ea(_))},el=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(_){return Z(Or(_))},Xa=l.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return Zn(Xa)},b.__private__.setStrokeColor=b.setDrawColor=function(_,F,st,pt){return Xa=Zs({ch1:_,ch2:F,ch3:st,ch4:pt,pdfColorType:"draw",precision:2}),ot(Xa),this};var Jl=l.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return Zn(Jl)},b.__private__.setFillColor=b.setFillColor=function(_,F,st,pt){return Jl=Zs({ch1:_,ch2:F,ch3:st,ch4:pt,pdfColorType:"fill",precision:2}),ot(Jl),this};var tu=l.textColor||"0 g",T1=b.__private__.getTextColor=b.getTextColor=function(){return Zn(tu)};b.__private__.setTextColor=b.setTextColor=function(_,F,st,pt){return tu=Zs({ch1:_,ch2:F,ch3:st,ch4:pt,pdfColorType:"text",precision:3}),this};var Lc=l.charSpace,R1=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(Lc||0)};b.__private__.setCharSpace=b.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Lc=_,this};var df=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(_){var F=b.CapJoinStyles[_];if(F===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return df=F,ot(F+" J"),this};var Cc=0;b.__private__.setLineJoin=b.setLineJoin=function(_){var F=b.CapJoinStyles[_];if(F===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Cc=F,ot(F+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ot(Z(W(_))+" M"),this},b.GState=Av,b.setGState=function(_){(_=typeof _=="string"?Ki[Rs[_]]:Ap(null,_)).equals(ba)||(ot("/"+_.id+" gs"),ba=_)};var Ap=function(_,F){if(!_||!Rs[_]){var st=!1;for(var pt in Ki)if(Ki.hasOwnProperty(pt)&&Ki[pt].equals(F)){st=!0;break}if(st)F=Ki[pt];else{var _t="GS"+(Object.keys(Ki).length+1).toString(10);Ki[_t]=F,F.id=_t}return _&&(Rs[_]=F.id),Je.publish("addGState",F),F}};b.addGState=function(_,F){return Ap(_,F),this},b.saveGraphicsState=function(){return ot("q"),$i.push({key:He,size:te,color:tu}),this},b.restoreGraphicsState=function(){ot("Q");var _=$i.pop();return He=_.key,te=_.size,tu=_.color,ba=null,this},b.setCurrentTransformationMatrix=function(_){return ot(_.toString()+" cm"),this},b.comment=function(_){return ot("#"+_),this};var Tc=function(_,F){var st=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return st},set:function(Ft){isNaN(Ft)||(st=parseFloat(Ft))}});var pt=F||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return pt},set:function(Ft){isNaN(Ft)||(pt=parseFloat(Ft))}});var _t="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return _t},set:function(Ft){_t=Ft.toString()}}),this},pf=function(_,F,st,pt){Tc.call(this,_,F),this.type="rect";var _t=st||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return _t},set:function(Yt){isNaN(Yt)||(_t=parseFloat(Yt))}});var Ft=pt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ft},set:function(Yt){isNaN(Yt)||(Ft=parseFloat(Yt))}}),this},gf=function(){this.page=bi,this.currentPage=V,this.pages=Vt.slice(0),this.pagesContext=Ce.slice(0),this.x=Qn,this.y=Xe,this.matrix=Ui,this.width=eu(V),this.height=il(V),this.outputDestination=Qt,this.id="",this.objectNumber=-1};gf.prototype.restore=function(){bi=this.page,V=this.currentPage,Ce=this.pagesContext,Vt=this.pages,Qn=this.x,Xe=this.y,Ui=this.matrix,kc(V,this.width),mf(V,this.height),Qt=this.outputDestination};var Rc=function(_,F,st,pt,_t){ya.push(new gf),bi=V=0,Vt=[],Qn=_,Xe=F,Ui=_t,Jn([st,pt])},M1=function(_){if(ja[_])ya.pop().restore();else{var F=new gf,st="Xo"+(Object.keys(Mn).length+1).toString(10);F.id=st,ja[_]=st,Mn[st]=F,Je.publish("addFormObject",F),ya.pop().restore()}};for(var Mc in b.beginFormObject=function(_,F,st,pt,_t){return Rc(_,F,st,pt,_t),this},b.endFormObject=function(_){return M1(_),this},b.doFormObject=function(_,F){var st=Mn[ja[_]];return ot("q"),ot(F.toString()+" cm"),ot("/"+st.id+" Do"),ot("Q"),this},b.getFormObject=function(_){var F=Mn[ja[_]];return{x:F.x,y:F.y,width:F.width,height:F.height,matrix:F.matrix}},b.save=function(_,F){return _=_||"generated.pdf",(F=F||{}).returnPromise=F.returnPromise||!1,F.returnPromise===!1?(Vf(Ac(Va()),_),typeof Vf.unload=="function"&&Te.setTimeout&&setTimeout(Vf.unload,911),this):new Promise(function(st,pt){try{var _t=Vf(Ac(Va()),_);typeof Vf.unload=="function"&&Te.setTimeout&&setTimeout(Vf.unload,911),st(_t)}catch(Ft){pt(Ft.message)}})},Ne.API)Ne.API.hasOwnProperty(Mc)&&(Mc==="events"&&Ne.API.events.length?function(_,F){var st,pt,_t;for(_t=F.length-1;_t!==-1;_t--)st=F[_t][0],pt=F[_t][1],_.subscribe.apply(_,[st].concat(typeof pt=="function"?[pt]:pt))}(Je,Ne.API.events):b[Mc]=Ne.API[Mc]);var eu=b.getPageWidth=function(_){return(Ce[_=_||V].mediaBox.topRightX-Ce[_].mediaBox.bottomLeftX)/re},kc=b.setPageWidth=function(_,F){Ce[_].mediaBox.topRightX=F*re+Ce[_].mediaBox.bottomLeftX},il=b.getPageHeight=function(_){return(Ce[_=_||V].mediaBox.topRightY-Ce[_].mediaBox.bottomLeftY)/re},mf=b.setPageHeight=function(_,F){Ce[_].mediaBox.topRightY=F*re+Ce[_].mediaBox.bottomLeftY};return b.internal={pdfEscape:Ms,getStyle:Qo,getFont:ts,getFontSize:ee,getCharSpace:R1,getTextColor:T1,getLineHeight:Ec,getLineHeightFactor:tl,getLineWidth:Pr,write:Re,getHorizontalCoordinate:ea,getVerticalCoordinate:Or,getCoordinateString:C1,getVerticalCoordinateString:el,collections:{},newObject:dn,newAdditionalObject:Qs,newObjectDeferred:sn,newObjectDeferredBegin:Ks,getFilters:Cr,putStream:wa,events:Je,scaleFactor:re,pageSize:{getWidth:function(){return eu(V)},setWidth:function(_){kc(V,_)},getHeight:function(){return il(V)},setHeight:function(_){mf(V,_)}},encryptionOptions:m,encryption:kn,getEncryptor:cf,output:Sc,getNumberOfPages:Ko,pages:Vt,out:ot,f2:ft,f3:q,getPageInfo:so,getPageInfoByObjId:_e,getCurrentPageInfo:bp,getPDFVersion:E,Point:Tc,Rectangle:pf,Matrix:be,hasHotfix:Zl},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return eu(V)},set:function(_){kc(V,_)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return il(V)},set:function(_){mf(V,_)},enumerable:!0,configurable:!0}),bc.call(b,$t),He="F1",yc(s,e),Je.publish("initialized"),b}tg.prototype.lsbFirstWord=function(l){return String.fromCharCode(l>>0&255,l>>8&255,l>>16&255,l>>24&255)},tg.prototype.toHexString=function(l){return l.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},tg.prototype.hexToBytes=function(l){for(var t=[],e=0;e<l.length;e+=2)t.push(String.fromCharCode(parseInt(l.substr(e,2),16)));return t.join("")},tg.prototype.processOwnerPassword=function(l,t){return tw(Jy(t).substr(0,5),l)},tg.prototype.encryptor=function(l,t){var e=Jy(this.encryptionKey+String.fromCharCode(255&l,l>>8&255,l>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return tw(e,i)}},Av.prototype.equals=function(l){var t,e="id,objectNumber,equals";if(!l||xi(l)!==xi(this))return!1;var i=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!l.hasOwnProperty(t)||this[t]!==l[t])return!1;i++}for(t in l)l.hasOwnProperty(t)&&e.indexOf(t)<0&&i--;return i===0},Ne.API={events:[]},Ne.version="3.0.0";var wn=Ne.API,MA=1,up=function(l){return l.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Zp=function(l){return l.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Oe=function(l){return l.toFixed(2)},hh=function(l){return l.toFixed(5)};wn.__acroform__={};var Ba=function(l,t){l.prototype=Object.create(t.prototype),l.prototype.constructor=l},e4=function(l){return l*MA},xl=function(l){var t=new f_,e=fe.internal.getHeight(l)||0,i=fe.internal.getWidth(l)||0;return t.BBox=[0,0,Number(Oe(i)),Number(Oe(e))],t},BL=wn.__acroform__.setBit=function(l,t){if(l=l||0,t=t||0,isNaN(l)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return l|=1<<t},jL=wn.__acroform__.clearBit=function(l,t){if(l=l||0,t=t||0,isNaN(l)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return l&=~(1<<t)},zL=wn.__acroform__.getBit=function(l,t){if(isNaN(l)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(l&1<<t)==0?0:1},Ln=wn.__acroform__.getBitForPdf=function(l,t){if(isNaN(l)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return zL(l,t-1)},Cn=wn.__acroform__.setBitForPdf=function(l,t){if(isNaN(l)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return BL(l,t-1)},Tn=wn.__acroform__.clearBitForPdf=function(l,t){if(isNaN(l)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return jL(l,t-1)},qL=wn.__acroform__.calculateCoordinates=function(l,t){var e=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,s=l[0],r=l[1],o=l[2],c=l[3],h={};return h.lowerLeft_X=e(s)||0,h.lowerLeft_Y=i(r+c)||0,h.upperRight_X=e(s+o)||0,h.upperRight_Y=i(r)||0,[Number(Oe(h.lowerLeft_X)),Number(Oe(h.lowerLeft_Y)),Number(Oe(h.upperRight_X)),Number(Oe(h.upperRight_Y))]},UL=function(l){if(l.appearanceStreamContent)return l.appearanceStreamContent;if(l.V||l.DV){var t=[],e=l._V||l.DV,i=ew(l,e),s=l.scope.internal.getFont(l.fontName,l.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(l.scope.__private__.encodeColorString(l.color)),t.push("/"+s+" "+Oe(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var r=xl(l);return r.scope=l.scope,r.stream=t.join(`
`),r}},ew=function(l,t){var e=l.fontSize===0?l.maxFontSize:l.fontSize,i={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=l.multiline?s.map(function(q){return q.split(`
`)}):s.map(function(q){return[q]});var r=e,o=fe.internal.getHeight(l)||0;o=o<0?-o:o;var c=fe.internal.getWidth(l)||0;c=c<0?-c:c;var h=function(q,W,lt){if(q+1<s.length){var nt=W+" "+s[q+1][0];return L5(nt,l,lt).width<=c-4}return!1};r++;t:for(;r>0;){t="",r--;var p,m,y=L5("3",l,r).height,A=l.multiline?o-r:(o-y)/2,b=A+=2,N=0,E=0,T=0;if(r<=0){t=`(...) Tj
`,t+="% Width of Text: "+L5(t,l,r=12).width+", FieldWidth:"+c+`
`;break}for(var L="",R=0,k=0;k<s.length;k++)if(s.hasOwnProperty(k)){var j=!1;if(s[k].length!==1&&T!==s[k].length-1){if((y+2)*(R+2)+2>o)continue t;L+=s[k][T],j=!0,E=k,k--}else{L=(L+=s[k][T]+" ").substr(L.length-1)==" "?L.substr(0,L.length-1):L;var H=parseInt(k),tt=h(H,L,r),Z=k>=s.length-1;if(tt&&!Z){L+=" ",T=0;continue}if(tt||Z){if(Z)E=H;else if(l.multiline&&(y+2)*(R+2)+2>o)continue t}else{if(!l.multiline||(y+2)*(R+2)+2>o)continue t;E=H}}for(var Q="",et=N;et<=E;et++){var ft=s[et];if(l.multiline){if(et===E){Q+=ft[T]+" ",T=(T+1)%ft.length;continue}if(et===N){Q+=ft[ft.length-1]+" ";continue}}Q+=ft[0]+" "}switch(Q=Q.substr(Q.length-1)==" "?Q.substr(0,Q.length-1):Q,m=L5(Q,l,r).width,l.textAlign){case"right":p=c-m-2;break;case"center":p=(c-m)/2;break;case"left":default:p=2}t+=Oe(p)+" "+Oe(b)+` Td
`,t+="("+up(Q)+`) Tj
`,t+=-Oe(p)+` 0 Td
`,b=-(r+2),m=0,N=j?E:E+1,R++,L=""}break}return i.text=t,i.fontSize=r,i},L5=function(l,t,e){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(l,{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:s}},HL={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},GL=function(l,t){var e={type:"reference",object:l};t.internal.getPageInfo(l.page).pageContext.annotations.find(function(i){return i.type===e.type&&i.object===e.object})===void 0&&t.internal.getPageInfo(l.page).pageContext.annotations.push(e)},VL=function(l,t){for(var e in l)if(l.hasOwnProperty(e)){var i=e,s=l[e];t.internal.newObjectDeferredBegin(s.objId,!0),xi(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete l[i]}},YL=function(l,t){if(t.scope=l,l.internal!==void 0&&(l.internal.acroformPlugin===void 0||l.internal.acroformPlugin.isInitialized===!1)){if(Yo.FieldNum=0,l.internal.acroformPlugin=JSON.parse(JSON.stringify(HL)),l.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");MA=l.internal.scaleFactor,l.internal.acroformPlugin.acroFormDictionaryRoot=new d_,l.internal.acroformPlugin.acroFormDictionaryRoot.scope=l,l.internal.acroformPlugin.acroFormDictionaryRoot._eventID=l.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(l)}),l.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in i)if(i.hasOwnProperty(s)){var r=i[s];r.objId=void 0,r.hasAnnotation&&GL(r,e)}})(l)}),l.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(l)}),l.internal.events.subscribe("postPutPages",function(e){(function(i,s){var r=!i;for(var o in i||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(o)){var c=i[o],h=[],p=c.Rect;if(c.Rect&&(c.Rect=qL(c.Rect,s)),s.internal.newObjectDeferredBegin(c.objId,!0),c.DA=fe.createDefaultAppearanceStream(c),xi(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(h=c.getKeyValueListForStream()),c.Rect=p,c.hasAppearanceStream&&!c.appearanceStreamContent){var m=UL(c);h.push({key:"AP",value:"<</N "+m+">>"}),s.internal.acroformPlugin.xForms.push(m)}if(c.appearanceStreamContent){var y="";for(var A in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(A)){var b=c.appearanceStreamContent[A];if(y+="/"+A+" ",y+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var o in b)if(b.hasOwnProperty(o)){var N=b[o];typeof N=="function"&&(N=N.call(s,c)),y+="/"+o+" "+N+" ",s.internal.acroformPlugin.xForms.indexOf(N)>=0||s.internal.acroformPlugin.xForms.push(N)}}else typeof(N=b)=="function"&&(N=N.call(s,c)),y+="/"+o+" "+N,s.internal.acroformPlugin.xForms.indexOf(N)>=0||s.internal.acroformPlugin.xForms.push(N);y+=">>"}h.push({key:"AP",value:`<<
`+y+">>"})}s.internal.putStream({additionalKeyValues:h,objectId:c.objId}),s.internal.out("endobj")}r&&VL(s.internal.acroformPlugin.xForms,s)})(e,l)}),l.internal.acroformPlugin.isInitialized=!0}},h_=wn.__acroform__.arrayToPdfArray=function(l,t,e){var i=function(o){return o};if(Array.isArray(l)){for(var s="[",r=0;r<l.length;r++)switch(r!==0&&(s+=" "),xi(l[r])){case"boolean":case"number":case"object":s+=l[r].toString();break;case"string":l[r].substr(0,1)!=="/"?(t!==void 0&&e&&(i=e.internal.getEncryptor(t)),s+="("+up(i(l[r].toString()))+")"):s+=l[r].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},ky=function(l,t,e){var i=function(s){return s};return t!==void 0&&e&&(i=e.internal.getEncryptor(t)),(l=l||"").toString(),l="("+up(i(l))+")"},Ul=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(l){this._objId=l}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ul.prototype.toString=function(){return this.objId+" 0 R"},Ul.prototype.putStream=function(){var l=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:l,objectId:this.objId}),this.scope.internal.out("endobj")},Ul.prototype.getKeyValueListForStream=function(){var l=[],t=Object.getOwnPropertyNames(this).filter(function(r){return r!="content"&&r!="appearanceStreamContent"&&r!="scope"&&r!="objId"&&r.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var i=t[e],s=this[i];s&&(Array.isArray(s)?l.push({key:i,value:h_(s,this.objId,this.scope)}):s instanceof Ul?(s.scope=this.scope,l.push({key:i,value:s.objId+" 0 R"})):typeof s!="function"&&l.push({key:i,value:s}))}return l};var f_=function(){Ul.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var l,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){l=e.trim()},get:function(){return l||null}})};Ba(f_,Ul);var d_=function(){Ul.call(this);var l,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(l){var e=function(i){return i};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+up(e(l))+")"}},set:function(e){l=e}})};Ba(d_,Ul);var Yo=function l(){Ul.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute F supplied.');t=L}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ln(t,3)},set:function(L){L?this.F=Cn(t,3):this.F=Tn(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute Ff supplied.');e=L}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(L){i=L!==void 0?L:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(L){i[0]=L}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(L){i[1]=L}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(L){i[2]=L}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(L){i[3]=L}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(L){switch(L){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=L;break;default:throw new Error('Invalid value "'+L+'" for attribute FT supplied.')}}});var r=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!r||r.length<1){if(this instanceof Sv)return;r="FieldObject"+l.FieldNum++}var L=function(R){return R};return this.scope&&(L=this.scope.internal.getEncryptor(this.objId)),"("+up(L(r))+")"},set:function(L){r=L.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return r},set:function(L){r=L}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(L){o=L}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(L){c=L}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(L){h=L}});var p=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return p===void 0?50/MA:p},set:function(L){p=L}});var m="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return m},set:function(L){m=L}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof Sv||this instanceof sp))return ky(y,this.objId,this.scope)},set:function(L){L=L.toString(),y=L}});var A=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof fs?A:ky(A,this.objId,this.scope)},set:function(L){L=L.toString(),A=this instanceof fs?L:L.substr(0,1)==="("?Zp(L.substr(1,L.length-2)):Zp(L)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof fs?Zp(A.substr(1,A.length-1)):A},set:function(L){L=L.toString(),A=this instanceof fs?"/"+L:L}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(L){this.V=L}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof fs?b:ky(b,this.objId,this.scope)},set:function(L){L=L.toString(),b=this instanceof fs?L:L.substr(0,1)==="("?Zp(L.substr(1,L.length-2)):Zp(L)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof fs?Zp(b.substr(1,b.length-1)):b},set:function(L){L=L.toString(),b=this instanceof fs?"/"+L:L}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,E=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return E},set:function(L){L=!!L,E=L}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(L){N=L}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,1)},set:function(L){L?this.Ff=Cn(this.Ff,1):this.Ff=Tn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,2)},set:function(L){L?this.Ff=Cn(this.Ff,2):this.Ff=Tn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,3)},set:function(L){L?this.Ff=Cn(this.Ff,3):this.Ff=Tn(this.Ff,3)}});var T=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(T!==null)return T},set:function(L){if([0,1,2].indexOf(L)===-1)throw new Error('Invalid value "'+L+'" for attribute Q supplied.');T=L}}),Object.defineProperty(this,"textAlign",{get:function(){var L;switch(T){case 0:default:L="left";break;case 1:L="center";break;case 2:L="right"}return L},configurable:!0,enumerable:!0,set:function(L){switch(L){case"right":case 2:T=2;break;case"center":case 1:T=1;break;case"left":case 0:default:T=0}}})};Ba(Yo,Ul);var dg=function(){Yo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var l=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return l},set:function(e){l=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){l=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return h_(t,this.objId,this.scope)},set:function(e){var i,s;s=[],typeof(i=e)=="string"&&(s=function(r,o,c){c||(c=1);for(var h,p=[];h=o.exec(r);)p.push(h[c]);return p}(i,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,i){for(i=i||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,18)},set:function(e){e?this.Ff=Cn(this.Ff,18):this.Ff=Tn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=Cn(this.Ff,19):this.Ff=Tn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,20)},set:function(e){e?(this.Ff=Cn(this.Ff,20),t.sort()):this.Ff=Tn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,22)},set:function(e){e?this.Ff=Cn(this.Ff,22):this.Ff=Tn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,23)},set:function(e){e?this.Ff=Cn(this.Ff,23):this.Ff=Tn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,27)},set:function(e){e?this.Ff=Cn(this.Ff,27):this.Ff=Tn(this.Ff,27)}}),this.hasAppearanceStream=!1};Ba(dg,Yo);var pg=function(){dg.call(this),this.fontName="helvetica",this.combo=!1};Ba(pg,dg);var gg=function(){pg.call(this),this.combo=!0};Ba(gg,pg);var j5=function(){gg.call(this),this.edit=!0};Ba(j5,gg);var fs=function(){Yo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,15)},set:function(e){e?this.Ff=Cn(this.Ff,15):this.Ff=Tn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,16)},set:function(e){e?this.Ff=Cn(this.Ff,16):this.Ff=Tn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,17)},set:function(e){e?this.Ff=Cn(this.Ff,17):this.Ff=Tn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,26)},set:function(e){e?this.Ff=Cn(this.Ff,26):this.Ff=Tn(this.Ff,26)}});var l,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(r){return r};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var i,s=[];for(i in s.push("<<"),t)s.push("/"+i+" ("+up(e(t[i]))+")");return s.push(">>"),s.join(`
`)}},set:function(e){xi(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return l},set:function(e){l=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return l.substr(1,l.length-1)},set:function(e){l="/"+e}})};Ba(fs,Yo);var z5=function(){fs.call(this),this.pushButton=!0};Ba(z5,fs);var mg=function(){fs.call(this),this.radio=!0,this.pushButton=!1;var l=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return l},set:function(t){l=t!==void 0?t:[]}})};Ba(mg,fs);var Sv=function(){var l,t;Yo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return l},set:function(s){l=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var e,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(c){return c};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var r,o=[];for(r in o.push("<<"),i)o.push("/"+r+" ("+up(s(i[r]))+")");return o.push(">>"),o.join(`
`)},set:function(s){xi(s)==="object"&&(i=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(s){typeof s=="string"&&(i.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(s){e="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=fe.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ba(Sv,Yo),mg.prototype.setAppearance=function(l){if(!("createAppearanceStream"in l)||!("getCA"in l))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=l.createAppearanceStream(e.optionName),e.caption=l.getCA()}},mg.prototype.createOption=function(l){var t=new Sv;return t.Parent=this,t.optionName=l,this.Kids.push(t),XL.call(this.scope,t),t};var q5=function(){fs.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=fe.CheckBox.createAppearanceStream()};Ba(q5,fs);var sp=function(){Yo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,13)},set:function(t){t?this.Ff=Cn(this.Ff,13):this.Ff=Tn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,21)},set:function(t){t?this.Ff=Cn(this.Ff,21):this.Ff=Tn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,23)},set:function(t){t?this.Ff=Cn(this.Ff,23):this.Ff=Tn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,24)},set:function(t){t?this.Ff=Cn(this.Ff,24):this.Ff=Tn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,25)},set:function(t){t?this.Ff=Cn(this.Ff,25):this.Ff=Tn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,26)},set:function(t){t?this.Ff=Cn(this.Ff,26):this.Ff=Tn(this.Ff,26)}});var l=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return l},set:function(t){l=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return l},set:function(t){Number.isInteger(t)&&(l=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ba(sp,Yo);var U5=function(){sp.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,14)},set:function(l){l?this.Ff=Cn(this.Ff,14):this.Ff=Tn(this.Ff,14)}}),this.password=!0};Ba(U5,sp);var fe={CheckBox:{createAppearanceStream:function(){return{N:{On:fe.CheckBox.YesNormal},D:{On:fe.CheckBox.YesPushDown,Off:fe.CheckBox.OffPushDown}}},YesPushDown:function(l){var t=xl(l);t.scope=l.scope;var e=[],i=l.scope.internal.getFont(l.fontName,l.fontStyle).id,s=l.scope.__private__.encodeColorString(l.color),r=ew(l,l.caption);return e.push("0.749023 g"),e.push("0 0 "+Oe(fe.internal.getWidth(l))+" "+Oe(fe.internal.getHeight(l))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+i+" "+Oe(r.fontSize)+" Tf "+s),e.push("BT"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(l){var t=xl(l);t.scope=l.scope;var e=l.scope.internal.getFont(l.fontName,l.fontStyle).id,i=l.scope.__private__.encodeColorString(l.color),s=[],r=fe.internal.getHeight(l),o=fe.internal.getWidth(l),c=ew(l,l.caption);return s.push("1 g"),s.push("0 0 "+Oe(o)+" "+Oe(r)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Oe(o-1)+" "+Oe(r-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+e+" "+Oe(c.fontSize)+" Tf "+i),s.push(c.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(l){var t=xl(l);t.scope=l.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Oe(fe.internal.getWidth(l))+" "+Oe(fe.internal.getHeight(l))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(l){var t={D:{Off:fe.RadioButton.Circle.OffPushDown},N:{}};return t.N[l]=fe.RadioButton.Circle.YesNormal,t.D[l]=fe.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(l){var t=xl(l);t.scope=l.scope;var e=[],i=fe.internal.getWidth(l)<=fe.internal.getHeight(l)?fe.internal.getWidth(l)/4:fe.internal.getHeight(l)/4;i=Number((.9*i).toFixed(5));var s=fe.internal.Bezier_C,r=Number((i*s).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+hh(fe.internal.getWidth(l)/2)+" "+hh(fe.internal.getHeight(l)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+r+" "+r+" "+i+" 0 "+i+" c"),e.push("-"+r+" "+i+" -"+i+" "+r+" -"+i+" 0 c"),e.push("-"+i+" -"+r+" -"+r+" -"+i+" 0 -"+i+" c"),e.push(r+" -"+i+" "+i+" -"+r+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(l){var t=xl(l);t.scope=l.scope;var e=[],i=fe.internal.getWidth(l)<=fe.internal.getHeight(l)?fe.internal.getWidth(l)/4:fe.internal.getHeight(l)/4;i=Number((.9*i).toFixed(5));var s=Number((2*i).toFixed(5)),r=Number((s*fe.internal.Bezier_C).toFixed(5)),o=Number((i*fe.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+hh(fe.internal.getWidth(l)/2)+" "+hh(fe.internal.getHeight(l)/2)+" cm"),e.push(s+" 0 m"),e.push(s+" "+r+" "+r+" "+s+" 0 "+s+" c"),e.push("-"+r+" "+s+" -"+s+" "+r+" -"+s+" 0 c"),e.push("-"+s+" -"+r+" -"+r+" -"+s+" 0 -"+s+" c"),e.push(r+" -"+s+" "+s+" -"+r+" "+s+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+hh(fe.internal.getWidth(l)/2)+" "+hh(fe.internal.getHeight(l)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),e.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),e.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),e.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(l){var t=xl(l);t.scope=l.scope;var e=[],i=fe.internal.getWidth(l)<=fe.internal.getHeight(l)?fe.internal.getWidth(l)/4:fe.internal.getHeight(l)/4;i=Number((.9*i).toFixed(5));var s=Number((2*i).toFixed(5)),r=Number((s*fe.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+hh(fe.internal.getWidth(l)/2)+" "+hh(fe.internal.getHeight(l)/2)+" cm"),e.push(s+" 0 m"),e.push(s+" "+r+" "+r+" "+s+" 0 "+s+" c"),e.push("-"+r+" "+s+" -"+s+" "+r+" -"+s+" 0 c"),e.push("-"+s+" -"+r+" -"+r+" -"+s+" 0 -"+s+" c"),e.push(r+" -"+s+" "+s+" -"+r+" "+s+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(l){var t={D:{Off:fe.RadioButton.Cross.OffPushDown},N:{}};return t.N[l]=fe.RadioButton.Cross.YesNormal,t.D[l]=fe.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(l){var t=xl(l);t.scope=l.scope;var e=[],i=fe.internal.calculateCross(l);return e.push("q"),e.push("1 1 "+Oe(fe.internal.getWidth(l)-2)+" "+Oe(fe.internal.getHeight(l)-2)+" re"),e.push("W"),e.push("n"),e.push(Oe(i.x1.x)+" "+Oe(i.x1.y)+" m"),e.push(Oe(i.x2.x)+" "+Oe(i.x2.y)+" l"),e.push(Oe(i.x4.x)+" "+Oe(i.x4.y)+" m"),e.push(Oe(i.x3.x)+" "+Oe(i.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(l){var t=xl(l);t.scope=l.scope;var e=fe.internal.calculateCross(l),i=[];return i.push("0.749023 g"),i.push("0 0 "+Oe(fe.internal.getWidth(l))+" "+Oe(fe.internal.getHeight(l))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Oe(fe.internal.getWidth(l)-2)+" "+Oe(fe.internal.getHeight(l)-2)+" re"),i.push("W"),i.push("n"),i.push(Oe(e.x1.x)+" "+Oe(e.x1.y)+" m"),i.push(Oe(e.x2.x)+" "+Oe(e.x2.y)+" l"),i.push(Oe(e.x4.x)+" "+Oe(e.x4.y)+" m"),i.push(Oe(e.x3.x)+" "+Oe(e.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(l){var t=xl(l);t.scope=l.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Oe(fe.internal.getWidth(l))+" "+Oe(fe.internal.getHeight(l))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(l){var t=l.scope.internal.getFont(l.fontName,l.fontStyle).id,e=l.scope.__private__.encodeColorString(l.color);return"/"+t+" "+l.fontSize+" Tf "+e}};fe.internal={Bezier_C:.551915024494,calculateCross:function(l){var t=fe.internal.getWidth(l),e=fe.internal.getHeight(l),i=Math.min(t,e);return{x1:{x:(t-i)/2,y:(e-i)/2+i},x2:{x:(t-i)/2+i,y:(e-i)/2},x3:{x:(t-i)/2,y:(e-i)/2},x4:{x:(t-i)/2+i,y:(e-i)/2+i}}}},fe.internal.getWidth=function(l){var t=0;return xi(l)==="object"&&(t=e4(l.Rect[2])),t},fe.internal.getHeight=function(l){var t=0;return xi(l)==="object"&&(t=e4(l.Rect[3])),t};var XL=wn.addField=function(l){if(YL(this,l),!(l instanceof Yo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=l).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),l.page=l.scope.internal.getCurrentPageInfo().pageNumber,this};wn.AcroFormChoiceField=dg,wn.AcroFormListBox=pg,wn.AcroFormComboBox=gg,wn.AcroFormEditBox=j5,wn.AcroFormButton=fs,wn.AcroFormPushButton=z5,wn.AcroFormRadioButton=mg,wn.AcroFormCheckBox=q5,wn.AcroFormTextField=sp,wn.AcroFormPasswordField=U5,wn.AcroFormAppearance=fe,wn.AcroForm={ChoiceField:dg,ListBox:pg,ComboBox:gg,EditBox:j5,Button:fs,PushButton:z5,RadioButton:mg,CheckBox:q5,TextField:sp,PasswordField:U5,Appearance:fe},Ne.AcroForm={ChoiceField:dg,ListBox:pg,ComboBox:gg,EditBox:j5,Button:fs,PushButton:z5,RadioButton:mg,CheckBox:q5,TextField:sp,PasswordField:U5,Appearance:fe};Ne.AcroForm;function p_(l){return l.reduce(function(t,e,i){return t[e]=i,t},{})}(function(l){l.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=l.__addimage__.getImageFileTypeByImageData=function(q,W){var lt,nt,Tt,it,ct,dt=t;if((W=W||t)==="RGBA"||q.data!==void 0&&q.data instanceof Uint8ClampedArray&&"height"in q&&"width"in q)return"RGBA";if(tt(q))for(ct in e)for(Tt=e[ct],lt=0;lt<Tt.length;lt+=1){for(it=!0,nt=0;nt<Tt[lt].length;nt+=1)if(Tt[lt][nt]!==void 0&&Tt[lt][nt]!==q[nt]){it=!1;break}if(it===!0){dt=ct;break}}else for(ct in e)for(Tt=e[ct],lt=0;lt<Tt.length;lt+=1){for(it=!0,nt=0;nt<Tt[lt].length;nt+=1)if(Tt[lt][nt]!==void 0&&Tt[lt][nt]!==q.charCodeAt(nt)){it=!1;break}if(it===!0){dt=ct;break}}return dt===t&&W!==t&&(dt=W),dt},s=function q(W){for(var lt=this.internal.write,nt=this.internal.putStream,Tt=(0,this.internal.getFilters)();Tt.indexOf("FlateEncode")!==-1;)Tt.splice(Tt.indexOf("FlateEncode"),1);W.objectId=this.internal.newObject();var it=[];if(it.push({key:"Type",value:"/XObject"}),it.push({key:"Subtype",value:"/Image"}),it.push({key:"Width",value:W.width}),it.push({key:"Height",value:W.height}),W.colorSpace===T.INDEXED?it.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(W.palette.length/3-1)+" "+("sMask"in W&&W.sMask!==void 0?W.objectId+2:W.objectId+1)+" 0 R]"}):(it.push({key:"ColorSpace",value:"/"+W.colorSpace}),W.colorSpace===T.DEVICE_CMYK&&it.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),it.push({key:"BitsPerComponent",value:W.bitsPerComponent}),"decodeParameters"in W&&W.decodeParameters!==void 0&&it.push({key:"DecodeParms",value:"<<"+W.decodeParameters+">>"}),"transparency"in W&&Array.isArray(W.transparency)){for(var ct="",dt=0,Lt=W.transparency.length;dt<Lt;dt++)ct+=W.transparency[dt]+" "+W.transparency[dt]+" ";it.push({key:"Mask",value:"["+ct+"]"})}W.sMask!==void 0&&it.push({key:"SMask",value:W.objectId+1+" 0 R"});var $=W.filter!==void 0?["/"+W.filter]:void 0;if(nt({data:W.data,additionalKeyValues:it,alreadyAppliedFilters:$,objectId:W.objectId}),lt("endobj"),"sMask"in W&&W.sMask!==void 0){var St="/Predictor "+W.predictor+" /Colors 1 /BitsPerComponent "+W.bitsPerComponent+" /Columns "+W.width,P={width:W.width,height:W.height,colorSpace:"DeviceGray",bitsPerComponent:W.bitsPerComponent,decodeParameters:St,data:W.sMask};"filter"in W&&(P.filter=W.filter),q.call(this,P)}if(W.colorSpace===T.INDEXED){var V=this.internal.newObject();nt({data:Q(new Uint8Array(W.palette)),objectId:V}),lt("endobj")}},r=function(){var q=this.internal.collections.addImage_images;for(var W in q)s.call(this,q[W])},o=function(){var q,W=this.internal.collections.addImage_images,lt=this.internal.write;for(var nt in W)lt("/I"+(q=W[nt]).index,q.objectId,"0","R")},c=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",r),this.internal.events.subscribe("putXobjectDict",o))},h=function(){var q=this.internal.collections.addImage_images;return c.call(this),q},p=function(){return Object.keys(this.internal.collections.addImage_images).length},m=function(q){return typeof l["process"+q.toUpperCase()]=="function"},y=function(q){return xi(q)==="object"&&q.nodeType===1},A=function(q,W){if(q.nodeName==="IMG"&&q.hasAttribute("src")){var lt=""+q.getAttribute("src");if(lt.indexOf("data:image/")===0)return G0(unescape(lt).split("base64,").pop());var nt=l.loadFile(lt,!0);if(nt!==void 0)return nt}if(q.nodeName==="CANVAS"){if(q.width===0||q.height===0)throw new Error("Given canvas must have data. Canvas width: "+q.width+", height: "+q.height);var Tt;switch(W){case"PNG":Tt="image/png";break;case"WEBP":Tt="image/webp";break;case"JPEG":case"JPG":default:Tt="image/jpeg"}return G0(q.toDataURL(Tt,1).split("base64,").pop())}},b=function(q){var W=this.internal.collections.addImage_images;if(W){for(var lt in W)if(q===W[lt].alias)return W[lt]}},N=function(q,W,lt){return q||W||(q=-96,W=-96),q<0&&(q=-1*lt.width*72/q/this.internal.scaleFactor),W<0&&(W=-1*lt.height*72/W/this.internal.scaleFactor),q===0&&(q=W*lt.width/lt.height),W===0&&(W=q*lt.height/lt.width),[q,W]},E=function(q,W,lt,nt,Tt,it){var ct=N.call(this,lt,nt,Tt),dt=this.internal.getCoordinateString,Lt=this.internal.getVerticalCoordinateString,$=h.call(this);if(lt=ct[0],nt=ct[1],$[Tt.index]=Tt,it){it*=Math.PI/180;var St=Math.cos(it),P=Math.sin(it),V=function(at){return at.toFixed(4)},K=[V(St),V(P),V(-1*P),V(St),0,0,"cm"]}this.internal.write("q"),it?(this.internal.write([1,"0","0",1,dt(q),Lt(W+nt),"cm"].join(" ")),this.internal.write(K.join(" ")),this.internal.write([dt(lt),"0","0",dt(nt),"0","0","cm"].join(" "))):this.internal.write([dt(lt),"0","0",dt(nt),dt(q),Lt(W+nt),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Tt.index+" Do"),this.internal.write("Q")},T=l.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};l.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var L=l.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},R=l.__addimage__.sHashCode=function(q){var W,lt,nt=0;if(typeof q=="string")for(lt=q.length,W=0;W<lt;W++)nt=(nt<<5)-nt+q.charCodeAt(W),nt|=0;else if(tt(q))for(lt=q.byteLength/2,W=0;W<lt;W++)nt=(nt<<5)-nt+q[W],nt|=0;return nt},k=l.__addimage__.validateStringAsBase64=function(q){(q=q||"").toString().trim();var W=!0;return q.length===0&&(W=!1),q.length%4!=0&&(W=!1),/^[A-Za-z0-9+/]+$/.test(q.substr(0,q.length-2))===!1&&(W=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(q.substr(-2))===!1&&(W=!1),W},j=l.__addimage__.extractImageFromDataUrl=function(q){var W=(q=q||"").split("base64,"),lt=null;if(W.length===2){var nt=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(W[0]);Array.isArray(nt)&&(lt={mimeType:nt[1],charset:nt[2],data:W[1]})}return lt},H=l.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};l.__addimage__.isArrayBuffer=function(q){return H()&&q instanceof ArrayBuffer};var tt=l.__addimage__.isArrayBufferView=function(q){return H()&&typeof Uint32Array<"u"&&(q instanceof Int8Array||q instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&q instanceof Uint8ClampedArray||q instanceof Int16Array||q instanceof Uint16Array||q instanceof Int32Array||q instanceof Uint32Array||q instanceof Float32Array||q instanceof Float64Array)},Z=l.__addimage__.binaryStringToUint8Array=function(q){for(var W=q.length,lt=new Uint8Array(W),nt=0;nt<W;nt++)lt[nt]=q.charCodeAt(nt);return lt},Q=l.__addimage__.arrayBufferToBinaryString=function(q){for(var W="",lt=tt(q)?q:new Uint8Array(q),nt=0;nt<lt.length;nt+=8192)W+=String.fromCharCode.apply(null,lt.subarray(nt,nt+8192));return W};l.addImage=function(){var q,W,lt,nt,Tt,it,ct,dt,Lt;if(typeof arguments[1]=="number"?(W=t,lt=arguments[1],nt=arguments[2],Tt=arguments[3],it=arguments[4],ct=arguments[5],dt=arguments[6],Lt=arguments[7]):(W=arguments[1],lt=arguments[2],nt=arguments[3],Tt=arguments[4],it=arguments[5],ct=arguments[6],dt=arguments[7],Lt=arguments[8]),xi(q=arguments[0])==="object"&&!y(q)&&"imageData"in q){var $=q;q=$.imageData,W=$.format||W||t,lt=$.x||lt||0,nt=$.y||nt||0,Tt=$.w||$.width||Tt,it=$.h||$.height||it,ct=$.alias||ct,dt=$.compression||dt,Lt=$.rotation||$.angle||Lt}var St=this.internal.getFilters();if(dt===void 0&&St.indexOf("FlateEncode")!==-1&&(dt="SLOW"),isNaN(lt)||isNaN(nt))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var P=et.call(this,q,W,ct,dt);return E.call(this,lt,nt,Tt,it,P,Lt),this};var et=function(q,W,lt,nt){var Tt,it,ct;if(typeof q=="string"&&i(q)===t){q=unescape(q);var dt=ft(q,!1);(dt!==""||(dt=l.loadFile(q,!0))!==void 0)&&(q=dt)}if(y(q)&&(q=A(q,W)),W=i(q,W),!m(W))throw new Error("addImage does not support files of type '"+W+"', please ensure that a plugin for '"+W+"' support is added.");if(((ct=lt)==null||ct.length===0)&&(lt=function(Lt){return typeof Lt=="string"||tt(Lt)?R(Lt):tt(Lt.data)?R(Lt.data):null}(q)),(Tt=b.call(this,lt))||(H()&&(q instanceof Uint8Array||W==="RGBA"||(it=q,q=Z(q))),Tt=this["process"+W.toUpperCase()](q,p.call(this),lt,function(Lt){return Lt&&typeof Lt=="string"&&(Lt=Lt.toUpperCase()),Lt in l.image_compression?Lt:L.NONE}(nt),it)),!Tt)throw new Error("An unknown error occurred whilst processing the image.");return Tt},ft=l.__addimage__.convertBase64ToBinaryString=function(q,W){var lt;W=typeof W!="boolean"||W;var nt,Tt="";if(typeof q=="string"){nt=(lt=j(q))!==null?lt.data:q;try{Tt=G0(nt)}catch(it){if(W)throw k(nt)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+it.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Tt};l.getImageProperties=function(q){var W,lt,nt="";if(y(q)&&(q=A(q)),typeof q=="string"&&i(q)===t&&((nt=ft(q,!1))===""&&(nt=l.loadFile(q)||""),q=nt),lt=i(q),!m(lt))throw new Error("addImage does not support files of type '"+lt+"', please ensure that a plugin for '"+lt+"' support is added.");if(!H()||q instanceof Uint8Array||(q=Z(q)),!(W=this["process"+lt.toUpperCase()](q)))throw new Error("An unknown error occurred whilst processing the image");return W.fileType=lt,W}})(Ne.API),function(l){var t=function(e){if(e!==void 0&&e!="")return!0};Ne.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),l.events.push(["putPage",function(e){for(var i,s,r,o=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(e.objId),p=e.pageContext.annotations,m=!1,y=0;y<p.length&&!m;y++)switch((i=p[y]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(m=!0);break;case"reference":case"text":case"freetext":m=!0}if(m!=0){this.internal.write("/Annots [");for(var A=0;A<p.length;A++){i=p[A];var b=this.internal.pdfEscape,N=this.internal.getEncryptor(e.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var E=this.internal.newAdditionalObject(),T=this.internal.newAdditionalObject(),L=this.internal.getEncryptor(E.objId),R=i.title||"Note";r="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(i.bounds.x)+" "+c(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w)+" "+c(i.bounds.y)+"] ")+"/Contents ("+b(L(i.contents))+")",r+=" /Popup "+T.objId+" 0 R",r+=" /P "+h.objId+" 0 R",r+=" /T ("+b(L(R))+") >>",E.content=r;var k=E.objId+" 0 R";r="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(i.bounds.x+30)+" "+c(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w+30)+" "+c(i.bounds.y)+"] ")+" /Parent "+k,i.open&&(r+=" /Open true"),r+=" >>",T.content=r,this.internal.write(E.objId,"0 R",T.objId,"0 R");break;case"freetext":s="/Rect ["+o(i.bounds.x)+" "+c(i.bounds.y)+" "+o(i.bounds.x+i.bounds.w)+" "+c(i.bounds.y+i.bounds.h)+"] ";var j=i.color||"#000000";r="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+b(N(i.contents))+")",r+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",r+=" /Border [0 0 0]",r+=" >>",this.internal.write(r);break;case"link":if(i.options.name){var H=this.annotations._nameMap[i.options.name];i.options.pageNumber=H.page,i.options.top=H.y}else i.options.top||(i.options.top=0);if(s="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",r="",i.options.url)r="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+b(N(i.options.url))+") >>";else if(i.options.pageNumber)switch(r="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":r+=" /Fit]";break;case"FitH":r+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,r+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var tt=c(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),r+=" /XYZ "+i.options.left+" "+tt+" "+i.options.zoom+"]"}r!=""&&(r+=" >>",this.internal.write(r))}}this.internal.write("]")}}]),l.createAnnotation=function(e){var i=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":i.pageContext.annotations.push(e)}},l.link=function(e,i,s,r,o){var c=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:h(e),y:p(i),w:h(e+s),h:p(i+r)},options:o,type:"link"})},l.textWithLink=function(e,i,s,r){var o,c,h=this.getTextWidth(e),p=this.internal.getLineHeight()/this.internal.scaleFactor;if(r.maxWidth!==void 0){c=r.maxWidth;var m=this.splitTextToSize(e,c).length;o=Math.ceil(p*m)}else c=h,o=p;return this.text(e,i,s,r),s+=.2*p,r.align==="center"&&(i-=h/2),r.align==="right"&&(i-=h),this.link(i,s-p,c,o,r),h},l.getTextWidth=function(e){var i=this.internal.getFontSize();return this.getStringUnitWidth(e)*i/this.internal.scaleFactor}}(Ne.API),function(l){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];l.__arabicParser__={};var r=l.__arabicParser__.isInArabicSubstitutionA=function(E){return t[E.charCodeAt(0)]!==void 0},o=l.__arabicParser__.isArabicLetter=function(E){return typeof E=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(E)},c=l.__arabicParser__.isArabicEndLetter=function(E){return o(E)&&r(E)&&t[E.charCodeAt(0)].length<=2},h=l.__arabicParser__.isArabicAlfLetter=function(E){return o(E)&&s.indexOf(E.charCodeAt(0))>=0};l.__arabicParser__.arabicLetterHasIsolatedForm=function(E){return o(E)&&r(E)&&t[E.charCodeAt(0)].length>=1};var p=l.__arabicParser__.arabicLetterHasFinalForm=function(E){return o(E)&&r(E)&&t[E.charCodeAt(0)].length>=2};l.__arabicParser__.arabicLetterHasInitialForm=function(E){return o(E)&&r(E)&&t[E.charCodeAt(0)].length>=3};var m=l.__arabicParser__.arabicLetterHasMedialForm=function(E){return o(E)&&r(E)&&t[E.charCodeAt(0)].length==4},y=l.__arabicParser__.resolveLigatures=function(E){var T=0,L=e,R="",k=0;for(T=0;T<E.length;T+=1)L[E.charCodeAt(T)]!==void 0?(k++,typeof(L=L[E.charCodeAt(T)])=="number"&&(R+=String.fromCharCode(L),L=e,k=0),T===E.length-1&&(L=e,R+=E.charAt(T-(k-1)),T-=k-1,k=0)):(L=e,R+=E.charAt(T-k),T-=k,k=0);return R};l.__arabicParser__.isArabicDiacritic=function(E){return E!==void 0&&i[E.charCodeAt(0)]!==void 0};var A=l.__arabicParser__.getCorrectForm=function(E,T,L){return o(E)?r(E)===!1?-1:!p(E)||!o(T)&&!o(L)||!o(L)&&c(T)||c(E)&&!o(T)||c(E)&&h(T)||c(E)&&c(T)?0:m(E)&&o(T)&&!c(T)&&o(L)&&p(L)?3:c(E)||!o(L)?1:2:-1},b=function(E){var T=0,L=0,R=0,k="",j="",H="",tt=(E=E||"").split("\\s+"),Z=[];for(T=0;T<tt.length;T+=1){for(Z.push(""),L=0;L<tt[T].length;L+=1)k=tt[T][L],j=tt[T][L-1],H=tt[T][L+1],o(k)?(R=A(k,j,H),Z[T]+=R!==-1?String.fromCharCode(t[k.charCodeAt(0)][R]):k):Z[T]+=k;Z[T]=y(Z[T])}return Z.join(" ")},N=l.__arabicParser__.processArabic=l.processArabic=function(){var E,T=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,L=[];if(Array.isArray(T)){var R=0;for(L=[],R=0;R<T.length;R+=1)Array.isArray(T[R])?L.push([b(T[R][0]),T[R][1],T[R][2]]):L.push([b(T[R])]);E=L}else E=b(T);return typeof arguments[0]=="string"?E:(arguments[0].text=E,arguments[0])};l.events.push(["preProcessText",N])}(Ne.API),Ne.API.autoPrint=function(l){var t;switch((l=l||{}).variant=l.variant||"non-conform",l.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(l){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(c){e=c}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(c){s=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(c){r=c}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(c){o=c}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,i){var s;if((e=e||"2d")!=="2d")return null;for(s in i)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=i[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},l.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Ne.API),function(l){var t={left:0,top:0,bottom:0,right:0},e=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new r,this.internal.__cell__.pages=1},r=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(E){h=E}});var p=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return p},set:function(E){p=E}});var m=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return m},set:function(E){m=E}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(E){y=E}});var A=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return A},set:function(E){A=E}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(E){b=E}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(E){N=E}}),this};r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},r.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},l.setHeaderFunction=function(h){return i.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},l.getTextDimensions=function(h,p){i.call(this);var m=(p=p||{}).fontSize||this.getFontSize(),y=p.font||this.getFont(),A=p.scaleFactor||this.internal.scaleFactor,b=0,N=0,E=0,T=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var L=p.maxWidth;L>0?typeof h=="string"?h=this.splitTextToSize(h,L):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(k,j){return k.concat(T.splitTextToSize(j,L))},[])):h=Array.isArray(h)?h:[h];for(var R=0;R<h.length;R++)b<(E=this.getStringUnitWidth(h[R],{font:y})*m)&&(b=E);return b!==0&&(N=h.length),{w:b/=A,h:Math.max((N*m*this.getLineHeightFactor()-m*(this.getLineHeightFactor()-1))/A,0)}},l.cellAddPage=function(){i.call(this),this.addPage();var h=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new r(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=l.cell=function(){var h;h=arguments[0]instanceof r?arguments[0]:new r(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var p=this.internal.__cell__.lastCell,m=this.internal.__cell__.padding,y=this.internal.__cell__.margins||t,A=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return p.lineNumber!==void 0&&(p.lineNumber===h.lineNumber?(h.x=(p.x||0)+(p.width||0),h.y=p.y||0):p.y+p.height+h.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=y.top,b&&A&&(this.printHeaderRow(h.lineNumber,!0),h.y+=A[0].height)):h.y=p.y+p.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,e===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-m,h.y+m,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+m,{align:"center",baseline:"top",maxWidth:h.width-m-m}):this.text(h.text,h.x+m,h.y+m,{align:"left",baseline:"top",maxWidth:h.width-m-m})),this.internal.__cell__.lastCell=h,this};l.table=function(h,p,m,y,A){if(i.call(this),!m)throw new Error("No data for PDF table.");var b,N,E,T,L=[],R=[],k=[],j={},H={},tt=[],Z=[],Q=(A=A||{}).autoSize||!1,et=A.printHeaders!==!1,ft=A.css&&A.css["font-size"]!==void 0?16*A.css["font-size"]:A.fontSize||12,q=A.margins||Object.assign({width:this.getPageWidth()},t),W=typeof A.padding=="number"?A.padding:3,lt=A.headerBackgroundColor||"#c8c8c8",nt=A.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=et,this.internal.__cell__.margins=q,this.internal.__cell__.table_font_size=ft,this.internal.__cell__.padding=W,this.internal.__cell__.headerBackgroundColor=lt,this.internal.__cell__.headerTextColor=nt,this.setFontSize(ft),y==null)R=L=Object.keys(m[0]),k=L.map(function(){return"left"});else if(Array.isArray(y)&&xi(y[0])==="object")for(L=y.map(function($){return $.name}),R=y.map(function($){return $.prompt||$.name||""}),k=y.map(function($){return $.align||"left"}),b=0;b<y.length;b+=1)H[y[b].name]=y[b].width*(19.049976/25.4);else Array.isArray(y)&&typeof y[0]=="string"&&(R=L=y,k=L.map(function(){return"left"}));if(Q||Array.isArray(y)&&typeof y[0]=="string")for(b=0;b<L.length;b+=1){for(j[T=L[b]]=m.map(function($){return $[T]}),this.setFont(void 0,"bold"),tt.push(this.getTextDimensions(R[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=j[T],this.setFont(void 0,"normal"),E=0;E<N.length;E+=1)tt.push(this.getTextDimensions(N[E],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);H[T]=Math.max.apply(null,tt)+W+W,tt=[]}if(et){var Tt={};for(b=0;b<L.length;b+=1)Tt[L[b]]={},Tt[L[b]].text=R[b],Tt[L[b]].align=k[b];var it=c.call(this,Tt,H);Z=L.map(function($){return new r(h,p,H[$],it,Tt[$].text,void 0,Tt[$].align)}),this.setTableHeaderRow(Z),this.printHeaderRow(1,!1)}var ct=y.reduce(function($,St){return $[St.name]=St.align,$},{});for(b=0;b<m.length;b+=1){"rowStart"in A&&A.rowStart instanceof Function&&A.rowStart({row:b,data:m[b]},this);var dt=c.call(this,m[b],H);for(E=0;E<L.length;E+=1){var Lt=m[b][L[E]];"cellStart"in A&&A.cellStart instanceof Function&&A.cellStart({row:b,col:E,data:Lt},this),o.call(this,new r(h,p,H[L[E]],dt,Lt,b+2,ct[L[E]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=p,this};var c=function(h,p){var m=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,A=this.internal.scaleFactor;return Object.keys(h).map(function(b){var N=h[b];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,p[b]-m-m)},this).map(function(b){return this.getLineHeightFactor()*b.length*y/A+m+m},this).reduce(function(b,N){return Math.max(b,N)},0)};l.setTableHeaderRow=function(h){i.call(this),this.internal.__cell__.tableHeaderRow=h},l.printHeaderRow=function(h,p){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var m;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new r(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var A=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){m=this.internal.__cell__.tableHeaderRow[b].clone(),p&&(m.y=this.internal.__cell__.margins.top||0,A.push(m)),m.lineNumber=h;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,m),this.setTextColor(N)}A.length>0&&this.setTableHeaderRow(A),this.setFont(void 0,"normal"),e=!1}}(Ne.API);var g_={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},m_=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],iw=p_(m_),v_=[100,200,300,400,500,600,700,800,900],WL=p_(v_);function nw(l){var t=l.family.replace(/"|'/g,"").toLowerCase(),e=function(r){return g_[r=r||"normal"]?r:"normal"}(l.style),i=function(r){if(!r)return 400;if(typeof r=="number")return r>=100&&r<=900&&r%100==0?r:400;if(/^\d00$/.test(r))return parseInt(r);switch(r){case"bold":return 700;case"normal":default:return 400}}(l.weight),s=function(r){return typeof iw[r=r||"normal"]=="number"?r:"normal"}(l.stretch);return{family:t,style:e,weight:i,stretch:s,src:l.src||[],ref:l.ref||{name:t,style:[s,e,i].join(" ")}}}function i4(l,t,e,i){var s;for(s=e;s>=0&&s<t.length;s+=i)if(l[t[s]])return l[t[s]];for(s=e;s>=0&&s<t.length;s-=i)if(l[t[s]])return l[t[s]]}var $L={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},n4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function s4(l){return[l.stretch,l.style,l.weight,l.family].join(" ")}function KL(l,t,e){for(var i=(e=e||{}).defaultFontFamily||"times",s=Object.assign({},$L,e.genericFontFamilies||{}),r=null,o=null,c=0;c<t.length;++c)if(s[(r=nw(t[c])).family]&&(r.family=s[r.family]),l.hasOwnProperty(r.family)){o=l[r.family];break}if(!(o=o||l[i]))throw new Error("Could not find a font-family for the rule '"+s4(r)+"' and default family '"+i+"'.");if(o=function(h,p){if(p[h])return p[h];var m=iw[h],y=m<=iw.normal?-1:1,A=i4(p,m_,m,y);if(!A)throw new Error("Could not find a matching font-stretch value for "+h);return A}(r.stretch,o),o=function(h,p){if(p[h])return p[h];for(var m=g_[h],y=0;y<m.length;++y)if(p[m[y]])return p[m[y]];throw new Error("Could not find a matching font-style for "+h)}(r.style,o),!(o=function(h,p){if(p[h])return p[h];if(h===400&&p[500])return p[500];if(h===500&&p[400])return p[400];var m=WL[h],y=i4(p,v_,m,h<400?-1:1);if(!y)throw new Error("Could not find a matching font-weight for value "+h);return y}(r.weight,o)))throw new Error("Failed to resolve a font for the rule '"+s4(r)+"'.");return o}function a4(l){return l.trimLeft()}function QL(l,t){for(var e=0;e<l.length;){if(l.charAt(e)===t)return[l.substring(0,e),l.substring(e+1)];e+=1}return null}function ZL(l){var t=l.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],l.substring(t[0].length)]}var C5,r4,o4,Dy=["times"];(function(l){var t,e,i,s,r,o,c,h,p,m=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new h,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new o,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new o,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};l.events.push(["initialized",function(){this.context2d=new y(this),t=this.internal.f2,e=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,r=this.internal.getVerticalCoordinate,o=this.internal.Point,c=this.internal.Rectangle,h=this.internal.Matrix,p=new m}]);var y=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var V=P;Object.defineProperty(this,"pdf",{get:function(){return V}});var K=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return K},set:function(Ot){K=!!Ot}});var at=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return at},set:function(Ot){at=!!Ot}});var ut=0;Object.defineProperty(this,"posX",{get:function(){return ut},set:function(Ot){isNaN(Ot)||(ut=Ot)}});var bt=0;Object.defineProperty(this,"posY",{get:function(){return bt},set:function(Ot){isNaN(Ot)||(bt=Ot)}}),Object.defineProperty(this,"margin",{get:function(){return p.margin},set:function(Ot){var ot;typeof Ot=="number"?ot=[Ot,Ot,Ot,Ot]:((ot=new Array(4))[0]=Ot[0],ot[1]=Ot.length>=2?Ot[1]:ot[0],ot[2]=Ot.length>=3?Ot[2]:ot[0],ot[3]=Ot.length>=4?Ot[3]:ot[1]),p.margin=ot}});var At=!1;Object.defineProperty(this,"autoPaging",{get:function(){return At},set:function(Ot){At=Ot}});var Et=0;Object.defineProperty(this,"lastBreak",{get:function(){return Et},set:function(Ot){Et=Ot}});var Ut=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ut},set:function(Ot){Ut=Ot}}),Object.defineProperty(this,"ctx",{get:function(){return p},set:function(Ot){Ot instanceof m&&(p=Ot)}}),Object.defineProperty(this,"path",{get:function(){return p.path},set:function(Ot){p.path=Ot}});var Vt=[];Object.defineProperty(this,"ctxStack",{get:function(){return Vt},set:function(Ot){Vt=Ot}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ot){var ot;ot=A(Ot),this.ctx.fillStyle=ot.style,this.ctx.isFillTransparent=ot.a===0,this.ctx.fillOpacity=ot.a,this.pdf.setFillColor(ot.r,ot.g,ot.b,{a:ot.a}),this.pdf.setTextColor(ot.r,ot.g,ot.b,{a:ot.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ot){var ot=A(Ot);this.ctx.strokeStyle=ot.style,this.ctx.isStrokeTransparent=ot.a===0,this.ctx.strokeOpacity=ot.a,ot.a===0?this.pdf.setDrawColor(255,255,255):(ot.a,this.pdf.setDrawColor(ot.r,ot.g,ot.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ot){["butt","round","square"].indexOf(Ot)!==-1&&(this.ctx.lineCap=Ot,this.pdf.setLineCap(Ot))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ot){isNaN(Ot)||(this.ctx.lineWidth=Ot,this.pdf.setLineWidth(Ot))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ot){["bevel","round","miter"].indexOf(Ot)!==-1&&(this.ctx.lineJoin=Ot,this.pdf.setLineJoin(Ot))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ot){isNaN(Ot)||(this.ctx.miterLimit=Ot,this.pdf.setMiterLimit(Ot))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ot){this.ctx.textBaseline=Ot}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ot){["right","end","center","left","start"].indexOf(Ot)!==-1&&(this.ctx.textAlign=Ot)}});var Jt=null;function Qt(Ot,ot){if(Jt===null){var Re=function(ue){var $t=[];return Object.keys(ue).forEach(function(te){ue[te].forEach(function(ne){var ee=null;switch(ne){case"bold":ee={family:te,weight:"bold"};break;case"italic":ee={family:te,style:"italic"};break;case"bolditalic":ee={family:te,weight:"bold",style:"italic"};break;case"":case"normal":ee={family:te}}ee!==null&&(ee.ref={name:te,style:ne},$t.push(ee))})}),$t}(Ot.getFontList());Jt=function(ue){for(var $t={},te=0;te<ue.length;++te){var ne=nw(ue[te]),ee=ne.family,me=ne.stretch,Ae=ne.style,Be=ne.weight;$t[ee]=$t[ee]||{},$t[ee][me]=$t[ee][me]||{},$t[ee][me][Ae]=$t[ee][me][Ae]||{},$t[ee][me][Ae][Be]=ne}return $t}(Re.concat(ot))}return Jt}var ve=null;Object.defineProperty(this,"fontFaces",{get:function(){return ve},set:function(Ot){Jt=null,ve=Ot}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ot){var ot;if(this.ctx.font=Ot,(ot=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ot))!==null){var Re=ot[1],ue=(ot[2],ot[3]),$t=ot[4],te=(ot[5],ot[6]),ne=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec($t)[2];$t=Math.floor(ne==="px"?parseFloat($t)*this.pdf.internal.scaleFactor:ne==="em"?parseFloat($t)*this.pdf.getFontSize():parseFloat($t)*this.pdf.internal.scaleFactor),this.pdf.setFontSize($t);var ee=function(Le){var He,re,Qn=[],Xe=Le.trim();if(Xe==="")return Dy;if(Xe in n4)return[n4[Xe]];for(;Xe!=="";){switch(re=null,He=(Xe=a4(Xe)).charAt(0)){case'"':case"'":re=QL(Xe.substring(1),He);break;default:re=ZL(Xe)}if(re===null||(Qn.push(re[0]),(Xe=a4(re[1]))!==""&&Xe.charAt(0)!==","))return Dy;Xe=Xe.replace(/^,/,"")}return Qn}(te);if(this.fontFaces){var me=KL(Qt(this.pdf,this.fontFaces),ee.map(function(Le){return{family:Le,stretch:"normal",weight:ue,style:Re}}));this.pdf.setFont(me.ref.name,me.ref.style)}else{var Ae="";(ue==="bold"||parseInt(ue,10)>=700||Re==="bold")&&(Ae="bold"),Re==="italic"&&(Ae+="italic"),Ae.length===0&&(Ae="normal");for(var Be="",ze={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ze=0;Ze<ee.length;Ze++){if(this.pdf.internal.getFont(ee[Ze],Ae,{noFallback:!0,disableWarning:!0})!==void 0){Be=ee[Ze];break}if(Ae==="bolditalic"&&this.pdf.internal.getFont(ee[Ze],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Be=ee[Ze],Ae="bold";else if(this.pdf.internal.getFont(ee[Ze],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Be=ee[Ze],Ae="normal";break}}if(Be===""){for(var li=0;li<ee.length;li++)if(ze[ee[li]]){Be=ze[ee[li]];break}}Be=Be===""?"Times":Be,this.pdf.setFont(Be,Ae)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ot){this.ctx.globalCompositeOperation=Ot}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ot){this.ctx.globalAlpha=Ot}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ot){this.ctx.lineDashOffset=Ot,St.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ot){this.ctx.lineDash=Ot,St.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ot){this.ctx.ignoreClearRect=!!Ot}})};y.prototype.setLineDash=function(P){this.lineDash=P},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){j.call(this,"fill",!1)},y.prototype.stroke=function(){j.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(P,V){if(isNaN(P)||isNaN(V))throw ki.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var K=this.ctx.transform.applyToPoint(new o(P,V));this.path.push({type:"mt",x:K.x,y:K.y}),this.ctx.lastPoint=new o(P,V)},y.prototype.closePath=function(){var P=new o(0,0),V=0;for(V=this.path.length-1;V!==-1;V--)if(this.path[V].type==="begin"&&xi(this.path[V+1])==="object"&&typeof this.path[V+1].x=="number"){P=new o(this.path[V+1].x,this.path[V+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(P.x,P.y)},y.prototype.lineTo=function(P,V){if(isNaN(P)||isNaN(V))throw ki.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var K=this.ctx.transform.applyToPoint(new o(P,V));this.path.push({type:"lt",x:K.x,y:K.y}),this.ctx.lastPoint=new o(K.x,K.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},y.prototype.quadraticCurveTo=function(P,V,K,at){if(isNaN(K)||isNaN(at)||isNaN(P)||isNaN(V))throw ki.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ut=this.ctx.transform.applyToPoint(new o(K,at)),bt=this.ctx.transform.applyToPoint(new o(P,V));this.path.push({type:"qct",x1:bt.x,y1:bt.y,x:ut.x,y:ut.y}),this.ctx.lastPoint=new o(ut.x,ut.y)},y.prototype.bezierCurveTo=function(P,V,K,at,ut,bt){if(isNaN(ut)||isNaN(bt)||isNaN(P)||isNaN(V)||isNaN(K)||isNaN(at))throw ki.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var At=this.ctx.transform.applyToPoint(new o(ut,bt)),Et=this.ctx.transform.applyToPoint(new o(P,V)),Ut=this.ctx.transform.applyToPoint(new o(K,at));this.path.push({type:"bct",x1:Et.x,y1:Et.y,x2:Ut.x,y2:Ut.y,x:At.x,y:At.y}),this.ctx.lastPoint=new o(At.x,At.y)},y.prototype.arc=function(P,V,K,at,ut,bt){if(isNaN(P)||isNaN(V)||isNaN(K)||isNaN(at)||isNaN(ut))throw ki.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(bt=!!bt,!this.ctx.transform.isIdentity){var At=this.ctx.transform.applyToPoint(new o(P,V));P=At.x,V=At.y;var Et=this.ctx.transform.applyToPoint(new o(0,K)),Ut=this.ctx.transform.applyToPoint(new o(0,0));K=Math.sqrt(Math.pow(Et.x-Ut.x,2)+Math.pow(Et.y-Ut.y,2))}Math.abs(ut-at)>=2*Math.PI&&(at=0,ut=2*Math.PI),this.path.push({type:"arc",x:P,y:V,radius:K,startAngle:at,endAngle:ut,counterclockwise:bt})},y.prototype.arcTo=function(P,V,K,at,ut){throw new Error("arcTo not implemented.")},y.prototype.rect=function(P,V,K,at){if(isNaN(P)||isNaN(V)||isNaN(K)||isNaN(at))throw ki.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,V),this.lineTo(P+K,V),this.lineTo(P+K,V+at),this.lineTo(P,V+at),this.lineTo(P,V),this.lineTo(P+K,V),this.lineTo(P,V)},y.prototype.fillRect=function(P,V,K,at){if(isNaN(P)||isNaN(V)||isNaN(K)||isNaN(at))throw ki.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var ut={};this.lineCap!=="butt"&&(ut.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ut.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,V,K,at),this.fill(),ut.hasOwnProperty("lineCap")&&(this.lineCap=ut.lineCap),ut.hasOwnProperty("lineJoin")&&(this.lineJoin=ut.lineJoin)}},y.prototype.strokeRect=function(P,V,K,at){if(isNaN(P)||isNaN(V)||isNaN(K)||isNaN(at))throw ki.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(P,V,K,at),this.stroke())},y.prototype.clearRect=function(P,V,K,at){if(isNaN(P)||isNaN(V)||isNaN(K)||isNaN(at))throw ki.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,V,K,at))},y.prototype.save=function(P){P=typeof P!="boolean"||P;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("q");if(this.pdf.setPage(V),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var at=new m(this.ctx);this.ctxStack.push(this.ctx),this.ctx=at}},y.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("Q");this.pdf.setPage(V),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var A=function(P){var V,K,at,ut;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))V=0,K=0,at=0,ut=0;else{var bt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(bt!==null)V=parseInt(bt[1]),K=parseInt(bt[2]),at=parseInt(bt[3]),ut=1;else if((bt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)V=parseInt(bt[1]),K=parseInt(bt[2]),at=parseInt(bt[3]),ut=parseFloat(bt[4]);else{if(ut=1,typeof P=="string"&&P.charAt(0)!=="#"){var At=new l_(P);P=At.ok?At.toHex():"#000000"}P.length===4?(V=P.substring(1,2),V+=V,K=P.substring(2,3),K+=K,at=P.substring(3,4),at+=at):(V=P.substring(1,3),K=P.substring(3,5),at=P.substring(5,7)),V=parseInt(V,16),K=parseInt(K,16),at=parseInt(at,16)}}return{r:V,g:K,b:at,a:ut,style:P}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};y.prototype.fillText=function(P,V,K,at){if(isNaN(V)||isNaN(K)||typeof P!="string")throw ki.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(at=isNaN(at)?void 0:at,!b.call(this)){var ut=dt(this.ctx.transform.rotation),bt=this.ctx.transform.scaleX;W.call(this,{text:P,x:V,y:K,scale:bt,angle:ut,align:this.textAlign,maxWidth:at})}},y.prototype.strokeText=function(P,V,K,at){if(isNaN(V)||isNaN(K)||typeof P!="string")throw ki.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){at=isNaN(at)?void 0:at;var ut=dt(this.ctx.transform.rotation),bt=this.ctx.transform.scaleX;W.call(this,{text:P,x:V,y:K,scale:bt,renderingMode:"stroke",angle:ut,align:this.textAlign,maxWidth:at})}},y.prototype.measureText=function(P){if(typeof P!="string")throw ki.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var V=this.pdf,K=this.pdf.internal.scaleFactor,at=V.internal.getFontSize(),ut=V.getStringUnitWidth(P)*at/V.internal.scaleFactor,bt=function(At){var Et=(At=At||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Et}}),this};return new bt({width:ut*=Math.round(96*K/72*1e4)/1e4})},y.prototype.scale=function(P,V){if(isNaN(P)||isNaN(V))throw ki.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var K=new h(P,0,0,V,0,0);this.ctx.transform=this.ctx.transform.multiply(K)},y.prototype.rotate=function(P){if(isNaN(P))throw ki.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var V=new h(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(V)},y.prototype.translate=function(P,V){if(isNaN(P)||isNaN(V))throw ki.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var K=new h(1,0,0,1,P,V);this.ctx.transform=this.ctx.transform.multiply(K)},y.prototype.transform=function(P,V,K,at,ut,bt){if(isNaN(P)||isNaN(V)||isNaN(K)||isNaN(at)||isNaN(ut)||isNaN(bt))throw ki.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var At=new h(P,V,K,at,ut,bt);this.ctx.transform=this.ctx.transform.multiply(At)},y.prototype.setTransform=function(P,V,K,at,ut,bt){P=isNaN(P)?1:P,V=isNaN(V)?0:V,K=isNaN(K)?0:K,at=isNaN(at)?1:at,ut=isNaN(ut)?0:ut,bt=isNaN(bt)?0:bt,this.ctx.transform=new h(P,V,K,at,ut,bt)};var E=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(P,V,K,at,ut,bt,At,Et,Ut){var Vt=this.pdf.getImageProperties(P),Jt=1,Qt=1,ve=1,Ot=1;at!==void 0&&Et!==void 0&&(ve=Et/at,Ot=Ut/ut,Jt=Vt.width/at*Et/at,Qt=Vt.height/ut*Ut/ut),bt===void 0&&(bt=V,At=K,V=0,K=0),at!==void 0&&Et===void 0&&(Et=at,Ut=ut),at===void 0&&Et===void 0&&(Et=Vt.width,Ut=Vt.height);for(var ot,Re=this.ctx.transform.decompose(),ue=dt(Re.rotate.shx),$t=new h,te=($t=($t=($t=$t.multiply(Re.translate)).multiply(Re.skew)).multiply(Re.scale)).applyToRectangle(new c(bt-V*ve,At-K*Ot,at*Jt,ut*Qt)),ne=T.call(this,te),ee=[],me=0;me<ne.length;me+=1)ee.indexOf(ne[me])===-1&&ee.push(ne[me]);if(k(ee),this.autoPaging)for(var Ae=ee[0],Be=ee[ee.length-1],ze=Ae;ze<Be+1;ze++){this.pdf.setPage(ze);var Ze=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],li=ze===1?this.posY+this.margin[0]:this.margin[0],Le=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],He=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],re=ze===1?0:Le+(ze-2)*He;if(this.ctx.clip_path.length!==0){var Qn=this.path;ot=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(ot,this.posX+this.margin[3],-re+li+this.ctx.prevPageLastElemOffset),H.call(this,"fill",!0),this.path=Qn}var Xe=JSON.parse(JSON.stringify(te));Xe=R([Xe],this.posX+this.margin[3],-re+li+this.ctx.prevPageLastElemOffset)[0];var Ui=(ze>Ae||ze<Be)&&E.call(this);Ui&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ze,He,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",Xe.x,Xe.y,Xe.w,Xe.h,null,null,ue),Ui&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(P,"JPEG",te.x,te.y,te.w,te.h,null,null,ue)};var T=function(P,V,K){var at=[];V=V||this.pdf.internal.pageSize.width,K=K||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ut=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":at.push(Math.floor((P.y+ut)/K)+1);break;case"arc":at.push(Math.floor((P.y+ut-P.radius)/K)+1),at.push(Math.floor((P.y+ut+P.radius)/K)+1);break;case"qct":var bt=Lt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);at.push(Math.floor((bt.y+ut)/K)+1),at.push(Math.floor((bt.y+bt.h+ut)/K)+1);break;case"bct":var At=$(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);at.push(Math.floor((At.y+ut)/K)+1),at.push(Math.floor((At.y+At.h+ut)/K)+1);break;case"rect":at.push(Math.floor((P.y+ut)/K)+1),at.push(Math.floor((P.y+P.h+ut)/K)+1)}for(var Et=0;Et<at.length;Et+=1)for(;this.pdf.internal.getNumberOfPages()<at[Et];)L.call(this);return at},L=function(){var P=this.fillStyle,V=this.strokeStyle,K=this.font,at=this.lineCap,ut=this.lineWidth,bt=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=V,this.font=K,this.lineCap=at,this.lineWidth=ut,this.lineJoin=bt},R=function(P,V,K){for(var at=0;at<P.length;at++)switch(P[at].type){case"bct":P[at].x2+=V,P[at].y2+=K;case"qct":P[at].x1+=V,P[at].y1+=K;case"mt":case"lt":case"arc":default:P[at].x+=V,P[at].y+=K}return P},k=function(P){return P.sort(function(V,K){return V-K})},j=function(P,V){for(var K,at,ut=this.fillStyle,bt=this.strokeStyle,At=this.lineCap,Et=this.lineWidth,Ut=Math.abs(Et*this.ctx.transform.scaleX),Vt=this.lineJoin,Jt=JSON.parse(JSON.stringify(this.path)),Qt=JSON.parse(JSON.stringify(this.path)),ve=[],Ot=0;Ot<Qt.length;Ot++)if(Qt[Ot].x!==void 0)for(var ot=T.call(this,Qt[Ot]),Re=0;Re<ot.length;Re+=1)ve.indexOf(ot[Re])===-1&&ve.push(ot[Re]);for(var ue=0;ue<ve.length;ue++)for(;this.pdf.internal.getNumberOfPages()<ve[ue];)L.call(this);if(k(ve),this.autoPaging)for(var $t=ve[0],te=ve[ve.length-1],ne=$t;ne<te+1;ne++){this.pdf.setPage(ne),this.fillStyle=ut,this.strokeStyle=bt,this.lineCap=At,this.lineWidth=Ut,this.lineJoin=Vt;var ee=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],me=ne===1?this.posY+this.margin[0]:this.margin[0],Ae=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Be=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ze=ne===1?0:Ae+(ne-2)*Be;if(this.ctx.clip_path.length!==0){var Ze=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(K,this.posX+this.margin[3],-ze+me+this.ctx.prevPageLastElemOffset),H.call(this,P,!0),this.path=Ze}if(at=JSON.parse(JSON.stringify(Jt)),this.path=R(at,this.posX+this.margin[3],-ze+me+this.ctx.prevPageLastElemOffset),V===!1||ne===0){var li=(ne>$t||ne<te)&&E.call(this);li&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ee,Be,null).clip().discardPath()),H.call(this,P,V),li&&this.pdf.restoreGraphicsState()}this.lineWidth=Et}else this.lineWidth=Ut,H.call(this,P,V),this.lineWidth=Et;this.path=Jt},H=function(P,V){if((P!=="stroke"||V||!N.call(this))&&(P==="stroke"||V||!b.call(this))){for(var K,at,ut=[],bt=this.path,At=0;At<bt.length;At++){var Et=bt[At];switch(Et.type){case"begin":ut.push({begin:!0});break;case"close":ut.push({close:!0});break;case"mt":ut.push({start:Et,deltas:[],abs:[]});break;case"lt":var Ut=ut.length;if(bt[At-1]&&!isNaN(bt[At-1].x)&&(K=[Et.x-bt[At-1].x,Et.y-bt[At-1].y],Ut>0)){for(;Ut>=0;Ut--)if(ut[Ut-1].close!==!0&&ut[Ut-1].begin!==!0){ut[Ut-1].deltas.push(K),ut[Ut-1].abs.push(Et);break}}break;case"bct":K=[Et.x1-bt[At-1].x,Et.y1-bt[At-1].y,Et.x2-bt[At-1].x,Et.y2-bt[At-1].y,Et.x-bt[At-1].x,Et.y-bt[At-1].y],ut[ut.length-1].deltas.push(K);break;case"qct":var Vt=bt[At-1].x+2/3*(Et.x1-bt[At-1].x),Jt=bt[At-1].y+2/3*(Et.y1-bt[At-1].y),Qt=Et.x+2/3*(Et.x1-Et.x),ve=Et.y+2/3*(Et.y1-Et.y),Ot=Et.x,ot=Et.y;K=[Vt-bt[At-1].x,Jt-bt[At-1].y,Qt-bt[At-1].x,ve-bt[At-1].y,Ot-bt[At-1].x,ot-bt[At-1].y],ut[ut.length-1].deltas.push(K);break;case"arc":ut.push({deltas:[],abs:[],arc:!0}),Array.isArray(ut[ut.length-1].abs)&&ut[ut.length-1].abs.push(Et)}}at=V?null:P==="stroke"?"stroke":"fill";for(var Re=!1,ue=0;ue<ut.length;ue++)if(ut[ue].arc)for(var $t=ut[ue].abs,te=0;te<$t.length;te++){var ne=$t[te];ne.type==="arc"?Q.call(this,ne.x,ne.y,ne.radius,ne.startAngle,ne.endAngle,ne.counterclockwise,void 0,V,!Re):lt.call(this,ne.x,ne.y),Re=!0}else if(ut[ue].close===!0)this.pdf.internal.out("h"),Re=!1;else if(ut[ue].begin!==!0){var ee=ut[ue].start.x,me=ut[ue].start.y;nt.call(this,ut[ue].deltas,ee,me),Re=!0}at&&et.call(this,at),V&&ft.call(this)}},tt=function(P){var V=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,K=V*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-K;case"top":return P+V-K;case"hanging":return P+V-2*K;case"middle":return P+V/2-K;case"ideographic":return P;case"alphabetic":default:return P}},Z=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(V,K){this.colorStops.push([V,K])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Q=function(P,V,K,at,ut,bt,At,Et,Ut){for(var Vt=it.call(this,K,at,ut,bt),Jt=0;Jt<Vt.length;Jt++){var Qt=Vt[Jt];Jt===0&&(Ut?q.call(this,Qt.x1+P,Qt.y1+V):lt.call(this,Qt.x1+P,Qt.y1+V)),Tt.call(this,P,V,Qt.x2,Qt.y2,Qt.x3,Qt.y3,Qt.x4,Qt.y4)}Et?ft.call(this):et.call(this,At)},et=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ft=function(){this.pdf.clip(),this.pdf.discardPath()},q=function(P,V){this.pdf.internal.out(e(P)+" "+i(V)+" m")},W=function(P){var V;switch(P.align){case"right":case"end":V="right";break;case"center":V="center";break;case"left":case"start":default:V="left"}var K=this.pdf.getTextDimensions(P.text),at=tt.call(this,P.y),ut=Z.call(this,at)-K.h,bt=this.ctx.transform.applyToPoint(new o(P.x,at)),At=this.ctx.transform.decompose(),Et=new h;Et=(Et=(Et=Et.multiply(At.translate)).multiply(At.skew)).multiply(At.scale);for(var Ut,Vt,Jt,Qt=this.ctx.transform.applyToRectangle(new c(P.x,at,K.w,K.h)),ve=Et.applyToRectangle(new c(P.x,ut,K.w,K.h)),Ot=T.call(this,ve),ot=[],Re=0;Re<Ot.length;Re+=1)ot.indexOf(Ot[Re])===-1&&ot.push(Ot[Re]);if(k(ot),this.autoPaging)for(var ue=ot[0],$t=ot[ot.length-1],te=ue;te<$t+1;te++){this.pdf.setPage(te);var ne=te===1?this.posY+this.margin[0]:this.margin[0],ee=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],me=this.pdf.internal.pageSize.height-this.margin[2],Ae=me-this.margin[0],Be=this.pdf.internal.pageSize.width-this.margin[1],ze=Be-this.margin[3],Ze=te===1?0:ee+(te-2)*Ae;if(this.ctx.clip_path.length!==0){var li=this.path;Ut=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(Ut,this.posX+this.margin[3],-1*Ze+ne),H.call(this,"fill",!0),this.path=li}var Le=R([JSON.parse(JSON.stringify(ve))],this.posX+this.margin[3],-Ze+ne+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(Vt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Vt*P.scale),Jt=this.lineWidth,this.lineWidth=Jt*P.scale);var He=this.autoPaging!=="text";if(He||Le.y+Le.h<=me){if(He||Le.y>=ne&&Le.x<=Be){var re=He?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||Be-Le.x)[0],Qn=R([JSON.parse(JSON.stringify(Qt))],this.posX+this.margin[3],-Ze+ne+this.ctx.prevPageLastElemOffset)[0],Xe=He&&(te>ue||te<$t)&&E.call(this);Xe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ze,Ae,null).clip().discardPath()),this.pdf.text(re,Qn.x,Qn.y,{angle:P.angle,align:V,renderingMode:P.renderingMode}),Xe&&this.pdf.restoreGraphicsState()}}else Le.y<me&&(this.ctx.prevPageLastElemOffset+=me-Le.y);P.scale>=.01&&(this.pdf.setFontSize(Vt),this.lineWidth=Jt)}else P.scale>=.01&&(Vt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Vt*P.scale),Jt=this.lineWidth,this.lineWidth=Jt*P.scale),this.pdf.text(P.text,bt.x+this.posX,bt.y+this.posY,{angle:P.angle,align:V,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(Vt),this.lineWidth=Jt)},lt=function(P,V,K,at){K=K||0,at=at||0,this.pdf.internal.out(e(P+K)+" "+i(V+at)+" l")},nt=function(P,V,K){return this.pdf.lines(P,V,K,null,null)},Tt=function(P,V,K,at,ut,bt,At,Et){this.pdf.internal.out([t(s(K+P)),t(r(at+V)),t(s(ut+P)),t(r(bt+V)),t(s(At+P)),t(r(Et+V)),"c"].join(" "))},it=function(P,V,K,at){for(var ut=2*Math.PI,bt=Math.PI/2;V>K;)V-=ut;var At=Math.abs(K-V);At<ut&&at&&(At=ut-At);for(var Et=[],Ut=at?-1:1,Vt=V;At>1e-5;){var Jt=Vt+Ut*Math.min(At,bt);Et.push(ct.call(this,P,Vt,Jt)),At-=Math.abs(Jt-Vt),Vt=Jt}return Et},ct=function(P,V,K){var at=(K-V)/2,ut=P*Math.cos(at),bt=P*Math.sin(at),At=ut,Et=-bt,Ut=At*At+Et*Et,Vt=Ut+At*ut+Et*bt,Jt=4/3*(Math.sqrt(2*Ut*Vt)-Vt)/(At*bt-Et*ut),Qt=At-Jt*Et,ve=Et+Jt*At,Ot=Qt,ot=-ve,Re=at+V,ue=Math.cos(Re),$t=Math.sin(Re);return{x1:P*Math.cos(V),y1:P*Math.sin(V),x2:Qt*ue-ve*$t,y2:Qt*$t+ve*ue,x3:Ot*ue-ot*$t,y3:Ot*$t+ot*ue,x4:P*Math.cos(K),y4:P*Math.sin(K)}},dt=function(P){return 180*P/Math.PI},Lt=function(P,V,K,at,ut,bt){var At=P+.5*(K-P),Et=V+.5*(at-V),Ut=ut+.5*(K-ut),Vt=bt+.5*(at-bt),Jt=Math.min(P,ut,At,Ut),Qt=Math.max(P,ut,At,Ut),ve=Math.min(V,bt,Et,Vt),Ot=Math.max(V,bt,Et,Vt);return new c(Jt,ve,Qt-Jt,Ot-ve)},$=function(P,V,K,at,ut,bt,At,Et){var Ut,Vt,Jt,Qt,ve,Ot,ot,Re,ue,$t,te,ne,ee,me,Ae=K-P,Be=at-V,ze=ut-K,Ze=bt-at,li=At-ut,Le=Et-bt;for(Vt=0;Vt<41;Vt++)ue=(ot=(Jt=P+(Ut=Vt/40)*Ae)+Ut*((ve=K+Ut*ze)-Jt))+Ut*(ve+Ut*(ut+Ut*li-ve)-ot),$t=(Re=(Qt=V+Ut*Be)+Ut*((Ot=at+Ut*Ze)-Qt))+Ut*(Ot+Ut*(bt+Ut*Le-Ot)-Re),Vt==0?(te=ue,ne=$t,ee=ue,me=$t):(te=Math.min(te,ue),ne=Math.min(ne,$t),ee=Math.max(ee,ue),me=Math.max(me,$t));return new c(Math.round(te),Math.round(ne),Math.round(ee-te),Math.round(me-ne))},St=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,V,K=(P=this.ctx.lineDash,V=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:V}));this.prevLineDash!==K&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=K)}}})(Ne.API),function(l){var t=function(r){var o,c,h,p,m,y,A,b,N,E;for(c=[],h=0,p=(r+=o="\0\0\0\0".slice(r.length%4||4)).length;p>h;h+=4)(m=(r.charCodeAt(h)<<24)+(r.charCodeAt(h+1)<<16)+(r.charCodeAt(h+2)<<8)+r.charCodeAt(h+3))!==0?(y=(m=((m=((m=((m=(m-(E=m%85))/85)-(N=m%85))/85)-(b=m%85))/85)-(A=m%85))/85)%85,c.push(y+33,A+33,b+33,N+33,E+33)):c.push(122);return function(T,L){for(var R=L;R>0;R--)T.pop()}(c,o.length),String.fromCharCode.apply(String,c)+"~>"},e=function(r){var o,c,h,p,m,y=String,A="length",b=255,N="charCodeAt",E="slice",T="replace";for(r[E](-2),r=r[E](0,-2)[T](/\s/g,"")[T]("z","!!!!!"),h=[],p=0,m=(r+=o="uuuuu"[E](r[A]%5||5))[A];m>p;p+=5)c=52200625*(r[N](p)-33)+614125*(r[N](p+1)-33)+7225*(r[N](p+2)-33)+85*(r[N](p+3)-33)+(r[N](p+4)-33),h.push(b&c>>24,b&c>>16,b&c>>8,b&c);return function(L,R){for(var k=R;k>0;k--)L.pop()}(h,o[A]),y.fromCharCode.apply(y,h)},i=function(r){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((r=r.replace(/\s/g,"")).indexOf(">")!==-1&&(r=r.substr(0,r.indexOf(">"))),r.length%2&&(r+="0"),o.test(r)===!1)return"";for(var c="",h=0;h<r.length;h+=2)c+=String.fromCharCode("0x"+(r[h]+r[h+1]));return c},s=function(r){for(var o=new Uint8Array(r.length),c=r.length;c--;)o[c]=r.charCodeAt(c);return r=(o=Qy(o)).reduce(function(h,p){return h+String.fromCharCode(p)},"")};l.processDataByFilters=function(r,o){var c=0,h=r||"",p=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":h=e(h),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=t(h),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=i(h),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=h.split("").map(function(m){return("0"+m.charCodeAt().toString(16)).slice(-2)}).join("")+">",p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=s(h),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:h,reverseChain:p.reverse().join(" ")}}}(Ne.API),function(l){l.loadFile=function(t,e,i){return function(s,r,o){r=r!==!1,o=typeof o=="function"?o:function(){};var c=void 0;try{c=function(h,p,m){var y=new XMLHttpRequest,A=0,b=function(N){var E=N.length,T=[],L=String.fromCharCode;for(A=0;A<E;A+=1)T.push(L(255&N.charCodeAt(A)));return T.join("")};if(y.open("GET",h,!p),y.overrideMimeType("text/plain; charset=x-user-defined"),p===!1&&(y.onload=function(){y.status===200?m(b(this.responseText)):m(void 0)}),y.send(null),p&&y.status===200)return b(y.responseText)}(s,r,o)}catch{}return c}(t,e,i)},l.loadImageFile=l.loadFile}(Ne.API),function(l){function t(){return(Te.html2canvas?Promise.resolve(Te.html2canvas):Yy(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function e(){return(Te.DOMPurify?Promise.resolve(Te.DOMPurify):Yy(()=>import("./purify.es-Ci5xwkH_.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var i=function(o){var c=xi(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},s=function(o,c){var h=document.createElement(o);for(var p in c.className&&(h.className=c.className),c.innerHTML&&c.dompurify&&(h.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)h.style[p]=c.style[p];return h},r=function o(c){var h=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),p=o.convert(Promise.resolve(),h);return p=(p=p.setProgress(1,o,1,[o])).set(c)};(r.prototype=Object.create(Promise.prototype)).constructor=r,r.convert=function(o,c){return o.__proto__=c||r.prototype,o},r.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},r.prototype.from=function(o,c){return this.then(function(){switch(c=c||function(h){switch(i(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(e).then(function(h){return this.set({src:s("div",{innerHTML:o,dompurify:h})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},r.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},r.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=function h(p,m){for(var y=p.nodeType===3?document.createTextNode(p.nodeValue):p.cloneNode(!1),A=p.firstChild;A;A=A.nextSibling)m!==!0&&A.nodeType===1&&A.nodeName==="SCRIPT"||y.appendChild(h(A,m));return p.nodeType===1&&(p.nodeName==="CANVAS"?(y.width=p.width,y.height=p.height,y.getContext("2d").drawImage(p,0,0)):p.nodeName!=="TEXTAREA"&&p.nodeName!=="SELECT"||(y.value=p.value),y.addEventListener("load",function(){y.scrollTop=p.scrollTop,y.scrollLeft=p.scrollLeft},!0)),y}(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},r.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,c(this.prop.container,h)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},r.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var h=this.opt.jsPDF,p=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=p,p)for(var A=0;A<p.length;++A){var b=p[A],N=b.src.find(function(E){return E.format==="truetype"});N&&h.addFont(N.url,b.ref.name,b.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,h.context2d.save(!0),c(this.prop.container,y)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},r.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},r.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},r.prototype.output=function(o,c,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},r.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},r.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},r.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},r.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},r.prototype.set=function(o){if(i(o)!=="object")return this;var c=Object.keys(o||{}).map(function(h){if(h in r.template.prop)return function(){this.prop[h]=o[h]};switch(h){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[h]=o[h]}}},this);return this.then(function(){return this.thenList(c)})},r.prototype.get=function(o,c){return this.then(function(){var h=o in r.template.prop?this.prop[o]:this.opt[o];return c?c(h):h})},r.prototype.setMargin=function(o){return this.then(function(){switch(i(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},r.prototype.setPageSize=function(o){function c(h,p){return Math.floor(h*p/72*96)}return this.then(function(){(o=o||Ne.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},r.prototype.setProgress=function(o,c,h,p){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),h!=null&&(this.progress.n=h),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},r.prototype.updateProgress=function(o,c,h,p){return this.setProgress(o?this.progress.val+o:null,c||null,h?this.progress.n+h:null,p?this.progress.stack.concat(p):null)},r.prototype.then=function(o,c){var h=this;return this.thenCore(o,c,function(p,m){return h.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(y){return h.updateProgress(null,p),y}).then(p,m).then(function(y){return h.updateProgress(1),y})})},r.prototype.thenCore=function(o,c,h){h=h||Promise.prototype.then,o&&(o=o.bind(this)),c&&(c=c.bind(this));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:r.convert(Object.assign({},this),Promise.prototype),m=h.call(p,o,c);return r.convert(m,this.__proto__)},r.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},r.prototype.thenList=function(o){var c=this;return o.forEach(function(h){c=c.thenCore(h)}),c},r.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return r.convert(c,this)},r.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},r.prototype.error=function(o){return this.then(function(){throw new Error(o)})},r.prototype.using=r.prototype.set,r.prototype.saveAs=r.prototype.save,r.prototype.export=r.prototype.output,r.prototype.run=r.prototype.then,Ne.getPageSize=function(o,c,h){if(xi(o)==="object"){var p=o;o=p.orientation,c=p.unit||c,h=p.format||h}c=c||"mm",h=h||"a4",o=(""+(o||"P")).toLowerCase();var m,y=(""+h).toLowerCase(),A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+c}var b,N=0,E=0;if(A.hasOwnProperty(y))N=A[y][1]/m,E=A[y][0]/m;else try{N=h[1],E=h[0]}catch{throw new Error("Invalid format: "+h)}if(o==="p"||o==="portrait")o="p",E>N&&(b=E,E=N,N=b);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",N>E&&(b=E,E=N,N=b)}return{width:E,height:N,unit:c,k:m,orientation:o}},l.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(nw):null;var h=new r(c);return c.worker?h:h.from(o).doCallback()}}(Ne.API),Ne.API.addJS=function(l){return o4=l,this.internal.events.subscribe("postPutResources",function(){C5=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(C5+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),r4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+o4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){C5!==void 0&&r4!==void 0&&this.internal.out("/Names <</JavaScript "+C5+" 0 R>>")}),this},function(l){var t;l.events.push(["postPutResources",function(){var e=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=e.outline.render().split(/\r\n/),r=0;r<s.length;r++){var o=s[r],c=i.exec(o);if(c!=null){var h=c[1];e.internal.newObjectDeferredBegin(h,!1)}e.internal.write(o)}if(this.outline.createNamedDestinations){var p=this.internal.pages.length,m=[];for(r=0;r<p;r++){var y=e.internal.newObject();m.push(y);var A=e.internal.getPageInfo(r+1);e.internal.write("<< /D["+A.objId+" 0 R /XYZ null null null]>> endobj")}var b=e.internal.newObject();for(e.internal.write("<< /Names [ "),r=0;r<m.length;r++)e.internal.write("(page_"+(r+1)+")"+m[r]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+b+" 0 R"),e.internal.write(">>","endobj")}}]),l.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),l.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(i,s,r){var o={title:s,options:r,children:[]};return i==null&&(i=this.root),i.children.push(o),o},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(i){i.id=e.internal.newObjectDeferred();for(var s=0;s<i.children.length;s++)this.genIds_r(i.children[s])},e.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},e.outline.renderItems=function(i){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<i.children.length;r++){var o=i.children[r];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(i)),r>0&&this.line("/Prev "+this.makeRef(i.children[r-1])),r<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[r+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var c=this.count=this.count_r({count:0},o);if(c>0&&this.line("/Count "+c),o.options&&o.options.pageNumber){var h=e.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var p=0;p<i.children.length;p++)this.renderItems(i.children[p])},e.outline.line=function(i){this.ctx.val+=i+`\r
`},e.outline.makeRef=function(i){return i.id+" 0 R"},e.outline.makeString=function(i){return"("+e.internal.pdfEscape(i)+")"},e.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(i,s){for(var r=0;r<s.children.length;r++)i.count++,this.count_r(i,s.children[r]);return i.count}}])}(Ne.API),function(l){var t=[192,193,194,195,196,197,198,199];l.processJPEG=function(e,i,s,r,o,c){var h,p=this.decode.DCT_DECODE,m=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=o||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(h=function(y){for(var A,b=256*y.charCodeAt(4)+y.charCodeAt(5),N=y.length,E={width:0,height:0,numcomponents:1},T=4;T<N;T+=2){if(T+=b,t.indexOf(y.charCodeAt(T+1))!==-1){A=256*y.charCodeAt(T+5)+y.charCodeAt(T+6),E={width:256*y.charCodeAt(T+7)+y.charCodeAt(T+8),height:A,numcomponents:y.charCodeAt(T+9)};break}b=256*y.charCodeAt(T+2)+y.charCodeAt(T+3)}return E}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}m={data:e,width:h.width,height:h.height,colorSpace:c,bitsPerComponent:8,filter:p,index:i,alias:s}}return m}}(Ne.API);var Jp,T5,l4,u4,c4,JL=function(){var l,t,e;function i(r){var o,c,h,p,m,y,A,b,N,E,T,L,R,k;for(this.data=r,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},y=null;;){switch(o=this.readUInt32(),N=(function(){var j,H;for(H=[],j=0;j<4;++j)H.push(String.fromCharCode(this.data[this.pos++]));return H}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":y&&this.animation.frames.push(y),this.pos+=4,y={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},m=this.readUInt16(),p=this.readUInt16()||100,y.delay=1e3*m/p,y.disposeOp=this.data[this.pos++],y.blendOp=this.data[this.pos++],y.data=[];break;case"IDAT":case"fdAT":for(N==="fdAT"&&(this.pos+=4,o-=4),r=(y!=null?y.data:void 0)||this.imgData,L=0;0<=o?L<o:L>o;0<=o?++L:--L)r.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(h=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>h)throw new Error("More transparent colors than palette size");if((E=h-this.transparency.indexed.length)>0)for(R=0;0<=E?R<E:R>E;0<=E?++R:--R)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":A=(T=this.read(o)).indexOf(0),b=String.fromCharCode.apply(String,T.slice(0,A)),this.text[b]=String.fromCharCode.apply(String,T.slice(A+1));break;case"IEND":return y&&this.animation.frames.push(y),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(k=this.colorType)===4||k===6,c=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*c,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(r){var o,c;for(c=[],o=0;0<=r?o<r:o>r;0<=r?++o:--o)c.push(this.data[this.pos++]);return c},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(r){var o=this.pixelBitlength/8,c=new Uint8Array(this.width*this.height*o),h=0,p=this;if(r==null&&(r=this.imgData),r.length===0)return new Uint8Array(0);function m(y,A,b,N){var E,T,L,R,k,j,H,tt,Z,Q,et,ft,q,W,lt,nt,Tt,it,ct,dt,Lt,$=Math.ceil((p.width-y)/b),St=Math.ceil((p.height-A)/N),P=p.width==$&&p.height==St;for(W=o*$,ft=P?c:new Uint8Array(W*St),j=r.length,q=0,T=0;q<St&&h<j;){switch(r[h++]){case 0:for(R=Tt=0;Tt<W;R=Tt+=1)ft[T++]=r[h++];break;case 1:for(R=it=0;it<W;R=it+=1)E=r[h++],k=R<o?0:ft[T-o],ft[T++]=(E+k)%256;break;case 2:for(R=ct=0;ct<W;R=ct+=1)E=r[h++],L=(R-R%o)/o,lt=q&&ft[(q-1)*W+L*o+R%o],ft[T++]=(lt+E)%256;break;case 3:for(R=dt=0;dt<W;R=dt+=1)E=r[h++],L=(R-R%o)/o,k=R<o?0:ft[T-o],lt=q&&ft[(q-1)*W+L*o+R%o],ft[T++]=(E+Math.floor((k+lt)/2))%256;break;case 4:for(R=Lt=0;Lt<W;R=Lt+=1)E=r[h++],L=(R-R%o)/o,k=R<o?0:ft[T-o],q===0?lt=nt=0:(lt=ft[(q-1)*W+L*o+R%o],nt=L&&ft[(q-1)*W+(L-1)*o+R%o]),H=k+lt-nt,tt=Math.abs(H-k),Q=Math.abs(H-lt),et=Math.abs(H-nt),Z=tt<=Q&&tt<=et?k:Q<=et?lt:nt,ft[T++]=(E+Z)%256;break;default:throw new Error("Invalid filter algorithm: "+r[h-1])}if(!P){var V=((A+q*N)*p.width+y)*o,K=q*W;for(R=0;R<$;R+=1){for(var at=0;at<o;at+=1)c[V++]=ft[K++];V+=(b-1)*o}}q++}}return r=ML(r),p.interlaceMethod==1?(m(0,0,8,8),m(4,0,8,8),m(0,4,4,8),m(2,0,4,4),m(0,2,2,4),m(1,0,2,2),m(0,1,1,2)):m(0,0,1,1),c},i.prototype.decodePalette=function(){var r,o,c,h,p,m,y,A,b;for(c=this.palette,m=this.transparency.indexed||[],p=new Uint8Array((m.length||0)+c.length),h=0,r=0,o=y=0,A=c.length;y<A;o=y+=3)p[h++]=c[o],p[h++]=c[o+1],p[h++]=c[o+2],p[h++]=(b=m[r++])!=null?b:255;return p},i.prototype.copyToImageData=function(r,o){var c,h,p,m,y,A,b,N,E,T,L;if(h=this.colors,E=null,c=this.hasAlphaChannel,this.palette.length&&(E=(L=this._decodedPalette)!=null?L:this._decodedPalette=this.decodePalette(),h=4,c=!0),N=(p=r.data||r).length,y=E||o,m=A=0,h===1)for(;m<N;)b=E?4*o[m/4]:A,T=y[b++],p[m++]=T,p[m++]=T,p[m++]=T,p[m++]=c?y[b++]:255,A=b;else for(;m<N;)b=E?4*o[m/4]:A,p[m++]=y[b++],p[m++]=y[b++],p[m++]=y[b++],p[m++]=c?y[b++]:255,A=b},i.prototype.decode=function(){var r;return r=new Uint8Array(this.width*this.height*4),this.copyToImageData(r,this.decodePixels()),r};var s=function(){if(Object.prototype.toString.call(Te)==="[object Window]"){try{t=Te.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return s(),l=function(r){var o;if(s()===!0)return e.width=r.width,e.height=r.height,e.clearRect(0,0,r.width,r.height),e.putImageData(r,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(r){var o,c,h,p,m,y,A,b;if(this.animation){for(b=[],c=m=0,y=(A=this.animation.frames).length;m<y;c=++m)o=A[c],h=r.createImageData(o.width,o.height),p=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(h,p),o.imageData=h,b.push(o.image=l(h));return b}},i.prototype.renderFrame=function(r,o){var c,h,p;return c=(h=this.animation.frames)[o],p=h[o-1],o===0&&r.clearRect(0,0,this.width,this.height),(p!=null?p.disposeOp:void 0)===1?r.clearRect(p.xOffset,p.yOffset,p.width,p.height):(p!=null?p.disposeOp:void 0)===2&&r.putImageData(p.imageData,p.xOffset,p.yOffset),c.blendOp===0&&r.clearRect(c.xOffset,c.yOffset,c.width,c.height),r.drawImage(c.image,c.xOffset,c.yOffset)},i.prototype.animate=function(r){var o,c,h,p,m,y,A=this;return c=0,y=this.animation,p=y.numFrames,h=y.frames,m=y.numPlays,(o=function(){var b,N;if(b=c++%p,N=h[b],A.renderFrame(r,b),p>1&&c/p<m)return A.animation._timeout=setTimeout(o,N.delay)})()},i.prototype.stopAnimation=function(){var r;return clearTimeout((r=this.animation)!=null?r._timeout:void 0)},i.prototype.render=function(r){var o,c;return r._png&&r._png.stopAnimation(),r._png=this,r.width=this.width,r.height=this.height,o=r.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(c=o.createImageData(this.width,this.height),this.copyToImageData(c,this.decodePixels()),o.putImageData(c,0,0))},i}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function tC(l){var t=0;if(l[t++]!==71||l[t++]!==73||l[t++]!==70||l[t++]!==56||(l[t++]+1&253)!=56||l[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=l[t++]|l[t++]<<8,i=l[t++]|l[t++]<<8,s=l[t++],r=s>>7,o=1<<(7&s)+1;l[t++],l[t++];var c=null,h=null;r&&(c=t,h=o,t+=3*o);var p=!0,m=[],y=0,A=null,b=0,N=null;for(this.width=e,this.height=i;p&&t<l.length;)switch(l[t++]){case 33:switch(l[t++]){case 255:if(l[t]!==11||l[t+1]==78&&l[t+2]==69&&l[t+3]==84&&l[t+4]==83&&l[t+5]==67&&l[t+6]==65&&l[t+7]==80&&l[t+8]==69&&l[t+9]==50&&l[t+10]==46&&l[t+11]==48&&l[t+12]==3&&l[t+13]==1&&l[t+16]==0)t+=14,N=l[t++]|l[t++]<<8,t++;else for(t+=12;;){if(!((q=l[t++])>=0))throw Error("Invalid block size");if(q===0)break;t+=q}break;case 249:if(l[t++]!==4||l[t+4]!==0)throw new Error("Invalid graphics extension block.");var E=l[t++];y=l[t++]|l[t++]<<8,A=l[t++],(1&E)==0&&(A=null),b=E>>2&7,t++;break;case 254:for(;;){if(!((q=l[t++])>=0))throw Error("Invalid block size");if(q===0)break;t+=q}break;default:throw new Error("Unknown graphic control label: 0x"+l[t-1].toString(16))}break;case 44:var T=l[t++]|l[t++]<<8,L=l[t++]|l[t++]<<8,R=l[t++]|l[t++]<<8,k=l[t++]|l[t++]<<8,j=l[t++],H=j>>6&1,tt=1<<(7&j)+1,Z=c,Q=h,et=!1;j>>7&&(et=!0,Z=t,Q=tt,t+=3*tt);var ft=t;for(t++;;){var q;if(!((q=l[t++])>=0))throw Error("Invalid block size");if(q===0)break;t+=q}m.push({x:T,y:L,width:R,height:k,has_local_palette:et,palette_offset:Z,palette_size:Q,data_offset:ft,data_length:t-ft,transparent_index:A,interlaced:!!H,delay:y,disposal:b});break;case 59:p=!1;break;default:throw new Error("Unknown gif block: 0x"+l[t-1].toString(16))}this.numFrames=function(){return m.length},this.loopCount=function(){return N},this.frameInfo=function(W){if(W<0||W>=m.length)throw new Error("Frame index out of range.");return m[W]},this.decodeAndBlitFrameBGRA=function(W,lt){var nt=this.frameInfo(W),Tt=nt.width*nt.height,it=new Uint8Array(Tt);h4(l,nt.data_offset,it,Tt);var ct=nt.palette_offset,dt=nt.transparent_index;dt===null&&(dt=256);var Lt=nt.width,$=e-Lt,St=Lt,P=4*(nt.y*e+nt.x),V=4*((nt.y+nt.height)*e+nt.x),K=P,at=4*$;nt.interlaced===!0&&(at+=4*e*7);for(var ut=8,bt=0,At=it.length;bt<At;++bt){var Et=it[bt];if(St===0&&(St=Lt,(K+=at)>=V&&(at=4*$+4*e*(ut-1),K=P+(Lt+$)*(ut<<1),ut>>=1)),Et===dt)K+=4;else{var Ut=l[ct+3*Et],Vt=l[ct+3*Et+1],Jt=l[ct+3*Et+2];lt[K++]=Jt,lt[K++]=Vt,lt[K++]=Ut,lt[K++]=255}--St}},this.decodeAndBlitFrameRGBA=function(W,lt){var nt=this.frameInfo(W),Tt=nt.width*nt.height,it=new Uint8Array(Tt);h4(l,nt.data_offset,it,Tt);var ct=nt.palette_offset,dt=nt.transparent_index;dt===null&&(dt=256);var Lt=nt.width,$=e-Lt,St=Lt,P=4*(nt.y*e+nt.x),V=4*((nt.y+nt.height)*e+nt.x),K=P,at=4*$;nt.interlaced===!0&&(at+=4*e*7);for(var ut=8,bt=0,At=it.length;bt<At;++bt){var Et=it[bt];if(St===0&&(St=Lt,(K+=at)>=V&&(at=4*$+4*e*(ut-1),K=P+(Lt+$)*(ut<<1),ut>>=1)),Et===dt)K+=4;else{var Ut=l[ct+3*Et],Vt=l[ct+3*Et+1],Jt=l[ct+3*Et+2];lt[K++]=Ut,lt[K++]=Vt,lt[K++]=Jt,lt[K++]=255}--St}}}function h4(l,t,e,i){for(var s=l[t++],r=1<<s,o=r+1,c=o+1,h=s+1,p=(1<<h)-1,m=0,y=0,A=0,b=l[t++],N=new Int32Array(4096),E=null;;){for(;m<16&&b!==0;)y|=l[t++]<<m,m+=8,b===1?b=l[t++]:--b;if(m<h)break;var T=y&p;if(y>>=h,m-=h,T!==r){if(T===o)break;for(var L=T<c?T:E,R=0,k=L;k>r;)k=N[k]>>8,++R;var j=k;if(A+R+(L!==T?1:0)>i)return void ki.log("Warning, gif stream longer than expected.");e[A++]=j;var H=A+=R;for(L!==T&&(e[A++]=j),k=L;R--;)k=N[k],e[--H]=255&k,k>>=8;E!==null&&c<4096&&(N[c++]=E<<8|j,c>=p+1&&h<12&&(++h,p=p<<1|1)),E=T}else c=o+1,p=(1<<(h=s+1))-1,E=null}return A!==i&&ki.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Py(l){var t,e,i,s,r,o=Math.floor,c=new Array(64),h=new Array(64),p=new Array(64),m=new Array(64),y=new Array(65535),A=new Array(65535),b=new Array(64),N=new Array(64),E=[],T=0,L=7,R=new Array(64),k=new Array(64),j=new Array(64),H=new Array(256),tt=new Array(2048),Z=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Q=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],et=[0,1,2,3,4,5,6,7,8,9,10,11],ft=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],q=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],W=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],lt=[0,1,2,3,4,5,6,7,8,9,10,11],nt=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Tt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function it(P,V){for(var K=0,at=0,ut=new Array,bt=1;bt<=16;bt++){for(var At=1;At<=P[bt];At++)ut[V[at]]=[],ut[V[at]][0]=K,ut[V[at]][1]=bt,at++,K++;K*=2}return ut}function ct(P){for(var V=P[0],K=P[1]-1;K>=0;)V&1<<K&&(T|=1<<L),K--,--L<0&&(T==255?(dt(255),dt(0)):dt(T),L=7,T=0)}function dt(P){E.push(P)}function Lt(P){dt(P>>8&255),dt(255&P)}function $(P,V,K,at,ut){for(var bt,At=ut[0],Et=ut[240],Ut=function($t,te){var ne,ee,me,Ae,Be,ze,Ze,li,Le,He,re=0;for(Le=0;Le<8;++Le){ne=$t[re],ee=$t[re+1],me=$t[re+2],Ae=$t[re+3],Be=$t[re+4],ze=$t[re+5],Ze=$t[re+6];var Qn=ne+(li=$t[re+7]),Xe=ne-li,Ui=ee+Ze,wi=ee-Ze,ui=me+ze,$i=me-ze,pi=Ae+Be,$l=Ae-Be,Ki=Qn+pi,Rs=Qn-pi,ba=Ui+ui,bi=Ui-ui;$t[re]=Ki+ba,$t[re+4]=Ki-ba;var Ce=.707106781*(bi+Rs);$t[re+2]=Rs+Ce,$t[re+6]=Rs-Ce;var Je=.382683433*((Ki=$l+$i)-(bi=wi+Xe)),Kl=.5411961*Ki+Je,Mn=1.306562965*bi+Je,ja=.707106781*(ba=$i+wi),ya=Xe+ja,be=Xe-ja;$t[re+5]=be+Kl,$t[re+3]=be-Kl,$t[re+1]=ya+Mn,$t[re+7]=ya-Mn,re+=8}for(re=0,Le=0;Le<8;++Le){ne=$t[re],ee=$t[re+8],me=$t[re+16],Ae=$t[re+24],Be=$t[re+32],ze=$t[re+40],Ze=$t[re+48];var za=ne+(li=$t[re+56]),qa=ne-li,ds=ee+Ze,dn=ee-Ze,sn=me+ze,Ks=me-ze,Qs=Ae+Be,Di=Ae-Be,Pi=za+Qs,Zn=za-Qs,Zs=ds+sn,Cr=ds-sn;$t[re]=Pi+Zs,$t[re+32]=Pi-Zs;var wa=.707106781*(Cr+Zn);$t[re+16]=Zn+wa,$t[re+48]=Zn-wa;var Ua=.382683433*((Pi=Di+Ks)-(Cr=dn+qa)),Ha=.5411961*Pi+Ua,Wo=1.306562965*Cr+Ua,Aa=.707106781*(Zs=Ks+dn),Ga=qa+Aa,Tr=qa-Aa;$t[re+40]=Tr+Ha,$t[re+24]=Tr-Ha,$t[re+8]=Ga+Wo,$t[re+56]=Ga-Wo,re++}for(Le=0;Le<64;++Le)He=$t[Le]*te[Le],b[Le]=He>0?He+.5|0:He-.5|0;return b}(P,V),Vt=0;Vt<64;++Vt)N[Z[Vt]]=Ut[Vt];var Jt=N[0]-K;K=N[0],Jt==0?ct(at[0]):(ct(at[A[bt=32767+Jt]]),ct(y[bt]));for(var Qt=63;Qt>0&&N[Qt]==0;)Qt--;if(Qt==0)return ct(At),K;for(var ve,Ot=1;Ot<=Qt;){for(var ot=Ot;N[Ot]==0&&Ot<=Qt;)++Ot;var Re=Ot-ot;if(Re>=16){ve=Re>>4;for(var ue=1;ue<=ve;++ue)ct(Et);Re&=15}bt=32767+N[Ot],ct(ut[(Re<<4)+A[bt]]),ct(y[bt]),Ot++}return Qt!=63&&ct(At),K}function St(P){P=Math.min(Math.max(P,1),100),r!=P&&(function(V){for(var K=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],at=0;at<64;at++){var ut=o((K[at]*V+50)/100);ut=Math.min(Math.max(ut,1),255),c[Z[at]]=ut}for(var bt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],At=0;At<64;At++){var Et=o((bt[At]*V+50)/100);Et=Math.min(Math.max(Et,1),255),h[Z[At]]=Et}for(var Ut=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Vt=0,Jt=0;Jt<8;Jt++)for(var Qt=0;Qt<8;Qt++)p[Vt]=1/(c[Z[Vt]]*Ut[Jt]*Ut[Qt]*8),m[Vt]=1/(h[Z[Vt]]*Ut[Jt]*Ut[Qt]*8),Vt++}(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),r=P)}this.encode=function(P,V){V&&St(V),E=new Array,T=0,L=7,Lt(65496),Lt(65504),Lt(16),dt(74),dt(70),dt(73),dt(70),dt(0),dt(1),dt(1),dt(0),Lt(1),Lt(1),dt(0),dt(0),function(){Lt(65499),Lt(132),dt(0);for(var ee=0;ee<64;ee++)dt(c[ee]);dt(1);for(var me=0;me<64;me++)dt(h[me])}(),function(ee,me){Lt(65472),Lt(17),dt(8),Lt(me),Lt(ee),dt(3),dt(1),dt(17),dt(0),dt(2),dt(17),dt(1),dt(3),dt(17),dt(1)}(P.width,P.height),function(){Lt(65476),Lt(418),dt(0);for(var ee=0;ee<16;ee++)dt(Q[ee+1]);for(var me=0;me<=11;me++)dt(et[me]);dt(16);for(var Ae=0;Ae<16;Ae++)dt(ft[Ae+1]);for(var Be=0;Be<=161;Be++)dt(q[Be]);dt(1);for(var ze=0;ze<16;ze++)dt(W[ze+1]);for(var Ze=0;Ze<=11;Ze++)dt(lt[Ze]);dt(17);for(var li=0;li<16;li++)dt(nt[li+1]);for(var Le=0;Le<=161;Le++)dt(Tt[Le])}(),Lt(65498),Lt(12),dt(3),dt(1),dt(0),dt(2),dt(17),dt(3),dt(17),dt(0),dt(63),dt(0);var K=0,at=0,ut=0;T=0,L=7,this.encode.displayName="_encode_";for(var bt,At,Et,Ut,Vt,Jt,Qt,ve,Ot,ot=P.data,Re=P.width,ue=P.height,$t=4*Re,te=0;te<ue;){for(bt=0;bt<$t;){for(Vt=$t*te+bt,Qt=-1,ve=0,Ot=0;Ot<64;Ot++)Jt=Vt+(ve=Ot>>3)*$t+(Qt=4*(7&Ot)),te+ve>=ue&&(Jt-=$t*(te+1+ve-ue)),bt+Qt>=$t&&(Jt-=bt+Qt-$t+4),At=ot[Jt++],Et=ot[Jt++],Ut=ot[Jt++],R[Ot]=(tt[At]+tt[Et+256>>0]+tt[Ut+512>>0]>>16)-128,k[Ot]=(tt[At+768>>0]+tt[Et+1024>>0]+tt[Ut+1280>>0]>>16)-128,j[Ot]=(tt[At+1280>>0]+tt[Et+1536>>0]+tt[Ut+1792>>0]>>16)-128;K=$(R,p,K,t,i),at=$(k,m,at,e,s),ut=$(j,m,ut,e,s),bt+=32}te+=8}if(L>=0){var ne=[];ne[1]=L+1,ne[0]=(1<<L+1)-1,ct(ne)}return Lt(65497),new Uint8Array(E)},l=l||50,function(){for(var P=String.fromCharCode,V=0;V<256;V++)H[V]=P(V)}(),t=it(Q,et),e=it(W,lt),i=it(ft,q),s=it(nt,Tt),function(){for(var P=1,V=2,K=1;K<=15;K++){for(var at=P;at<V;at++)A[32767+at]=K,y[32767+at]=[],y[32767+at][1]=K,y[32767+at][0]=at;for(var ut=-(V-1);ut<=-P;ut++)A[32767+ut]=K,y[32767+ut]=[],y[32767+ut][1]=K,y[32767+ut][0]=V-1+ut;P<<=1,V<<=1}}(),function(){for(var P=0;P<256;P++)tt[P]=19595*P,tt[P+256>>0]=38470*P,tt[P+512>>0]=7471*P+32768,tt[P+768>>0]=-11059*P,tt[P+1024>>0]=-21709*P,tt[P+1280>>0]=32768*P+8421375,tt[P+1536>>0]=-27439*P,tt[P+1792>>0]=-5329*P}(),St(l)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Lo(l,t){if(this.pos=0,this.buffer=l,this.datav=new DataView(l.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function f4(l){function t(Q){if(!Q)throw Error("assert :P")}function e(Q,et,ft){for(var q=0;4>q;q++)if(Q[et+q]!=ft.charCodeAt(q))return!0;return!1}function i(Q,et,ft,q,W){for(var lt=0;lt<W;lt++)Q[et+lt]=ft[q+lt]}function s(Q,et,ft,q){for(var W=0;W<q;W++)Q[et+W]=ft}function r(Q){return new Int32Array(Q)}function o(Q,et){for(var ft=[],q=0;q<Q;q++)ft.push(new et);return ft}function c(Q,et){var ft=[];return function q(W,lt,nt){for(var Tt=nt[lt],it=0;it<Tt&&(W.push(nt.length>lt+1?[]:new et),!(nt.length<lt+1));it++)q(W[it],lt+1,nt)}(ft,0,Q),ft}var h=function(){var Q=this;function et(g,w){for(var x=1<<w-1>>>0;g&x;)x>>>=1;return x?(g&x-1)+x:g}function ft(g,w,x,C,O){t(!(C%x));do g[w+(C-=x)]=O;while(0<C)}function q(g,w,x,C,O){if(t(2328>=O),512>=O)var z=r(512);else if((z=r(O))==null)return 0;return function(U,G,X,J,gt,Nt){var Rt,yt,kt=G,Ct=1<<X,ht=r(16),mt=r(16);for(t(gt!=0),t(J!=null),t(U!=null),t(0<X),yt=0;yt<gt;++yt){if(15<J[yt])return 0;++ht[J[yt]]}if(ht[0]==gt)return 0;for(mt[1]=0,Rt=1;15>Rt;++Rt){if(ht[Rt]>1<<Rt)return 0;mt[Rt+1]=mt[Rt]+ht[Rt]}for(yt=0;yt<gt;++yt)Rt=J[yt],0<J[yt]&&(Nt[mt[Rt]++]=yt);if(mt[15]==1)return(J=new W).g=0,J.value=Nt[0],ft(U,kt,1,Ct,J),Ct;var Bt,Ht=-1,qt=Ct-1,se=0,Zt=1,Se=1,Wt=1<<X;for(yt=0,Rt=1,gt=2;Rt<=X;++Rt,gt<<=1){if(Zt+=Se<<=1,0>(Se-=ht[Rt]))return 0;for(;0<ht[Rt];--ht[Rt])(J=new W).g=Rt,J.value=Nt[yt++],ft(U,kt+se,gt,Wt,J),se=et(se,Rt)}for(Rt=X+1,gt=2;15>=Rt;++Rt,gt<<=1){if(Zt+=Se<<=1,0>(Se-=ht[Rt]))return 0;for(;0<ht[Rt];--ht[Rt]){if(J=new W,(se&qt)!=Ht){for(kt+=Wt,Bt=1<<(Ht=Rt)-X;15>Ht&&!(0>=(Bt-=ht[Ht]));)++Ht,Bt<<=1;Ct+=Wt=1<<(Bt=Ht-X),U[G+(Ht=se&qt)].g=Bt+X,U[G+Ht].value=kt-G-Ht}J.g=Rt-X,J.value=Nt[yt++],ft(U,kt+(se>>X),gt,Wt,J),se=et(se,Rt)}}return Zt!=2*mt[15]-1?0:Ct}(g,w,x,C,O,z)}function W(){this.value=this.g=0}function lt(){this.value=this.g=0}function nt(){this.G=o(5,W),this.H=r(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(An,lt)}function Tt(g,w,x,C){t(g!=null),t(w!=null),t(2147483648>C),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=w,g.pa=x,g.Jd=w,g.Yc=x+C,g.Zc=4<=C?x+C-4+1:x,bt(g)}function it(g,w){for(var x=0;0<w--;)x|=Et(g,128)<<w;return x}function ct(g,w){var x=it(g,w);return At(g)?-x:x}function dt(g,w,x,C){var O,z=0;for(t(g!=null),t(w!=null),t(4294967288>C),g.Sb=C,g.Ra=0,g.u=0,g.h=0,4<C&&(C=4),O=0;O<C;++O)z+=w[x+O]<<8*O;g.Ra=z,g.bb=C,g.oa=w,g.pa=x}function Lt(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<su-8>>>0,++g.bb,g.u-=8;K(g)&&(g.h=1,g.u=0)}function $(g,w){if(t(0<=w),!g.h&&w<=nu){var x=V(g)&sl[w];return g.u+=w,Lt(g),x}return g.h=1,g.u=0}function St(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function P(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(g){return g.Ra>>>(g.u&su-1)>>>0}function K(g){return t(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>su}function at(g,w){g.u=w,g.h=K(g)}function ut(g){g.u>=Oc&&(t(g.u>=Oc),Lt(g))}function bt(g){t(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(t(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function At(g){return it(g,1)}function Et(g,w){var x=g.Ca;0>g.b&&bt(g);var C=g.b,O=x*w>>>8,z=(g.I>>>C>O)+0;for(z?(x-=O,g.I-=O+1<<C>>>0):x=O+1,C=x,O=0;256<=C;)O+=8,C>>=8;return C=7^O+ks[C],g.b-=C,g.Ca=(x<<C)-1,z}function Ut(g,w,x){g[w+0]=x>>24&255,g[w+1]=x>>16&255,g[w+2]=x>>8&255,g[w+3]=x>>0&255}function Vt(g,w){return g[w+0]<<0|g[w+1]<<8}function Jt(g,w){return Vt(g,w)|g[w+2]<<16}function Qt(g,w){return Vt(g,w)|Vt(g,w+2)<<16}function ve(g,w){var x=1<<w;return t(g!=null),t(0<w),g.X=r(x),g.X==null?0:(g.Mb=32-w,g.Xa=w,1)}function Ot(g,w){t(g!=null),t(w!=null),t(g.Xa==w.Xa),i(w.X,0,g.X,0,1<<w.Xa)}function ot(){this.X=[],this.Xa=this.Mb=0}function Re(g,w,x,C){t(x!=null),t(C!=null);var O=x[0],z=C[0];return O==0&&(O=(g*z+w/2)/w),z==0&&(z=(w*O+g/2)/g),0>=O||0>=z?0:(x[0]=O,C[0]=z,1)}function ue(g,w){return g+(1<<w)-1>>>w}function $t(g,w){return((4278255360&g)+(4278255360&w)>>>0&4278255360)+((16711935&g)+(16711935&w)>>>0&16711935)>>>0}function te(g,w){Q[w]=function(x,C,O,z,U,G,X){var J;for(J=0;J<U;++J){var gt=Q[g](G[X+J-1],O,z+J);G[X+J]=$t(x[C+J],gt)}}}function ne(){this.ud=this.hd=this.jd=0}function ee(g,w){return((4278124286&(g^w))>>>1)+(g&w)>>>0}function me(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function Ae(g,w){return me(g+(g-w+.5>>1))}function Be(g,w,x){return Math.abs(w-x)-Math.abs(g-x)}function ze(g,w,x,C,O,z,U){for(C=z[U-1],x=0;x<O;++x)z[U+x]=C=$t(g[w+x],C)}function Ze(g,w,x,C,O){var z;for(z=0;z<x;++z){var U=g[w+z],G=U>>8&255,X=16711935&(X=(X=16711935&U)+((G<<16)+G));C[O+z]=(4278255360&U)+X>>>0}}function li(g,w){w.jd=g>>0&255,w.hd=g>>8&255,w.ud=g>>16&255}function Le(g,w,x,C,O,z){var U;for(U=0;U<C;++U){var G=w[x+U],X=G>>>8,J=G,gt=255&(gt=(gt=G>>>16)+((g.jd<<24>>24)*(X<<24>>24)>>>5));J=255&(J=(J=J+((g.hd<<24>>24)*(X<<24>>24)>>>5))+((g.ud<<24>>24)*(gt<<24>>24)>>>5)),O[z+U]=(4278255360&G)+(gt<<16)+J}}function He(g,w,x,C,O){Q[w]=function(z,U,G,X,J,gt,Nt,Rt,yt){for(X=Nt;X<Rt;++X)for(Nt=0;Nt<yt;++Nt)J[gt++]=O(G[C(z[U++])])},Q[g]=function(z,U,G,X,J,gt,Nt){var Rt=8>>z.b,yt=z.Ea,kt=z.K[0],Ct=z.w;if(8>Rt)for(z=(1<<z.b)-1,Ct=(1<<Rt)-1;U<G;++U){var ht,mt=0;for(ht=0;ht<yt;++ht)ht&z||(mt=C(X[J++])),gt[Nt++]=O(kt[mt&Ct]),mt>>=Rt}else Q["VP8LMapColor"+x](X,J,kt,Ct,gt,Nt,U,G,yt)}}function re(g,w,x,C,O){for(x=w+x;w<x;){var z=g[w++];C[O++]=z>>16&255,C[O++]=z>>8&255,C[O++]=z>>0&255}}function Qn(g,w,x,C,O){for(x=w+x;w<x;){var z=g[w++];C[O++]=z>>16&255,C[O++]=z>>8&255,C[O++]=z>>0&255,C[O++]=z>>24&255}}function Xe(g,w,x,C,O){for(x=w+x;w<x;){var z=(U=g[w++])>>16&240|U>>12&15,U=U>>0&240|U>>28&15;C[O++]=z,C[O++]=U}}function Ui(g,w,x,C,O){for(x=w+x;w<x;){var z=(U=g[w++])>>16&248|U>>13&7,U=U>>5&224|U>>3&31;C[O++]=z,C[O++]=U}}function wi(g,w,x,C,O){for(x=w+x;w<x;){var z=g[w++];C[O++]=z>>0&255,C[O++]=z>>8&255,C[O++]=z>>16&255}}function ui(g,w,x,C,O,z){if(z==0)for(x=w+x;w<x;)Ut(C,((z=g[w++])[0]>>24|z[1]>>8&65280|z[2]<<8&16711680|z[3]<<24)>>>0),O+=32;else i(C,O,g,w,x)}function $i(g,w){Q[w][0]=Q[g+"0"],Q[w][1]=Q[g+"1"],Q[w][2]=Q[g+"2"],Q[w][3]=Q[g+"3"],Q[w][4]=Q[g+"4"],Q[w][5]=Q[g+"5"],Q[w][6]=Q[g+"6"],Q[w][7]=Q[g+"7"],Q[w][8]=Q[g+"8"],Q[w][9]=Q[g+"9"],Q[w][10]=Q[g+"10"],Q[w][11]=Q[g+"11"],Q[w][12]=Q[g+"12"],Q[w][13]=Q[g+"13"],Q[w][14]=Q[g+"0"],Q[w][15]=Q[g+"0"]}function pi(g){return g==Qa||g==Za||g==Fr||g==_p}function $l(){this.eb=[],this.size=this.A=this.fb=0}function Ki(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Rs(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new $l,this.f.kb=new Ki,this.sd=null}function ba(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function bi(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ce(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function Je(g,w){var x=g.T,C=w.ba.f.RGBA,O=C.eb,z=C.fb+g.ka*C.A,U=vs[w.ba.S],G=g.y,X=g.O,J=g.f,gt=g.N,Nt=g.ea,Rt=g.W,yt=w.cc,kt=w.dc,Ct=w.Mc,ht=w.Nc,mt=g.ka,Bt=g.ka+g.T,Ht=g.U,qt=Ht+1>>1;for(mt==0?U(G,X,null,null,J,gt,Nt,Rt,J,gt,Nt,Rt,O,z,null,null,Ht):(U(w.ec,w.fc,G,X,yt,kt,Ct,ht,J,gt,Nt,Rt,O,z-C.A,O,z,Ht),++x);mt+2<Bt;mt+=2)yt=J,kt=gt,Ct=Nt,ht=Rt,gt+=g.Rc,Rt+=g.Rc,z+=2*C.A,U(G,(X+=2*g.fa)-g.fa,G,X,yt,kt,Ct,ht,J,gt,Nt,Rt,O,z-C.A,O,z,Ht);return X+=g.fa,g.j+Bt<g.o?(i(w.ec,w.fc,G,X,Ht),i(w.cc,w.dc,J,gt,qt),i(w.Mc,w.Nc,Nt,Rt,qt),x--):1&Bt||U(G,X,null,null,J,gt,Nt,Rt,J,gt,Nt,Rt,O,z+C.A,null,null,Ht),x}function Kl(g,w,x){var C=g.F,O=[g.J];if(C!=null){var z=g.U,U=w.ba.S,G=U==ms||U==Fr;w=w.ba.f.RGBA;var X=[0],J=g.ka;X[0]=g.T,g.Kb&&(J==0?--X[0]:(--J,O[0]-=g.width),g.j+g.ka+g.T==g.o&&(X[0]=g.o-g.j-J));var gt=w.eb;J=w.fb+J*w.A,g=ci(C,O[0],g.width,z,X,gt,J+(G?0:3),w.A),t(x==X),g&&pi(U)&&Qi(gt,J,G,z,X,w.A)}return 0}function Mn(g){var w=g.ma,x=w.ba.S,C=11>x,O=x==go||x==lu||x==ms||x==Os||x==12||pi(x);if(w.memory=null,w.Ib=null,w.Jb=null,w.Nd=null,!nl(w.Oa,g,O?11:12))return 0;if(O&&pi(x)&&Yt(),g.da)alert("todo:use_scaling");else{if(C){if(w.Ib=Ce,g.Kb){if(x=g.U+1>>1,w.memory=r(g.U+2*x),w.memory==null)return 0;w.ec=w.memory,w.fc=0,w.cc=w.ec,w.dc=w.fc+g.U,w.Mc=w.cc,w.Nc=w.dc+x,w.Ib=Je,Yt()}}else alert("todo:EmitYUV");O&&(w.Jb=Kl,C&&_t())}if(C&&!er){for(g=0;256>g;++g)pl[g]=89858*(g-128)+Lf>>cu,vo[g]=-22014*(g-128)+Lf,gl[g]=-45773*(g-128),F2[g]=113618*(g-128)+Lf>>cu;for(g=hu;g<Cf;++g)w=76283*(g-16)+Lf>>cu,Sn[g-hu]=ia(w,255),Np[g-hu]=ia(w+8>>4,15);er=1}return 1}function ja(g){var w=g.ma,x=g.U,C=g.T;return t(!(1&g.ka)),0>=x||0>=C?0:(x=w.Ib(g,w),w.Jb!=null&&w.Jb(g,w,x),w.Dc+=x,1)}function ya(g){g.ma.memory=null}function be(g,w,x,C){return $(g,8)!=47?0:(w[0]=$(g,14)+1,x[0]=$(g,14)+1,C[0]=$(g,1),$(g,3)!=0?0:!g.h)}function za(g,w){if(4>g)return g+1;var x=g-2>>1;return(2+(1&g)<<x)+$(w,x)+1}function qa(g,w){return 120<w?w-120:1<=(x=((x=Ja[w-1])>>4)*g+(8-(15&x)))?x:1;var x}function ds(g,w,x){var C=V(x),O=g[w+=255&C].g-8;return 0<O&&(at(x,x.u+8),C=V(x),w+=g[w].value,w+=C&(1<<O)-1),at(x,x.u+g[w].g),g[w].value}function dn(g,w,x){return x.g+=g.g,x.value+=g.value<<w>>>0,t(8>=x.g),g.g}function sn(g,w,x){var C=g.xc;return t((w=C==0?0:g.vc[g.md*(x>>C)+(w>>C)])<g.Wb),g.Ya[w]}function Ks(g,w,x,C){var O=g.ab,z=g.c*w,U=g.C;w=U+w;var G=x,X=C;for(C=g.Ta,x=g.Ua;0<O--;){var J=g.gc[O],gt=U,Nt=w,Rt=G,yt=X,kt=(X=C,G=x,J.Ea);switch(t(gt<Nt),t(Nt<=J.nc),J.hc){case 2:Sp(Rt,yt,(Nt-gt)*kt,X,G);break;case 0:var Ct=gt,ht=Nt,mt=X,Bt=G,Ht=(Wt=J).Ea;Ct==0&&(k1(Rt,yt,null,null,1,mt,Bt),ze(Rt,yt+1,0,0,Ht-1,mt,Bt+1),yt+=Ht,Bt+=Ht,++Ct);for(var qt=1<<Wt.b,se=qt-1,Zt=ue(Ht,Wt.b),Se=Wt.K,Wt=Wt.w+(Ct>>Wt.b)*Zt;Ct<ht;){var ii=Se,hi=Wt,ti=1;for(bf(Rt,yt,mt,Bt-Ht,1,mt,Bt);ti<Ht;){var Ye=(ti&~se)+qt;Ye>Ht&&(Ye=Ht),(0,lo[ii[hi++]>>8&15])(Rt,yt+ +ti,mt,Bt+ti-Ht,Ye-ti,mt,Bt+ti),ti=Ye}yt+=Ht,Bt+=Ht,++Ct&se||(Wt+=Zt)}Nt!=J.nc&&i(X,G-kt,X,G+(Nt-gt-1)*kt,kt);break;case 1:for(kt=Rt,ht=yt,Ht=(Rt=J.Ea)-(Bt=Rt&~(mt=(yt=1<<J.b)-1)),Ct=ue(Rt,J.b),qt=J.K,J=J.w+(gt>>J.b)*Ct;gt<Nt;){for(se=qt,Zt=J,Se=new ne,Wt=ht+Bt,ii=ht+Rt;ht<Wt;)li(se[Zt++],Se),rl(Se,kt,ht,yt,X,G),ht+=yt,G+=yt;ht<ii&&(li(se[Zt++],Se),rl(Se,kt,ht,Ht,X,G),ht+=Ht,G+=Ht),++gt&mt||(J+=Ct)}break;case 3:if(Rt==X&&yt==G&&0<J.b){for(ht=X,Rt=kt=G+(Nt-gt)*kt-(Bt=(Nt-gt)*ue(J.Ea,J.b)),yt=X,mt=G,Ct=[],Bt=(Ht=Bt)-1;0<=Bt;--Bt)Ct[Bt]=yt[mt+Bt];for(Bt=Ht-1;0<=Bt;--Bt)ht[Rt+Bt]=Ct[Bt];Ea(J,gt,Nt,X,kt,X,G)}else Ea(J,gt,Nt,Rt,yt,X,G)}G=C,X=x}X!=x&&i(C,x,G,X,z)}function Qs(g,w){var x=g.V,C=g.Ba+g.c*g.C,O=w-g.C;if(t(w<=g.l.o),t(16>=O),0<O){var z=g.l,U=g.Ta,G=g.Ua,X=z.width;if(Ks(g,O,x,C),O=G=[G],t((x=g.C)<(C=w)),t(z.v<z.va),C>z.o&&(C=z.o),x<z.j){var J=z.j-x;x=z.j,O[0]+=J*X}if(x>=C?x=0:(O[0]+=4*z.v,z.ka=x-z.j,z.U=z.va-z.v,z.T=C-x,x=1),x){if(G=G[0],11>(x=g.ca).S){var gt=x.f.RGBA,Nt=(C=x.S,O=z.U,z=z.T,J=gt.eb,gt.A),Rt=z;for(gt=gt.fb+g.Ma*gt.A;0<Rt--;){var yt=U,kt=G,Ct=O,ht=J,mt=gt;switch(C){case po:gs(yt,kt,Ct,ht,mt);break;case go:qn(yt,kt,Ct,ht,mt);break;case Qa:qn(yt,kt,Ct,ht,mt),Qi(ht,mt,0,Ct,1,0);break;case Sf:Ds(yt,kt,Ct,ht,mt);break;case lu:ui(yt,kt,Ct,ht,mt,1);break;case Za:ui(yt,kt,Ct,ht,mt,1),Qi(ht,mt,0,Ct,1,0);break;case ms:ui(yt,kt,Ct,ht,mt,0);break;case Fr:ui(yt,kt,Ct,ht,mt,0),Qi(ht,mt,1,Ct,1,0);break;case Os:ol(yt,kt,Ct,ht,mt);break;case _p:ol(yt,kt,Ct,ht,mt),Ve(ht,mt,Ct,1,0);break;case fl:uo(yt,kt,Ct,ht,mt);break;default:t(0)}G+=X,gt+=Nt}g.Ma+=z}else alert("todo:EmitRescaledRowsYUVA");t(g.Ma<=x.height)}}g.C=w,t(g.C<=g.i)}function Di(g){var w;if(0<g.ua)return 0;for(w=0;w<g.Wb;++w){var x=g.Ya[w].G,C=g.Ya[w].H;if(0<x[1][C[1]+0].g||0<x[2][C[2]+0].g||0<x[3][C[3]+0].g)return 0}return 1}function Pi(g,w,x,C,O,z){if(g.Z!=0){var U=g.qd,G=g.rd;for(t(Ca[g.Z]!=null);w<x;++w)Ca[g.Z](U,G,C,O,C,O,z),U=C,G=O,O+=z;g.qd=U,g.rd=G}}function Zn(g,w){var x=g.l.ma,C=x.Z==0||x.Z==1?g.l.j:g.C;if(C=g.C<C?C:g.C,t(w<=g.l.o),w>C){var O=g.l.width,z=x.ca,U=x.tb+O*C,G=g.V,X=g.Ba+g.c*C,J=g.gc;t(g.ab==1),t(J[0].hc==3),al(J[0],C,w,G,X,z,U),Pi(x,C,w,z,U,O)}g.C=g.Ma=w}function Zs(g,w,x,C,O,z,U){var G=g.$/C,X=g.$%C,J=g.m,gt=g.s,Nt=x+g.$,Rt=Nt;O=x+C*O;var yt=x+C*z,kt=280+gt.ua,Ct=g.Pb?G:16777216,ht=0<gt.ua?gt.Wa:null,mt=gt.wc,Bt=Nt<yt?sn(gt,X,G):null;t(g.C<z),t(yt<=O);var Ht=!1;t:for(;;){for(;Ht||Nt<yt;){var qt=0;if(G>=Ct){var se=Nt-x;t((Ct=g).Pb),Ct.wd=Ct.m,Ct.xd=se,0<Ct.s.ua&&Ot(Ct.s.Wa,Ct.s.vb),Ct=G+O1}if(X&mt||(Bt=sn(gt,X,G)),t(Bt!=null),Bt.Qb&&(w[Nt]=Bt.qb,Ht=!0),!Ht)if(ut(J),Bt.jc){qt=J,se=w;var Zt=Nt,Se=Bt.pd[V(qt)&An-1];t(Bt.jc),256>Se.g?(at(qt,qt.u+Se.g),se[Zt]=Se.value,qt=0):(at(qt,qt.u+Se.g-256),t(256<=Se.value),qt=Se.value),qt==0&&(Ht=!0)}else qt=ds(Bt.G[0],Bt.H[0],J);if(J.h)break;if(Ht||256>qt){if(!Ht)if(Bt.nd)w[Nt]=(Bt.qb|qt<<8)>>>0;else{if(ut(J),Ht=ds(Bt.G[1],Bt.H[1],J),ut(J),se=ds(Bt.G[2],Bt.H[2],J),Zt=ds(Bt.G[3],Bt.H[3],J),J.h)break;w[Nt]=(Zt<<24|Ht<<16|qt<<8|se)>>>0}if(Ht=!1,++Nt,++X>=C&&(X=0,++G,U!=null&&G<=z&&!(G%16)&&U(g,G),ht!=null))for(;Rt<Nt;)qt=w[Rt++],ht.X[(506832829*qt&4294967295)>>>ht.Mb]=qt}else if(280>qt){if(qt=za(qt-256,J),se=ds(Bt.G[4],Bt.H[4],J),ut(J),se=qa(C,se=za(se,J)),J.h)break;if(Nt-x<se||O-Nt<qt)break t;for(Zt=0;Zt<qt;++Zt)w[Nt+Zt]=w[Nt+Zt-se];for(Nt+=qt,X+=qt;X>=C;)X-=C,++G,U!=null&&G<=z&&!(G%16)&&U(g,G);if(t(Nt<=O),X&mt&&(Bt=sn(gt,X,G)),ht!=null)for(;Rt<Nt;)qt=w[Rt++],ht.X[(506832829*qt&4294967295)>>>ht.Mb]=qt}else{if(!(qt<kt))break t;for(Ht=qt-280,t(ht!=null);Rt<Nt;)qt=w[Rt++],ht.X[(506832829*qt&4294967295)>>>ht.Mb]=qt;qt=Nt,t(!(Ht>>>(se=ht).Xa)),w[qt]=se.X[Ht],Ht=!0}Ht||t(J.h==K(J))}if(g.Pb&&J.h&&Nt<O)t(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&Ot(g.s.vb,g.s.Wa);else{if(J.h)break t;U!=null&&U(g,G>z?z:G),g.a=0,g.$=Nt-x}return 1}return g.a=3,0}function Cr(g){t(g!=null),g.vc=null,g.yc=null,g.Ya=null;var w=g.Wa;w!=null&&(w.X=null),g.vb=null,t(g!=null)}function wa(){var g=new M1;return g==null?null:(g.a=0,g.xb=uu,$i("Predictor","VP8LPredictors"),$i("Predictor","VP8LPredictors_C"),$i("PredictorAdd","VP8LPredictorsAdd"),$i("PredictorAdd","VP8LPredictorsAdd_C"),Sp=Ze,rl=Le,gs=re,qn=Qn,ol=Xe,uo=Ui,Ds=wi,Q.VP8LMapColor32b=Pn,Q.VP8LMapColor8b=yf,g)}function Ua(g,w,x,C,O){var z=1,U=[g],G=[w],X=C.m,J=C.s,gt=null,Nt=0;t:for(;;){if(x)for(;z&&$(X,1);){var Rt=U,yt=G,kt=C,Ct=1,ht=kt.m,mt=kt.gc[kt.ab],Bt=$(ht,2);if(kt.Oc&1<<Bt)z=0;else{switch(kt.Oc|=1<<Bt,mt.hc=Bt,mt.Ea=Rt[0],mt.nc=yt[0],mt.K=[null],++kt.ab,t(4>=kt.ab),Bt){case 0:case 1:mt.b=$(ht,3)+2,Ct=Ua(ue(mt.Ea,mt.b),ue(mt.nc,mt.b),0,kt,mt.K),mt.K=mt.K[0];break;case 3:var Ht,qt=$(ht,8)+1,se=16<qt?0:4<qt?1:2<qt?2:3;if(Rt[0]=ue(mt.Ea,se),mt.b=se,Ht=Ct=Ua(qt,1,0,kt,mt.K)){var Zt,Se=qt,Wt=mt,ii=1<<(8>>Wt.b),hi=r(ii);if(hi==null)Ht=0;else{var ti=Wt.K[0],Ye=Wt.w;for(hi[0]=Wt.K[0][0],Zt=1;Zt<1*Se;++Zt)hi[Zt]=$t(ti[Ye+Zt],hi[Zt-1]);for(;Zt<4*ii;++Zt)hi[Zt]=0;Wt.K[0]=null,Wt.K[0]=hi,Ht=1}}Ct=Ht;break;case 2:break;default:t(0)}z=Ct}}if(U=U[0],G=G[0],z&&$(X,1)&&!(z=1<=(Nt=$(X,4))&&11>=Nt)){C.a=3;break t}var Ai;if(Ai=z)e:{var gi,ke,Ji,Si=C,qe=U,Gn=G,ni=Nt,is=x,bs=Si.m,Ei=Si.s,gn=[null],Vn=1,Fs=0,ir=Ir[ni];i:for(;;){if(is&&$(bs,1)){var xn=$(bs,3)+2,Br=ue(qe,xn),ml=ue(Gn,xn),fu=Br*ml;if(!Ua(Br,ml,0,Si,gn))break i;for(gn=gn[0],Ei.xc=xn,gi=0;gi<fu;++gi){var bo=gn[gi]>>8&65535;gn[gi]=bo,bo>=Vn&&(Vn=bo+1)}}if(bs.h)break i;for(ke=0;5>ke;++ke){var Ii=es[ke];!ke&&0<ni&&(Ii+=1<<ni),Fs<Ii&&(Fs=Ii)}var Tp=o(Vn*ir,W),B2=Vn,z1=o(B2,nt);if(z1==null)var Tf=null;else t(65536>=B2),Tf=z1;var Hc=r(Fs);if(Tf==null||Hc==null||Tp==null){Si.a=1;break i}var Gc=Tp;for(gi=Ji=0;gi<Vn;++gi){var Ra=Tf[gi],du=Ra.G,pu=Ra.H,q1=0,Rf=1,j2=0;for(ke=0;5>ke;++ke){Ii=es[ke],du[ke]=Gc,pu[ke]=Ji,!ke&&0<ni&&(Ii+=1<<ni);s:{var Mf,vl=Ii,kf=Si,bl=Hc,Rp=Gc,z2=Ji,Df=0,yo=kf.m,q2=$(yo,1);if(s(bl,0,0,vl),q2){var U2=$(yo,1)+1,H2=$(yo,1),Mp=$(yo,H2==0?1:8);bl[Mp]=1,U2==2&&(bl[Mp=$(yo,8)]=1);var Pf=1}else{var U1=r(19),kp=$(yo,4)+4;if(19<kp){kf.a=3;var Of=0;break s}for(Mf=0;Mf<kp;++Mf)U1[ri[Mf]]=$(yo,3);var Dp=void 0,Ff=void 0,Pp=kf,G2=U1,If=vl,Op=bl,Fp=0,wo=Pp.m,V2=8,Y2=o(128,W);n:for(;q(Y2,0,7,G2,19);){if($(wo,1)){var X2=2+2*$(wo,3);if((Dp=2+$(wo,X2))>If)break n}else Dp=If;for(Ff=0;Ff<If&&Dp--;){ut(wo);var Vc=Y2[0+(127&V(wo))];at(wo,wo.u+Vc.g);var yl=Vc.value;if(16>yl)Op[Ff++]=yl,yl!=0&&(V2=yl);else{var Ip=yl==16,H1=yl-16,W2=P1[H1],nr=$(wo,D1[H1])+W2;if(Ff+nr>If)break n;for(var gu=Ip?V2:0;0<nr--;)Op[Ff++]=gu}}Fp=1;break n}Fp||(Pp.a=3),Pf=Fp}(Pf=Pf&&!yo.h)&&(Df=q(Rp,z2,8,bl,vl)),Pf&&Df!=0?Of=Df:(kf.a=3,Of=0)}if(Of==0)break i;if(Rf&&Hn[ke]==1&&(Rf=Gc[Ji].g==0),q1+=Gc[Ji].g,Ji+=Of,3>=ke){var Ma,Ao=Hc[0];for(Ma=1;Ma<Ii;++Ma)Hc[Ma]>Ao&&(Ao=Hc[Ma]);j2+=Ao}}if(Ra.nd=Rf,Ra.Qb=0,Rf&&(Ra.qb=(du[3][pu[3]+0].value<<24|du[1][pu[1]+0].value<<16|du[2][pu[2]+0].value)>>>0,q1==0&&256>du[0][pu[0]+0].value&&(Ra.Qb=1,Ra.qb+=du[0][pu[0]+0].value<<8)),Ra.jc=!Ra.Qb&&6>j2,Ra.jc){var Yc,sr=Ra;for(Yc=0;Yc<An;++Yc){var So=Yc,_o=sr.pd[So],jr=sr.G[0][sr.H[0]+So];256<=jr.value?(_o.g=jr.g+256,_o.value=jr.value):(_o.g=0,_o.value=0,So>>=dn(jr,8,_o),So>>=dn(sr.G[1][sr.H[1]+So],16,_o),So>>=dn(sr.G[2][sr.H[2]+So],0,_o),dn(sr.G[3][sr.H[3]+So],24,_o))}}}Ei.vc=gn,Ei.Wb=Vn,Ei.Ya=Tf,Ei.yc=Tp,Ai=1;break e}Ai=0}if(!(z=Ai)){C.a=3;break t}if(0<Nt){if(J.ua=1<<Nt,!ve(J.Wa,Nt)){C.a=1,z=0;break t}}else J.ua=0;var Xc=C,G1=U,$2=G,Bp=Xc.s,Wc=Bp.xc;if(Xc.c=G1,Xc.i=$2,Bp.md=ue(G1,Wc),Bp.wc=Wc==0?-1:(1<<Wc)-1,x){C.xb=O2;break t}if((gt=r(U*G))==null){C.a=1,z=0;break t}z=(z=Zs(C,gt,0,U,G,G,null))&&!X.h;break t}return z?(O!=null?O[0]=gt:(t(gt==null),t(x)),C.$=0,x||Cr(J)):Cr(J),z}function Ha(g,w){var x=g.c*g.i,C=x+w+16*w;return t(g.c<=w),g.V=r(C),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+x+w,1)}function Wo(g,w){var x=g.C,C=w-x,O=g.V,z=g.Ba+g.c*x;for(t(w<=g.l.o);0<C;){var U=16<C?16:C,G=g.l.ma,X=g.l.width,J=X*U,gt=G.ca,Nt=G.tb+X*x,Rt=g.Ta,yt=g.Ua;Ks(g,U,O,z),Vi(Rt,yt,gt,Nt,J),Pi(G,x,x+U,gt,Nt,X),C-=U,O+=U*g.c,x+=U}t(x==w),g.C=g.Ma=w}function Aa(){this.ub=this.yd=this.td=this.Rb=0}function Ga(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Tr(){this.Fb=this.Bb=this.Cb=0,this.Zb=r(4),this.Lb=r(4)}function io(){this.Yb=function(){var g=[];return function w(x,C,O){for(var z=O[C],U=0;U<z&&(x.push(O.length>C+1?[]:0),!(O.length<C+1));U++)w(x[U],C+1,O)}(g,0,[3,11]),g}()}function pn(){this.jb=r(3),this.Wc=c([4,8],io),this.Xc=c([4,17],io)}function fp(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new r(4),this.od=new r(4)}function Ql(){this.ld=this.La=this.dd=this.tc=0}function Rr(){this.Na=this.la=0}function $o(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Js(){this.ad=r(384),this.Za=0,this.Ob=r(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function N1(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ql),this.Y=0,this.ya=Array(new Js),this.aa=0,this.l=new mc}function rf(){this.y=r(16),this.f=r(8),this.ea=r(8)}function dp(){this.cb=this.a=0,this.sc="",this.m=new St,this.Od=new Aa,this.Kc=new Ga,this.ed=new fp,this.Qa=new Tr,this.Ic=this.$c=this.Aa=0,this.D=new N1,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,St),this.ia=0,this.pb=o(4,$o),this.Pa=new pn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new rf),this.Hd=0,this.rb=Array(new Rr),this.sb=0,this.wa=Array(new Ql),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Js),this.L=this.aa=0,this.gd=c([4,2],Ql),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function mc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function vc(){var g=new dp;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,zc||(zc=of)),g}function Oi(g,w,x){return g.a==0&&(g.a=w,g.sc=x,g.cb=0),0}function Sa(g,w,x){return 3<=x&&g[w+0]==157&&g[w+1]==1&&g[w+2]==42}function ps(g,w){if(g==null)return 0;if(g.a=0,g.sc="OK",w==null)return Oi(g,2,"null VP8Io passed to VP8GetHeaders()");var x=w.data,C=w.w,O=w.ha;if(4>O)return Oi(g,7,"Truncated header.");var z=x[C+0]|x[C+1]<<8|x[C+2]<<16,U=g.Od;if(U.Rb=!(1&z),U.td=z>>1&7,U.yd=z>>4&1,U.ub=z>>5,3<U.td)return Oi(g,3,"Incorrect keyframe parameters.");if(!U.yd)return Oi(g,4,"Frame not displayable.");C+=3,O-=3;var G=g.Kc;if(U.Rb){if(7>O)return Oi(g,7,"cannot parse picture header");if(!Sa(x,C,O))return Oi(g,3,"Bad code word");G.c=16383&(x[C+4]<<8|x[C+3]),G.Td=x[C+4]>>6,G.i=16383&(x[C+6]<<8|x[C+5]),G.Ud=x[C+6]>>6,C+=7,O-=7,g.za=G.c+15>>4,g.Ub=G.i+15>>4,w.width=G.c,w.height=G.i,w.Da=0,w.j=0,w.v=0,w.va=w.width,w.o=w.height,w.da=0,w.ib=w.width,w.hb=w.height,w.U=w.width,w.T=w.height,s((z=g.Pa).jb,0,255,z.jb.length),t((z=g.Qa)!=null),z.Cb=0,z.Bb=0,z.Fb=1,s(z.Zb,0,0,z.Zb.length),s(z.Lb,0,0,z.Lb)}if(U.ub>O)return Oi(g,7,"bad partition length");Tt(z=g.m,x,C,U.ub),C+=U.ub,O-=U.ub,U.Rb&&(G.Ld=At(z),G.Kd=At(z)),G=g.Qa;var X,J=g.Pa;if(t(z!=null),t(G!=null),G.Cb=At(z),G.Cb){if(G.Bb=At(z),At(z)){for(G.Fb=At(z),X=0;4>X;++X)G.Zb[X]=At(z)?ct(z,7):0;for(X=0;4>X;++X)G.Lb[X]=At(z)?ct(z,6):0}if(G.Bb)for(X=0;3>X;++X)J.jb[X]=At(z)?it(z,8):255}else G.Bb=0;if(z.Ka)return Oi(g,3,"cannot parse segment header");if((G=g.ed).zd=At(z),G.Tb=it(z,6),G.wb=it(z,3),G.Pc=At(z),G.Pc&&At(z)){for(J=0;4>J;++J)At(z)&&(G.vd[J]=ct(z,6));for(J=0;4>J;++J)At(z)&&(G.od[J]=ct(z,6))}if(g.L=G.Tb==0?0:G.zd?1:2,z.Ka)return Oi(g,3,"cannot parse filter header");var gt=O;if(O=X=C,C=X+gt,G=gt,g.Xb=(1<<it(g.m,2))-1,gt<3*(J=g.Xb))x=7;else{for(X+=3*J,G-=3*J,gt=0;gt<J;++gt){var Nt=x[O+0]|x[O+1]<<8|x[O+2]<<16;Nt>G&&(Nt=G),Tt(g.Jc[+gt],x,X,Nt),X+=Nt,G-=Nt,O+=3}Tt(g.Jc[+J],x,X,G),x=X<C?0:5}if(x!=0)return Oi(g,x,"cannot parse partitions");for(x=it(X=g.m,7),O=At(X)?ct(X,4):0,C=At(X)?ct(X,4):0,G=At(X)?ct(X,4):0,J=At(X)?ct(X,4):0,X=At(X)?ct(X,4):0,gt=g.Qa,Nt=0;4>Nt;++Nt){if(gt.Cb){var Rt=gt.Zb[Nt];gt.Fb||(Rt+=x)}else{if(0<Nt){g.pb[Nt]=g.pb[0];continue}Rt=x}var yt=g.pb[Nt];yt.Sc[0]=mo[ia(Rt+O,127)],yt.Sc[1]=xp[ia(Rt+0,127)],yt.Eb[0]=2*mo[ia(Rt+C,127)],yt.Eb[1]=101581*xp[ia(Rt+G,127)]>>16,8>yt.Eb[1]&&(yt.Eb[1]=8),yt.Qc[0]=mo[ia(Rt+J,117)],yt.Qc[1]=xp[ia(Rt+X,127)],yt.lc=Rt+X}if(!U.Rb)return Oi(g,4,"Not a key frame.");for(At(z),U=g.Pa,x=0;4>x;++x){for(O=0;8>O;++O)for(C=0;3>C;++C)for(G=0;11>G;++G)J=Et(z,F1[x][O][C][G])?it(z,8):Ef[x][O][C][G],U.Wc[x][O].Yb[C][G]=J;for(O=0;17>O;++O)U.Xc[x][O]=U.Wc[x][P2[O]]}return g.kc=At(z),g.kc&&(g.Bd=it(z,8)),g.cb=1}function of(g,w,x,C,O,z,U){var G=w[O].Yb[x];for(x=0;16>O;++O){if(!Et(g,G[x+0]))return O;for(;!Et(g,G[x+1]);)if(G=w[++O].Yb[0],x=0,O==16)return 16;var X=w[O+1].Yb;if(Et(g,G[x+2])){var J=g,gt=0;if(Et(J,(Rt=G)[(Nt=x)+3]))if(Et(J,Rt[Nt+6])){for(G=0,Nt=2*(gt=Et(J,Rt[Nt+8]))+(Rt=Et(J,Rt[Nt+9+gt])),gt=0,Rt=_f[Nt];Rt[G];++G)gt+=gt+Et(J,Rt[G]);gt+=3+(8<<Nt)}else Et(J,Rt[Nt+7])?(gt=7+2*Et(J,165),gt+=Et(J,145)):gt=5+Et(J,159);else gt=Et(J,Rt[Nt+4])?3+Et(J,Rt[Nt+5]):2;G=X[2]}else gt=1,G=X[1];X=U+xf[O],0>(J=g).b&&bt(J);var Nt,Rt=J.b,yt=(Nt=J.Ca>>1)-(J.I>>Rt)>>31;--J.b,J.Ca+=yt,J.Ca|=1,J.I-=(Nt+1&yt)<<Rt,z[X]=((gt^yt)-yt)*C[(0<O)+0]}return 16}function lf(g){var w=g.rb[g.sb-1];w.la=0,w.Na=0,s(g.zc,0,0,g.zc.length),g.ja=0}function bc(g,w){if(g==null)return 0;if(w==null)return Oi(g,2,"NULL VP8Io parameter in VP8Decode().");if(!g.cb&&!ps(g,w))return 0;if(t(g.cb),w.ac==null||w.ac(w)){w.ob&&(g.L=0);var x=Lp[g.L];if(g.L==2?(g.yb=0,g.zb=0):(g.yb=w.v-x>>4,g.zb=w.j-x>>4,0>g.yb&&(g.yb=0),0>g.zb&&(g.zb=0)),g.Va=w.o+15+x>>4,g.Hb=w.va+15+x>>4,g.Hb>g.za&&(g.Hb=g.za),g.Va>g.Ub&&(g.Va=g.Ub),0<g.L){var C=g.ed;for(x=0;4>x;++x){var O;if(g.Qa.Cb){var z=g.Qa.Lb[x];g.Qa.Fb||(z+=C.Tb)}else z=C.Tb;for(O=0;1>=O;++O){var U=g.gd[x][O],G=z;if(C.Pc&&(G+=C.vd[0],O&&(G+=C.od[0])),0<(G=0>G?0:63<G?63:G)){var X=G;0<C.wb&&(X=4<C.wb?X>>2:X>>1)>9-C.wb&&(X=9-C.wb),1>X&&(X=1),U.dd=X,U.tc=2*G+X,U.ld=40<=G?2:15<=G?1:0}else U.tc=0;U.La=O}}}x=0}else Oi(g,6,"Frame setup failed"),x=g.a;if(x=x==0){if(x){g.$c=0,0<g.Aa||(g.Ic=_n);t:{x=g.Ic,C=4*(X=g.za);var J=32*X,gt=X+1,Nt=0<g.L?X*(0<g.Aa?2:1):0,Rt=(g.Aa==2?2:1)*X;if((U=C+832+(O=3*(16*x+Lp[g.L])/2*J)+(z=g.Fa!=null&&0<g.Fa.length?g.Kc.c*g.Kc.i:0))!=U)x=0;else{if(U>g.Vb){if(g.Vb=0,g.Ec=r(U),g.Fc=0,g.Ec==null){x=Oi(g,1,"no memory during frame initialization.");break t}g.Vb=U}U=g.Ec,G=g.Fc,g.Ac=U,g.Bc=G,G+=C,g.Gd=o(J,rf),g.Hd=0,g.rb=o(gt+1,Rr),g.sb=1,g.wa=Nt?o(Nt,Ql):null,g.Y=0,g.D.Nb=0,g.D.wa=g.wa,g.D.Y=g.Y,0<g.Aa&&(g.D.Y+=X),t(!0),g.oc=U,g.pc=G,G+=832,g.ya=o(Rt,Js),g.aa=0,g.D.ya=g.ya,g.D.aa=g.aa,g.Aa==2&&(g.D.aa+=X),g.R=16*X,g.B=8*X,X=(J=Lp[g.L])*g.R,J=J/2*g.B,g.sa=U,g.ta=G+X,g.qa=g.sa,g.ra=g.ta+16*x*g.R+J,g.Ha=g.qa,g.Ia=g.ra+8*x*g.B+J,g.$c=0,G+=O,g.mb=z?U:null,g.nb=z?G:null,t(G+z<=g.Fc+g.Vb),lf(g),s(g.Ac,g.Bc,0,C),x=1}}if(x){if(w.ka=0,w.y=g.sa,w.O=g.ta,w.f=g.qa,w.N=g.ra,w.ea=g.Ha,w.Vd=g.Ia,w.fa=g.R,w.Rc=g.B,w.F=null,w.J=0,!Af){for(x=-255;255>=x;++x)Zi[255+x]=0>x?-x:x;for(x=-1020;1020>=x;++x)Na[1020+x]=-128>x?-128:127<x?127:x;for(x=-112;112>=x;++x)ou[112+x]=-16>x?-16:15<x?15:x;for(x=-255;510>=x;++x)aa[255+x]=0>x?0:255<x?255:x;Af=1}ll=gp,na=pp,Fc=wc,on=Ko,Un=uf,Gi=yc,ul=Jl,wf=tu,Ka=R1,cl=df,hl=T1,co=Lc,au=Cc,Ic=Ap,ru=tl,ho=ea,Bc=Or,sa=C1,La[0]=Ya,La[1]=L1,La[2]=bp,La[3]=hf,La[4]=Qo,La[5]=kr,La[6]=_c,La[7]=xa,La[8]=xc,La[9]=ff,tr[0]=Zl,tr[1]=vp,tr[2]=Va,tr[3]=Ac,tr[4]=kn,tr[5]=cf,tr[6]=so,ra[0]=ao,ra[1]=mp,ra[2]=yp,ra[3]=Zo,ra[4]=ta,ra[5]=ts,ra[6]=Jo,x=1}else x=0}x&&(x=function(yt,kt){for(yt.M=0;yt.M<yt.Va;++yt.M){var Ct,ht=yt.Jc[yt.M&yt.Xb],mt=yt.m,Bt=yt;for(Ct=0;Ct<Bt.za;++Ct){var Ht=mt,qt=Bt,se=qt.Ac,Zt=qt.Bc+4*Ct,Se=qt.zc,Wt=qt.ya[qt.aa+Ct];if(qt.Qa.Bb?Wt.$b=Et(Ht,qt.Pa.jb[0])?2+Et(Ht,qt.Pa.jb[2]):Et(Ht,qt.Pa.jb[1]):Wt.$b=0,qt.kc&&(Wt.Ad=Et(Ht,qt.Bd)),Wt.Za=!Et(Ht,145)+0,Wt.Za){var ii=Wt.Ob,hi=0;for(qt=0;4>qt;++qt){var ti,Ye=Se[0+qt];for(ti=0;4>ti;++ti){Ye=D2[se[Zt+ti]][Ye];for(var Ai=qc[Et(Ht,Ye[0])];0<Ai;)Ai=qc[2*Ai+Et(Ht,Ye[Ai])];Ye=-Ai,se[Zt+ti]=Ye}i(ii,hi,se,Zt,4),hi+=4,Se[0+qt]=Ye}}else Ye=Et(Ht,156)?Et(Ht,128)?1:3:Et(Ht,163)?2:0,Wt.Ob[0]=Ye,s(se,Zt,Ye,4),s(Se,0,Ye,4);Wt.Dd=Et(Ht,142)?Et(Ht,114)?Et(Ht,183)?1:3:2:0}if(Bt.m.Ka)return Oi(yt,7,"Premature end-of-partition0 encountered.");for(;yt.ja<yt.za;++yt.ja){if(Bt=ht,Ht=(mt=yt).rb[mt.sb-1],se=mt.rb[mt.sb+mt.ja],Ct=mt.ya[mt.aa+mt.ja],Zt=mt.kc?Ct.Ad:0)Ht.la=se.la=0,Ct.Za||(Ht.Na=se.Na=0),Ct.Hc=0,Ct.Gc=0,Ct.ia=0;else{var gi,ke;if(Ht=se,se=Bt,Zt=mt.Pa.Xc,Se=mt.ya[mt.aa+mt.ja],Wt=mt.pb[Se.$b],qt=Se.ad,ii=0,hi=mt.rb[mt.sb-1],Ye=ti=0,s(qt,ii,0,384),Se.Za)var Ji=0,Si=Zt[3];else{Ai=r(16);var qe=Ht.Na+hi.Na;if(qe=zc(se,Zt[1],qe,Wt.Eb,0,Ai,0),Ht.Na=hi.Na=(0<qe)+0,1<qe)ll(Ai,0,qt,ii);else{var Gn=Ai[0]+3>>3;for(Ai=0;256>Ai;Ai+=16)qt[ii+Ai]=Gn}Ji=1,Si=Zt[0]}var ni=15&Ht.la,is=15&hi.la;for(Ai=0;4>Ai;++Ai){var bs=1&is;for(Gn=ke=0;4>Gn;++Gn)ni=ni>>1|(bs=(qe=zc(se,Si,qe=bs+(1&ni),Wt.Sc,Ji,qt,ii))>Ji)<<7,ke=ke<<2|(3<qe?3:1<qe?2:qt[ii+0]!=0),ii+=16;ni>>=4,is=is>>1|bs<<7,ti=(ti<<8|ke)>>>0}for(Si=ni,Ji=is>>4,gi=0;4>gi;gi+=2){for(ke=0,ni=Ht.la>>4+gi,is=hi.la>>4+gi,Ai=0;2>Ai;++Ai){for(bs=1&is,Gn=0;2>Gn;++Gn)qe=bs+(1&ni),ni=ni>>1|(bs=0<(qe=zc(se,Zt[2],qe,Wt.Qc,0,qt,ii)))<<3,ke=ke<<2|(3<qe?3:1<qe?2:qt[ii+0]!=0),ii+=16;ni>>=2,is=is>>1|bs<<5}Ye|=ke<<4*gi,Si|=ni<<4<<gi,Ji|=(240&is)<<gi}Ht.la=Si,hi.la=Ji,Se.Hc=ti,Se.Gc=Ye,Se.ia=43690&Ye?0:Wt.ia,Zt=!(ti|Ye)}if(0<mt.L&&(mt.wa[mt.Y+mt.ja]=mt.gd[Ct.$b][Ct.Za],mt.wa[mt.Y+mt.ja].La|=!Zt),Bt.Ka)return Oi(yt,7,"Premature end-of-file encountered.")}if(lf(yt),mt=kt,Bt=1,Ct=(ht=yt).D,Ht=0<ht.L&&ht.M>=ht.zb&&ht.M<=ht.Va,ht.Aa==0)t:{if(Ct.M=ht.M,Ct.uc=Ht,oo(ht,Ct),Bt=1,Ct=(ke=ht.D).Nb,Ht=(Ye=Lp[ht.L])*ht.R,se=Ye/2*ht.B,Ai=16*Ct*ht.R,Gn=8*Ct*ht.B,Zt=ht.sa,Se=ht.ta-Ht+Ai,Wt=ht.qa,qt=ht.ra-se+Gn,ii=ht.Ha,hi=ht.Ia-se+Gn,is=(ni=ke.M)==0,ti=ni>=ht.Va-1,ht.Aa==2&&oo(ht,ke),ke.uc)for(bs=(qe=ht).D.M,t(qe.D.uc),ke=qe.yb;ke<qe.Hb;++ke){Ji=ke,Si=bs;var Ei=(gn=(Ii=qe).D).Nb;gi=Ii.R;var gn=gn.wa[gn.Y+Ji],Vn=Ii.sa,Fs=Ii.ta+16*Ei*gi+16*Ji,ir=gn.dd,xn=gn.tc;if(xn!=0)if(t(3<=xn),Ii.L==1)0<Ji&&ho(Vn,Fs,gi,xn+4),gn.La&&sa(Vn,Fs,gi,xn),0<Si&&ru(Vn,Fs,gi,xn+4),gn.La&&Bc(Vn,Fs,gi,xn);else{var Br=Ii.B,ml=Ii.qa,fu=Ii.ra+8*Ei*Br+8*Ji,bo=Ii.Ha,Ii=Ii.Ia+8*Ei*Br+8*Ji;Ei=gn.ld,0<Ji&&(wf(Vn,Fs,gi,xn+4,ir,Ei),cl(ml,fu,bo,Ii,Br,xn+4,ir,Ei)),gn.La&&(co(Vn,Fs,gi,xn,ir,Ei),Ic(ml,fu,bo,Ii,Br,xn,ir,Ei)),0<Si&&(ul(Vn,Fs,gi,xn+4,ir,Ei),Ka(ml,fu,bo,Ii,Br,xn+4,ir,Ei)),gn.La&&(hl(Vn,Fs,gi,xn,ir,Ei),au(ml,fu,bo,Ii,Br,xn,ir,Ei))}}if(ht.ia&&alert("todo:DitherRow"),mt.put!=null){if(ke=16*ni,ni=16*(ni+1),is?(mt.y=ht.sa,mt.O=ht.ta+Ai,mt.f=ht.qa,mt.N=ht.ra+Gn,mt.ea=ht.Ha,mt.W=ht.Ia+Gn):(ke-=Ye,mt.y=Zt,mt.O=Se,mt.f=Wt,mt.N=qt,mt.ea=ii,mt.W=hi),ti||(ni-=Ye),ni>mt.o&&(ni=mt.o),mt.F=null,mt.J=null,ht.Fa!=null&&0<ht.Fa.length&&ke<ni&&(mt.J=mf(ht,mt,ke,ni-ke),mt.F=ht.mb,mt.F==null&&mt.F.length==0)){Bt=Oi(ht,3,"Could not decode alpha data.");break t}ke<mt.j&&(Ye=mt.j-ke,ke=mt.j,t(!(1&Ye)),mt.O+=ht.R*Ye,mt.N+=ht.B*(Ye>>1),mt.W+=ht.B*(Ye>>1),mt.F!=null&&(mt.J+=mt.width*Ye)),ke<ni&&(mt.O+=mt.v,mt.N+=mt.v>>1,mt.W+=mt.v>>1,mt.F!=null&&(mt.J+=mt.v),mt.ka=ke-mt.j,mt.U=mt.va-mt.v,mt.T=ni-ke,Bt=mt.put(mt))}Ct+1!=ht.Ic||ti||(i(ht.sa,ht.ta-Ht,Zt,Se+16*ht.R,Ht),i(ht.qa,ht.ra-se,Wt,qt+8*ht.B,se),i(ht.Ha,ht.Ia-se,ii,hi+8*ht.B,se))}if(!Bt)return Oi(yt,6,"Output aborted.")}return 1}(g,w)),w.bc!=null&&w.bc(w),x&=1}return x?(g.cb=0,x):0}function _a(g,w,x,C,O){O=g[w+x+32*C]+(O>>3),g[w+x+32*C]=-256&O?0>O?0:255:O}function no(g,w,x,C,O,z){_a(g,w,0,x,C+O),_a(g,w,1,x,C+z),_a(g,w,2,x,C-z),_a(g,w,3,x,C-O)}function Ms(g){return(20091*g>>16)+g}function Jn(g,w,x,C){var O,z=0,U=r(16);for(O=0;4>O;++O){var G=g[w+0]+g[w+8],X=g[w+0]-g[w+8],J=(35468*g[w+4]>>16)-Ms(g[w+12]),gt=Ms(g[w+4])+(35468*g[w+12]>>16);U[z+0]=G+gt,U[z+1]=X+J,U[z+2]=X-J,U[z+3]=G-gt,z+=4,w++}for(O=z=0;4>O;++O)G=(g=U[z+0]+4)+U[z+8],X=g-U[z+8],J=(35468*U[z+4]>>16)-Ms(U[z+12]),_a(x,C,0,0,G+(gt=Ms(U[z+4])+(35468*U[z+12]>>16))),_a(x,C,1,0,X+J),_a(x,C,2,0,X-J),_a(x,C,3,0,G-gt),z++,C+=32}function yc(g,w,x,C){var O=g[w+0]+4,z=35468*g[w+4]>>16,U=Ms(g[w+4]),G=35468*g[w+1]>>16;no(x,C,0,O+U,g=Ms(g[w+1]),G),no(x,C,1,O+z,g,G),no(x,C,2,O-z,g,G),no(x,C,3,O-U,g,G)}function pp(g,w,x,C,O){Jn(g,w,x,C),O&&Jn(g,w+16,x,C+4)}function wc(g,w,x,C){na(g,w+0,x,C,1),na(g,w+32,x,C+128,1)}function Ko(g,w,x,C){var O;for(g=g[w+0]+4,O=0;4>O;++O)for(w=0;4>w;++w)_a(x,C,w,O,g)}function uf(g,w,x,C){g[w+0]&&on(g,w+0,x,C),g[w+16]&&on(g,w+16,x,C+4),g[w+32]&&on(g,w+32,x,C+128),g[w+48]&&on(g,w+48,x,C+128+4)}function gp(g,w,x,C){var O,z=r(16);for(O=0;4>O;++O){var U=g[w+0+O]+g[w+12+O],G=g[w+4+O]+g[w+8+O],X=g[w+4+O]-g[w+8+O],J=g[w+0+O]-g[w+12+O];z[0+O]=U+G,z[8+O]=U-G,z[4+O]=J+X,z[12+O]=J-X}for(O=0;4>O;++O)U=(g=z[0+4*O]+3)+z[3+4*O],G=z[1+4*O]+z[2+4*O],X=z[1+4*O]-z[2+4*O],J=g-z[3+4*O],x[C+0]=U+G>>3,x[C+16]=J+X>>3,x[C+32]=U-G>>3,x[C+48]=J-X>>3,C+=64}function Mr(g,w,x){var C,O=w-32,z=Ps,U=255-g[O-1];for(C=0;C<x;++C){var G,X=z,J=U+g[w-1];for(G=0;G<x;++G)g[w+G]=X[J+g[O+G]];w+=32}}function L1(g,w){Mr(g,w,4)}function mp(g,w){Mr(g,w,8)}function vp(g,w){Mr(g,w,16)}function Va(g,w){var x;for(x=0;16>x;++x)i(g,w+32*x,g,w-32,16)}function Ac(g,w){var x;for(x=16;0<x;--x)s(g,w,g[w-1],16),w+=32}function Sc(g,w,x){var C;for(C=0;16>C;++C)s(w,x+32*C,g,16)}function Zl(g,w){var x,C=16;for(x=0;16>x;++x)C+=g[w-1+32*x]+g[w+x-32];Sc(C>>5,g,w)}function kn(g,w){var x,C=8;for(x=0;16>x;++x)C+=g[w-1+32*x];Sc(C>>4,g,w)}function cf(g,w){var x,C=8;for(x=0;16>x;++x)C+=g[w+x-32];Sc(C>>4,g,w)}function so(g,w){Sc(128,g,w)}function _e(g,w,x){return g+2*w+x+2>>2}function bp(g,w){var x,C=w-32;for(C=new Uint8Array([_e(g[C-1],g[C+0],g[C+1]),_e(g[C+0],g[C+1],g[C+2]),_e(g[C+1],g[C+2],g[C+3]),_e(g[C+2],g[C+3],g[C+4])]),x=0;4>x;++x)i(g,w+32*x,C,0,C.length)}function hf(g,w){var x=g[w-1],C=g[w-1+32],O=g[w-1+64],z=g[w-1+96];Ut(g,w+0,16843009*_e(g[w-1-32],x,C)),Ut(g,w+32,16843009*_e(x,C,O)),Ut(g,w+64,16843009*_e(C,O,z)),Ut(g,w+96,16843009*_e(O,z,z))}function Ya(g,w){var x,C=4;for(x=0;4>x;++x)C+=g[w+x-32]+g[w-1+32*x];for(C>>=3,x=0;4>x;++x)s(g,w+32*x,C,4)}function Qo(g,w){var x=g[w-1+0],C=g[w-1+32],O=g[w-1+64],z=g[w-1-32],U=g[w+0-32],G=g[w+1-32],X=g[w+2-32],J=g[w+3-32];g[w+0+96]=_e(C,O,g[w-1+96]),g[w+1+96]=g[w+0+64]=_e(x,C,O),g[w+2+96]=g[w+1+64]=g[w+0+32]=_e(z,x,C),g[w+3+96]=g[w+2+64]=g[w+1+32]=g[w+0+0]=_e(U,z,x),g[w+3+64]=g[w+2+32]=g[w+1+0]=_e(G,U,z),g[w+3+32]=g[w+2+0]=_e(X,G,U),g[w+3+0]=_e(J,X,G)}function _c(g,w){var x=g[w+1-32],C=g[w+2-32],O=g[w+3-32],z=g[w+4-32],U=g[w+5-32],G=g[w+6-32],X=g[w+7-32];g[w+0+0]=_e(g[w+0-32],x,C),g[w+1+0]=g[w+0+32]=_e(x,C,O),g[w+2+0]=g[w+1+32]=g[w+0+64]=_e(C,O,z),g[w+3+0]=g[w+2+32]=g[w+1+64]=g[w+0+96]=_e(O,z,U),g[w+3+32]=g[w+2+64]=g[w+1+96]=_e(z,U,G),g[w+3+64]=g[w+2+96]=_e(U,G,X),g[w+3+96]=_e(G,X,X)}function kr(g,w){var x=g[w-1+0],C=g[w-1+32],O=g[w-1+64],z=g[w-1-32],U=g[w+0-32],G=g[w+1-32],X=g[w+2-32],J=g[w+3-32];g[w+0+0]=g[w+1+64]=z+U+1>>1,g[w+1+0]=g[w+2+64]=U+G+1>>1,g[w+2+0]=g[w+3+64]=G+X+1>>1,g[w+3+0]=X+J+1>>1,g[w+0+96]=_e(O,C,x),g[w+0+64]=_e(C,x,z),g[w+0+32]=g[w+1+96]=_e(x,z,U),g[w+1+32]=g[w+2+96]=_e(z,U,G),g[w+2+32]=g[w+3+96]=_e(U,G,X),g[w+3+32]=_e(G,X,J)}function xa(g,w){var x=g[w+0-32],C=g[w+1-32],O=g[w+2-32],z=g[w+3-32],U=g[w+4-32],G=g[w+5-32],X=g[w+6-32],J=g[w+7-32];g[w+0+0]=x+C+1>>1,g[w+1+0]=g[w+0+64]=C+O+1>>1,g[w+2+0]=g[w+1+64]=O+z+1>>1,g[w+3+0]=g[w+2+64]=z+U+1>>1,g[w+0+32]=_e(x,C,O),g[w+1+32]=g[w+0+96]=_e(C,O,z),g[w+2+32]=g[w+1+96]=_e(O,z,U),g[w+3+32]=g[w+2+96]=_e(z,U,G),g[w+3+64]=_e(U,G,X),g[w+3+96]=_e(G,X,J)}function ff(g,w){var x=g[w-1+0],C=g[w-1+32],O=g[w-1+64],z=g[w-1+96];g[w+0+0]=x+C+1>>1,g[w+2+0]=g[w+0+32]=C+O+1>>1,g[w+2+32]=g[w+0+64]=O+z+1>>1,g[w+1+0]=_e(x,C,O),g[w+3+0]=g[w+1+32]=_e(C,O,z),g[w+3+32]=g[w+1+64]=_e(O,z,z),g[w+3+64]=g[w+2+64]=g[w+0+96]=g[w+1+96]=g[w+2+96]=g[w+3+96]=z}function xc(g,w){var x=g[w-1+0],C=g[w-1+32],O=g[w-1+64],z=g[w-1+96],U=g[w-1-32],G=g[w+0-32],X=g[w+1-32],J=g[w+2-32];g[w+0+0]=g[w+2+32]=x+U+1>>1,g[w+0+32]=g[w+2+64]=C+x+1>>1,g[w+0+64]=g[w+2+96]=O+C+1>>1,g[w+0+96]=z+O+1>>1,g[w+3+0]=_e(G,X,J),g[w+2+0]=_e(U,G,X),g[w+1+0]=g[w+3+32]=_e(x,U,G),g[w+1+32]=g[w+3+64]=_e(C,x,U),g[w+1+64]=g[w+3+96]=_e(O,C,x),g[w+1+96]=_e(z,O,C)}function yp(g,w){var x;for(x=0;8>x;++x)i(g,w+32*x,g,w-32,8)}function Zo(g,w){var x;for(x=0;8>x;++x)s(g,w,g[w-1],8),w+=32}function Dr(g,w,x){var C;for(C=0;8>C;++C)s(w,x+32*C,g,8)}function ao(g,w){var x,C=8;for(x=0;8>x;++x)C+=g[w+x-32]+g[w-1+32*x];Dr(C>>4,g,w)}function ts(g,w){var x,C=4;for(x=0;8>x;++x)C+=g[w+x-32];Dr(C>>3,g,w)}function ta(g,w){var x,C=4;for(x=0;8>x;++x)C+=g[w-1+32*x];Dr(C>>3,g,w)}function Jo(g,w){Dr(128,g,w)}function Pr(g,w,x){var C=g[w-x],O=g[w+0],z=3*(O-C)+jc[1020+g[w-2*x]-g[w+x]],U=fo[112+(z+4>>3)];g[w-x]=Ps[255+C+fo[112+(z+3>>3)]],g[w+0]=Ps[255+O-U]}function wp(g,w,x,C){var O=g[w+0],z=g[w+x];return Yi[255+g[w-2*x]-g[w-x]]>C||Yi[255+z-O]>C}function Ec(g,w,x,C){return 4*Yi[255+g[w-x]-g[w+0]]+Yi[255+g[w-2*x]-g[w+x]]<=C}function Nc(g,w,x,C,O){var z=g[w-3*x],U=g[w-2*x],G=g[w-x],X=g[w+0],J=g[w+x],gt=g[w+2*x],Nt=g[w+3*x];return 4*Yi[255+G-X]+Yi[255+U-J]>C?0:Yi[255+g[w-4*x]-z]<=O&&Yi[255+z-U]<=O&&Yi[255+U-G]<=O&&Yi[255+Nt-gt]<=O&&Yi[255+gt-J]<=O&&Yi[255+J-X]<=O}function tl(g,w,x,C){var O=2*C+1;for(C=0;16>C;++C)Ec(g,w+C,x,O)&&Pr(g,w+C,x)}function ea(g,w,x,C){var O=2*C+1;for(C=0;16>C;++C)Ec(g,w+C*x,1,O)&&Pr(g,w+C*x,1)}function Or(g,w,x,C){var O;for(O=3;0<O;--O)tl(g,w+=4*x,x,C)}function C1(g,w,x,C){var O;for(O=3;0<O;--O)ea(g,w+=4,x,C)}function el(g,w,x,C,O,z,U,G){for(z=2*z+1;0<O--;){if(Nc(g,w,x,z,U))if(wp(g,w,x,G))Pr(g,w,x);else{var X=g,J=w,gt=x,Nt=X[J-2*gt],Rt=X[J-gt],yt=X[J+0],kt=X[J+gt],Ct=X[J+2*gt],ht=27*(Bt=jc[1020+3*(yt-Rt)+jc[1020+Nt-kt]])+63>>7,mt=18*Bt+63>>7,Bt=9*Bt+63>>7;X[J-3*gt]=Ps[255+X[J-3*gt]+Bt],X[J-2*gt]=Ps[255+Nt+mt],X[J-gt]=Ps[255+Rt+ht],X[J+0]=Ps[255+yt-ht],X[J+gt]=Ps[255+kt-mt],X[J+2*gt]=Ps[255+Ct-Bt]}w+=C}}function Xa(g,w,x,C,O,z,U,G){for(z=2*z+1;0<O--;){if(Nc(g,w,x,z,U))if(wp(g,w,x,G))Pr(g,w,x);else{var X=g,J=w,gt=x,Nt=X[J-gt],Rt=X[J+0],yt=X[J+gt],kt=fo[112+((Ct=3*(Rt-Nt))+4>>3)],Ct=fo[112+(Ct+3>>3)],ht=kt+1>>1;X[J-2*gt]=Ps[255+X[J-2*gt]+ht],X[J-gt]=Ps[255+Nt+Ct],X[J+0]=Ps[255+Rt-kt],X[J+gt]=Ps[255+yt-ht]}w+=C}}function Jl(g,w,x,C,O,z){el(g,w,x,1,16,C,O,z)}function tu(g,w,x,C,O,z){el(g,w,1,x,16,C,O,z)}function T1(g,w,x,C,O,z){var U;for(U=3;0<U;--U)Xa(g,w+=4*x,x,1,16,C,O,z)}function Lc(g,w,x,C,O,z){var U;for(U=3;0<U;--U)Xa(g,w+=4,1,x,16,C,O,z)}function R1(g,w,x,C,O,z,U,G){el(g,w,O,1,8,z,U,G),el(x,C,O,1,8,z,U,G)}function df(g,w,x,C,O,z,U,G){el(g,w,1,O,8,z,U,G),el(x,C,1,O,8,z,U,G)}function Cc(g,w,x,C,O,z,U,G){Xa(g,w+4*O,O,1,8,z,U,G),Xa(x,C+4*O,O,1,8,z,U,G)}function Ap(g,w,x,C,O,z,U,G){Xa(g,w+4,1,O,8,z,U,G),Xa(x,C+4,1,O,8,z,U,G)}function Tc(){this.ba=new Rs,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new bi,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function pf(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function gf(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Rc(){this.ua=0,this.Wa=new ot,this.vb=new ot,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new nt,this.yc=new W}function M1(){this.xb=this.a=0,this.l=new mc,this.ca=new Rs,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new P,this.Pb=0,this.wd=new P,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Rc,this.ab=0,this.gc=o(4,gf),this.Oc=0}function Mc(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new mc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function eu(g,w,x,C,O,z,U){for(g=g==null?0:g[w+0],w=0;w<U;++w)O[z+w]=g+x[C+w]&255,g=O[z+w]}function kc(g,w,x,C,O,z,U){var G;if(g==null)eu(null,null,x,C,O,z,U);else for(G=0;G<U;++G)O[z+G]=g[w+G]+x[C+G]&255}function il(g,w,x,C,O,z,U){if(g==null)eu(null,null,x,C,O,z,U);else{var G,X=g[w+0],J=X,gt=X;for(G=0;G<U;++G)J=gt+(X=g[w+G])-J,gt=x[C+G]+(-256&J?0>J?0:255:J)&255,J=X,O[z+G]=gt}}function mf(g,w,x,C){var O=w.width,z=w.o;if(t(g!=null&&w!=null),0>x||0>=C||x+C>z)return null;if(!g.Cc){if(g.ga==null){var U;if(g.ga=new Mc,(U=g.ga==null)||(U=w.width*w.o,t(g.Gb.length==0),g.Gb=r(U),g.Uc=0,g.Gb==null?U=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,U=1),U=!U),!U){U=g.ga;var G=g.Fa,X=g.P,J=g.qc,gt=g.mb,Nt=g.nb,Rt=X+1,yt=J-1,kt=U.l;if(t(G!=null&&gt!=null&&w!=null),Ca[0]=null,Ca[1]=eu,Ca[2]=kc,Ca[3]=il,U.ca=gt,U.tb=Nt,U.c=w.width,U.i=w.height,t(0<U.c&&0<U.i),1>=J)w=0;else if(U.$a=G[X+0]>>0&3,U.Z=G[X+0]>>2&3,U.Lc=G[X+0]>>4&3,X=G[X+0]>>6&3,0>U.$a||1<U.$a||4<=U.Z||1<U.Lc||X)w=0;else if(kt.put=ja,kt.ac=Mn,kt.bc=ya,kt.ma=U,kt.width=w.width,kt.height=w.height,kt.Da=w.Da,kt.v=w.v,kt.va=w.va,kt.j=w.j,kt.o=w.o,U.$a)t:{t(U.$a==1),w=wa();e:for(;;){if(w==null){w=0;break t}if(t(U!=null),U.mc=w,w.c=U.c,w.i=U.i,w.l=U.l,w.l.ma=U,w.l.width=U.c,w.l.height=U.i,w.a=0,dt(w.m,G,Rt,yt),!Ua(U.c,U.i,1,w,null)||(w.ab==1&&w.gc[0].hc==3&&Di(w.s)?(U.ic=1,G=w.c*w.i,w.Ta=null,w.Ua=0,w.V=r(G),w.Ba=0,w.V==null?(w.a=1,w=0):w=1):(U.ic=0,w=Ha(w,U.c)),!w))break e;w=1;break t}U.mc=null,w=0}else w=yt>=U.c*U.i;U=!w}if(U)return null;g.ga.Lc!=1?g.Ga=0:C=z-x}t(g.ga!=null),t(x+C<=z);t:{if(w=(G=g.ga).c,z=G.l.o,G.$a==0){if(Rt=g.rc,yt=g.Vc,kt=g.Fa,X=g.P+1+x*w,J=g.mb,gt=g.nb+x*w,t(X<=g.P+g.qc),G.Z!=0)for(t(Ca[G.Z]!=null),U=0;U<C;++U)Ca[G.Z](Rt,yt,kt,X,J,gt,w),Rt=J,yt=gt,gt+=w,X+=w;else for(U=0;U<C;++U)i(J,gt,kt,X,w),Rt=J,yt=gt,gt+=w,X+=w;g.rc=Rt,g.Vc=yt}else{if(t(G.mc!=null),w=x+C,t((U=G.mc)!=null),t(w<=U.i),U.C>=w)w=1;else if(G.ic||_t(),G.ic){G=U.V,Rt=U.Ba,yt=U.c;var Ct=U.i,ht=(kt=1,X=U.$/yt,J=U.$%yt,gt=U.m,Nt=U.s,U.$),mt=yt*Ct,Bt=yt*w,Ht=Nt.wc,qt=ht<Bt?sn(Nt,J,X):null;t(ht<=mt),t(w<=Ct),t(Di(Nt));e:for(;;){for(;!gt.h&&ht<Bt;){if(J&Ht||(qt=sn(Nt,J,X)),t(qt!=null),ut(gt),256>(Ct=ds(qt.G[0],qt.H[0],gt)))G[Rt+ht]=Ct,++ht,++J>=yt&&(J=0,++X<=w&&!(X%16)&&Zn(U,X));else{if(!(280>Ct)){kt=0;break e}Ct=za(Ct-256,gt);var se,Zt=ds(qt.G[4],qt.H[4],gt);if(ut(gt),!(ht>=(Zt=qa(yt,Zt=za(Zt,gt)))&&mt-ht>=Ct)){kt=0;break e}for(se=0;se<Ct;++se)G[Rt+ht+se]=G[Rt+ht+se-Zt];for(ht+=Ct,J+=Ct;J>=yt;)J-=yt,++X<=w&&!(X%16)&&Zn(U,X);ht<Bt&&J&Ht&&(qt=sn(Nt,J,X))}t(gt.h==K(gt))}Zn(U,X>w?w:X);break e}!kt||gt.h&&ht<mt?(kt=0,U.a=gt.h?5:3):U.$=ht,w=kt}else w=Zs(U,U.V,U.Ba,U.c,U.i,w,Wo);if(!w){C=0;break t}}x+C>=z&&(g.Cc=1),C=1}if(!C)return null;if(g.Cc&&((C=g.ga)!=null&&(C.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+x*O}function _(g,w,x,C,O,z){for(;0<O--;){var U,G=g,X=w+(x?1:0),J=g,gt=w+(x?0:3);for(U=0;U<C;++U){var Nt=J[gt+4*U];Nt!=255&&(Nt*=32897,G[X+4*U+0]=G[X+4*U+0]*Nt>>23,G[X+4*U+1]=G[X+4*U+1]*Nt>>23,G[X+4*U+2]=G[X+4*U+2]*Nt>>23)}w+=z}}function F(g,w,x,C,O){for(;0<C--;){var z;for(z=0;z<x;++z){var U=g[w+2*z+0],G=15&(J=g[w+2*z+1]),X=4369*G,J=(240&J|J>>4)*X>>16;g[w+2*z+0]=(240&U|U>>4)*X>>16&240|(15&U|U<<4)*X>>16>>4&15,g[w+2*z+1]=240&J|G}w+=O}}function st(g,w,x,C,O,z,U,G){var X,J,gt=255;for(J=0;J<O;++J){for(X=0;X<C;++X){var Nt=g[w+X];z[U+4*X]=Nt,gt&=Nt}w+=x,U+=G}return gt!=255}function pt(g,w,x,C,O){var z;for(z=0;z<O;++z)x[C+z]=g[w+z]>>8}function _t(){Qi=_,Ve=F,ci=st,Vi=pt}function Ft(g,w,x){Q[g]=function(C,O,z,U,G,X,J,gt,Nt,Rt,yt,kt,Ct,ht,mt,Bt,Ht){var qt,se=Ht-1>>1,Zt=G[X+0]|J[gt+0]<<16,Se=Nt[Rt+0]|yt[kt+0]<<16;t(C!=null);var Wt=3*Zt+Se+131074>>2;for(w(C[O+0],255&Wt,Wt>>16,Ct,ht),z!=null&&(Wt=3*Se+Zt+131074>>2,w(z[U+0],255&Wt,Wt>>16,mt,Bt)),qt=1;qt<=se;++qt){var ii=G[X+qt]|J[gt+qt]<<16,hi=Nt[Rt+qt]|yt[kt+qt]<<16,ti=Zt+ii+Se+hi+524296,Ye=ti+2*(ii+Se)>>3;Wt=Ye+Zt>>1,Zt=(ti=ti+2*(Zt+hi)>>3)+ii>>1,w(C[O+2*qt-1],255&Wt,Wt>>16,Ct,ht+(2*qt-1)*x),w(C[O+2*qt-0],255&Zt,Zt>>16,Ct,ht+(2*qt-0)*x),z!=null&&(Wt=ti+Se>>1,Zt=Ye+hi>>1,w(z[U+2*qt-1],255&Wt,Wt>>16,mt,Bt+(2*qt-1)*x),w(z[U+2*qt+0],255&Zt,Zt>>16,mt,Bt+(2*qt+0)*x)),Zt=ii,Se=hi}1&Ht||(Wt=3*Zt+Se+131074>>2,w(C[O+Ht-1],255&Wt,Wt>>16,Ct,ht+(Ht-1)*x),z!=null&&(Wt=3*Se+Zt+131074>>2,w(z[U+Ht-1],255&Wt,Wt>>16,mt,Bt+(Ht-1)*x)))}}function Yt(){vs[po]=Nf,vs[go]=I1,vs[Sf]=Ep,vs[lu]=B1,vs[ms]=dl,vs[Os]=j1,vs[fl]=Uc,vs[Qa]=I1,vs[Za]=B1,vs[Fr]=dl,vs[_p]=j1}function ae(g){return g&-16384?0>g?0:255:g>>Ta}function de(g,w){return ae((19077*g>>8)+(26149*w>>8)-14234)}function De(g,w,x){return ae((19077*g>>8)-(6419*w>>8)-(13320*x>>8)+8708)}function Me(g,w){return ae((19077*g>>8)+(33050*w>>8)-17685)}function Ke(g,w,x,C,O){C[O+0]=de(g,x),C[O+1]=De(g,w,x),C[O+2]=Me(g,w)}function Fi(g,w,x,C,O){C[O+0]=Me(g,w),C[O+1]=De(g,w,x),C[O+2]=de(g,x)}function Hi(g,w,x,C,O){var z=De(g,w,x);w=z<<3&224|Me(g,w)>>3,C[O+0]=248&de(g,x)|z>>5,C[O+1]=w}function an(g,w,x,C,O){var z=240&Me(g,w)|15;C[O+0]=240&de(g,x)|De(g,w,x)>>4,C[O+1]=z}function rn(g,w,x,C,O){C[O+0]=255,Ke(g,w,x,C,O+1)}function Dn(g,w,x,C,O){Fi(g,w,x,C,O),C[O+3]=255}function Wa(g,w,x,C,O){Ke(g,w,x,C,O),C[O+3]=255}function ia(g,w){return 0>g?0:g>w?w:g}function $a(g,w,x){Q[g]=function(C,O,z,U,G,X,J,gt,Nt){for(var Rt=gt+(-2&Nt)*x;gt!=Rt;)w(C[O+0],z[U+0],G[X+0],J,gt),w(C[O+1],z[U+0],G[X+0],J,gt+x),O+=2,++U,++X,gt+=2*x;1&Nt&&w(C[O+0],z[U+0],G[X+0],J,gt)}}function vf(g,w,x){return x==0?g==0?w==0?6:5:w==0?4:0:x}function ro(g,w,x,C,O){switch(g>>>30){case 3:na(w,x,C,O,0);break;case 2:Gi(w,x,C,O);break;case 1:on(w,x,C,O)}}function oo(g,w){var x,C,O=w.M,z=w.Nb,U=g.oc,G=g.pc+40,X=g.oc,J=g.pc+584,gt=g.oc,Nt=g.pc+600;for(x=0;16>x;++x)U[G+32*x-1]=129;for(x=0;8>x;++x)X[J+32*x-1]=129,gt[Nt+32*x-1]=129;for(0<O?U[G-1-32]=X[J-1-32]=gt[Nt-1-32]=129:(s(U,G-32-1,127,21),s(X,J-32-1,127,9),s(gt,Nt-32-1,127,9)),C=0;C<g.za;++C){var Rt=w.ya[w.aa+C];if(0<C){for(x=-1;16>x;++x)i(U,G+32*x-4,U,G+32*x+12,4);for(x=-1;8>x;++x)i(X,J+32*x-4,X,J+32*x+4,4),i(gt,Nt+32*x-4,gt,Nt+32*x+4,4)}var yt=g.Gd,kt=g.Hd+C,Ct=Rt.ad,ht=Rt.Hc;if(0<O&&(i(U,G-32,yt[kt].y,0,16),i(X,J-32,yt[kt].f,0,8),i(gt,Nt-32,yt[kt].ea,0,8)),Rt.Za){var mt=U,Bt=G-32+16;for(0<O&&(C>=g.za-1?s(mt,Bt,yt[kt].y[15],4):i(mt,Bt,yt[kt+1].y,0,4)),x=0;4>x;x++)mt[Bt+128+x]=mt[Bt+256+x]=mt[Bt+384+x]=mt[Bt+0+x];for(x=0;16>x;++x,ht<<=2)mt=U,Bt=G+I2[x],La[Rt.Ob[x]](mt,Bt),ro(ht,Ct,16*+x,mt,Bt)}else if(mt=vf(C,O,Rt.Ob[0]),tr[mt](U,G),ht!=0)for(x=0;16>x;++x,ht<<=2)ro(ht,Ct,16*+x,U,G+I2[x]);for(x=Rt.Gc,mt=vf(C,O,Rt.Dd),ra[mt](X,J),ra[mt](gt,Nt),ht=Ct,mt=X,Bt=J,255&(Rt=x>>0)&&(170&Rt?Fc(ht,256,mt,Bt):Un(ht,256,mt,Bt)),Rt=gt,ht=Nt,255&(x>>=8)&&(170&x?Fc(Ct,320,Rt,ht):Un(Ct,320,Rt,ht)),O<g.Ub-1&&(i(yt[kt].y,0,U,G+480,16),i(yt[kt].f,0,X,J+224,8),i(yt[kt].ea,0,gt,Nt+224,8)),x=8*z*g.B,yt=g.sa,kt=g.ta+16*C+16*z*g.R,Ct=g.qa,Rt=g.ra+8*C+x,ht=g.Ha,mt=g.Ia+8*C+x,x=0;16>x;++x)i(yt,kt+x*g.R,U,G+32*x,16);for(x=0;8>x;++x)i(Ct,Rt+x*g.B,X,J+32*x,8),i(ht,mt+x*g.B,gt,Nt+32*x,8)}}function Dc(g,w,x,C,O,z,U,G,X){var J=[0],gt=[0],Nt=0,Rt=X!=null?X.kd:0,yt=X??new pf;if(g==null||12>x)return 7;yt.data=g,yt.w=w,yt.ha=x,w=[w],x=[x],yt.gb=[yt.gb];t:{var kt=w,Ct=x,ht=yt.gb;if(t(g!=null),t(Ct!=null),t(ht!=null),ht[0]=0,12<=Ct[0]&&!e(g,kt[0],"RIFF")){if(e(g,kt[0]+8,"WEBP")){ht=3;break t}var mt=Qt(g,kt[0]+4);if(12>mt||4294967286<mt){ht=3;break t}if(Rt&&mt>Ct[0]-8){ht=7;break t}ht[0]=mt,kt[0]+=12,Ct[0]-=12}ht=0}if(ht!=0)return ht;for(mt=0<yt.gb[0],x=x[0];;){t:{var Bt=g;Ct=w,ht=x;var Ht=J,qt=gt,se=kt=[0];if((Wt=Nt=[Nt])[0]=0,8>ht[0])ht=7;else{if(!e(Bt,Ct[0],"VP8X")){if(Qt(Bt,Ct[0]+4)!=10){ht=3;break t}if(18>ht[0]){ht=7;break t}var Zt=Qt(Bt,Ct[0]+8),Se=1+Jt(Bt,Ct[0]+12);if(2147483648<=Se*(Bt=1+Jt(Bt,Ct[0]+15))){ht=3;break t}se!=null&&(se[0]=Zt),Ht!=null&&(Ht[0]=Se),qt!=null&&(qt[0]=Bt),Ct[0]+=18,ht[0]-=18,Wt[0]=1}ht=0}}if(Nt=Nt[0],kt=kt[0],ht!=0)return ht;if(Ct=!!(2&kt),!mt&&Nt)return 3;if(z!=null&&(z[0]=!!(16&kt)),U!=null&&(U[0]=Ct),G!=null&&(G[0]=0),U=J[0],kt=gt[0],Nt&&Ct&&X==null){ht=0;break}if(4>x){ht=7;break}if(mt&&Nt||!mt&&!Nt&&!e(g,w[0],"ALPH")){x=[x],yt.na=[yt.na],yt.P=[yt.P],yt.Sa=[yt.Sa];t:{Zt=g,ht=w,mt=x;var Wt=yt.gb;Ht=yt.na,qt=yt.P,se=yt.Sa,Se=22,t(Zt!=null),t(mt!=null),Bt=ht[0];var ii=mt[0];for(t(Ht!=null),t(se!=null),Ht[0]=null,qt[0]=null,se[0]=0;;){if(ht[0]=Bt,mt[0]=ii,8>ii){ht=7;break t}var hi=Qt(Zt,Bt+4);if(4294967286<hi){ht=3;break t}var ti=8+hi+1&-2;if(Se+=ti,0<Wt&&Se>Wt){ht=3;break t}if(!e(Zt,Bt,"VP8 ")||!e(Zt,Bt,"VP8L")){ht=0;break t}if(ii[0]<ti){ht=7;break t}e(Zt,Bt,"ALPH")||(Ht[0]=Zt,qt[0]=Bt+8,se[0]=hi),Bt+=ti,ii-=ti}}if(x=x[0],yt.na=yt.na[0],yt.P=yt.P[0],yt.Sa=yt.Sa[0],ht!=0)break}x=[x],yt.Ja=[yt.Ja],yt.xa=[yt.xa];t:if(Wt=g,ht=w,mt=x,Ht=yt.gb[0],qt=yt.Ja,se=yt.xa,Zt=ht[0],Bt=!e(Wt,Zt,"VP8 "),Se=!e(Wt,Zt,"VP8L"),t(Wt!=null),t(mt!=null),t(qt!=null),t(se!=null),8>mt[0])ht=7;else{if(Bt||Se){if(Wt=Qt(Wt,Zt+4),12<=Ht&&Wt>Ht-12){ht=3;break t}if(Rt&&Wt>mt[0]-8){ht=7;break t}qt[0]=Wt,ht[0]+=8,mt[0]-=8,se[0]=Se}else se[0]=5<=mt[0]&&Wt[Zt+0]==47&&!(Wt[Zt+4]>>5),qt[0]=mt[0];ht=0}if(x=x[0],yt.Ja=yt.Ja[0],yt.xa=yt.xa[0],w=w[0],ht!=0)break;if(4294967286<yt.Ja)return 3;if(G==null||Ct||(G[0]=yt.xa?2:1),U=[U],kt=[kt],yt.xa){if(5>x){ht=7;break}G=U,Rt=kt,Ct=z,g==null||5>x?g=0:5<=x&&g[w+0]==47&&!(g[w+4]>>5)?(mt=[0],Wt=[0],Ht=[0],dt(qt=new P,g,w,x),be(qt,mt,Wt,Ht)?(G!=null&&(G[0]=mt[0]),Rt!=null&&(Rt[0]=Wt[0]),Ct!=null&&(Ct[0]=Ht[0]),g=1):g=0):g=0}else{if(10>x){ht=7;break}G=kt,g==null||10>x||!Sa(g,w+3,x-3)?g=0:(Rt=g[w+0]|g[w+1]<<8|g[w+2]<<16,Ct=16383&(g[w+7]<<8|g[w+6]),g=16383&(g[w+9]<<8|g[w+8]),1&Rt||3<(Rt>>1&7)||!(Rt>>4&1)||Rt>>5>=yt.Ja||!Ct||!g?g=0:(U&&(U[0]=Ct),G&&(G[0]=g),g=1))}if(!g||(U=U[0],kt=kt[0],Nt&&(J[0]!=U||gt[0]!=kt)))return 3;X!=null&&(X[0]=yt,X.offset=w-X.w,t(4294967286>w-X.w),t(X.offset==X.ha-x));break}return ht==0||ht==7&&Nt&&X==null?(z!=null&&(z[0]|=yt.na!=null&&0<yt.na.length),C!=null&&(C[0]=U),O!=null&&(O[0]=kt),0):ht}function nl(g,w,x){var C=w.width,O=w.height,z=0,U=0,G=C,X=O;if(w.Da=g!=null&&0<g.Da,w.Da&&(G=g.cd,X=g.bd,z=g.v,U=g.j,11>x||(z&=-2,U&=-2),0>z||0>U||0>=G||0>=X||z+G>C||U+X>O))return 0;if(w.v=z,w.j=U,w.va=z+G,w.o=U+X,w.U=G,w.T=X,w.da=g!=null&&0<g.da,w.da){if(!Re(G,X,x=[g.ib],z=[g.hb]))return 0;w.ib=x[0],w.hb=z[0]}return w.ob=g!=null&&g.ob,w.Kb=g==null||!g.Sd,w.da&&(w.ob=w.ib<3*C/4&&w.hb<3*O/4,w.Kb=0),1}function Pc(g){if(g==null)return 2;if(11>g.S){var w=g.f.RGBA;w.fb+=(g.height-1)*w.A,w.A=-w.A}else w=g.f.kb,g=g.height,w.O+=(g-1)*w.fa,w.fa=-w.fa,w.N+=(g-1>>1)*w.Ab,w.Ab=-w.Ab,w.W+=(g-1>>1)*w.Db,w.Db=-w.Db,w.F!=null&&(w.J+=(g-1)*w.lb,w.lb=-w.lb);return 0}function iu(g,w,x,C){if(C==null||0>=g||0>=w)return 2;if(x!=null){if(x.Da){var O=x.cd,z=x.bd,U=-2&x.v,G=-2&x.j;if(0>U||0>G||0>=O||0>=z||U+O>g||G+z>w)return 2;g=O,w=z}if(x.da){if(!Re(g,w,O=[x.ib],z=[x.hb]))return 2;g=O[0],w=z[0]}}C.width=g,C.height=w;t:{var X=C.width,J=C.height;if(g=C.S,0>=X||0>=J||!(g>=po&&13>g))g=2;else{if(0>=C.Rd&&C.sd==null){U=z=O=w=0;var gt=(G=X*Cp[g])*J;if(11>g||(z=(J+1)/2*(w=(X+1)/2),g==12&&(U=(O=X)*J)),(J=r(gt+2*z+U))==null){g=1;break t}C.sd=J,11>g?((X=C.f.RGBA).eb=J,X.fb=0,X.A=G,X.size=gt):((X=C.f.kb).y=J,X.O=0,X.fa=G,X.Fd=gt,X.f=J,X.N=0+gt,X.Ab=w,X.Cd=z,X.ea=J,X.W=0+gt+z,X.Db=w,X.Ed=z,g==12&&(X.F=J,X.J=0+gt+2*z),X.Tc=U,X.lb=O)}if(w=1,O=C.S,z=C.width,U=C.height,O>=po&&13>O)if(11>O)g=C.f.RGBA,w&=(G=Math.abs(g.A))*(U-1)+z<=g.size,w&=G>=z*Cp[O],w&=g.eb!=null;else{g=C.f.kb,G=(z+1)/2,gt=(U+1)/2,X=Math.abs(g.fa),J=Math.abs(g.Ab);var Nt=Math.abs(g.Db),Rt=Math.abs(g.lb),yt=Rt*(U-1)+z;w&=X*(U-1)+z<=g.Fd,w&=J*(gt-1)+G<=g.Cd,w=(w&=Nt*(gt-1)+G<=g.Ed)&X>=z&J>=G&Nt>=G,w&=g.y!=null,w&=g.f!=null,w&=g.ea!=null,O==12&&(w&=Rt>=z,w&=yt<=g.Tc,w&=g.F!=null)}else w=0;g=w?0:2}}return g!=0||x!=null&&x.fd&&(g=Pc(C)),g}var An=64,sl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],nu=24,su=32,Oc=8,ks=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];te("Predictor0","PredictorAdd0"),Q.Predictor0=function(){return 4278190080},Q.Predictor1=function(g){return g},Q.Predictor2=function(g,w,x){return w[x+0]},Q.Predictor3=function(g,w,x){return w[x+1]},Q.Predictor4=function(g,w,x){return w[x-1]},Q.Predictor5=function(g,w,x){return ee(ee(g,w[x+1]),w[x+0])},Q.Predictor6=function(g,w,x){return ee(g,w[x-1])},Q.Predictor7=function(g,w,x){return ee(g,w[x+0])},Q.Predictor8=function(g,w,x){return ee(w[x-1],w[x+0])},Q.Predictor9=function(g,w,x){return ee(w[x+0],w[x+1])},Q.Predictor10=function(g,w,x){return ee(ee(g,w[x-1]),ee(w[x+0],w[x+1]))},Q.Predictor11=function(g,w,x){var C=w[x+0];return 0>=Be(C>>24&255,g>>24&255,(w=w[x-1])>>24&255)+Be(C>>16&255,g>>16&255,w>>16&255)+Be(C>>8&255,g>>8&255,w>>8&255)+Be(255&C,255&g,255&w)?C:g},Q.Predictor12=function(g,w,x){var C=w[x+0];return(me((g>>24&255)+(C>>24&255)-((w=w[x-1])>>24&255))<<24|me((g>>16&255)+(C>>16&255)-(w>>16&255))<<16|me((g>>8&255)+(C>>8&255)-(w>>8&255))<<8|me((255&g)+(255&C)-(255&w)))>>>0},Q.Predictor13=function(g,w,x){var C=w[x-1];return(Ae((g=ee(g,w[x+0]))>>24&255,C>>24&255)<<24|Ae(g>>16&255,C>>16&255)<<16|Ae(g>>8&255,C>>8&255)<<8|Ae(g>>0&255,C>>0&255))>>>0};var k1=Q.PredictorAdd0;Q.PredictorAdd1=ze,te("Predictor2","PredictorAdd2"),te("Predictor3","PredictorAdd3"),te("Predictor4","PredictorAdd4"),te("Predictor5","PredictorAdd5"),te("Predictor6","PredictorAdd6"),te("Predictor7","PredictorAdd7"),te("Predictor8","PredictorAdd8"),te("Predictor9","PredictorAdd9"),te("Predictor10","PredictorAdd10"),te("Predictor11","PredictorAdd11"),te("Predictor12","PredictorAdd12"),te("Predictor13","PredictorAdd13");var bf=Q.PredictorAdd2;He("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),He("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var Sp,Ea=Q.ColorIndexInverseTransform,Pn=Q.MapARGB,al=Q.VP8LColorIndexInverseTransformAlpha,yf=Q.MapAlpha,lo=Q.VP8LPredictorsAdd=[];lo.length=16,(Q.VP8LPredictors=[]).length=16,(Q.VP8LPredictorsAdd_C=[]).length=16,(Q.VP8LPredictors_C=[]).length=16;var rl,gs,qn,ol,uo,Ds,ll,na,Gi,Fc,on,Un,ul,wf,Ka,cl,hl,co,au,Ic,ru,ho,Bc,sa,Qi,Ve,ci,Vi,Zi=r(511),Na=r(2041),ou=r(225),aa=r(767),Af=0,jc=Na,fo=ou,Ps=aa,Yi=Zi,po=0,go=1,Sf=2,lu=3,ms=4,Os=5,fl=6,Qa=7,Za=8,Fr=9,_p=10,D1=[2,3,7],P1=[3,3,11],es=[280,256,256,256,40],Hn=[0,1,1,1,0],ri=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ja=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ir=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],O1=8,mo=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],xp=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],zc=null,_f=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],xf=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],qc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ef=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],D2=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],F1=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],P2=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],tr=[],La=[],ra=[],O2=1,uu=2,Ca=[],vs=[];Ft("UpsampleRgbLinePair",Ke,3),Ft("UpsampleBgrLinePair",Fi,3),Ft("UpsampleRgbaLinePair",Wa,4),Ft("UpsampleBgraLinePair",Dn,4),Ft("UpsampleArgbLinePair",rn,4),Ft("UpsampleRgba4444LinePair",an,2),Ft("UpsampleRgb565LinePair",Hi,2);var Nf=Q.UpsampleRgbLinePair,Ep=Q.UpsampleBgrLinePair,I1=Q.UpsampleRgbaLinePair,B1=Q.UpsampleBgraLinePair,dl=Q.UpsampleArgbLinePair,j1=Q.UpsampleRgba4444LinePair,Uc=Q.UpsampleRgb565LinePair,cu=16,Lf=1<<cu-1,hu=-227,Cf=482,Ta=6,er=0,pl=r(256),F2=r(256),gl=r(256),vo=r(256),Sn=r(Cf-hu),Np=r(Cf-hu);$a("YuvToRgbRow",Ke,3),$a("YuvToBgrRow",Fi,3),$a("YuvToRgbaRow",Wa,4),$a("YuvToBgraRow",Dn,4),$a("YuvToArgbRow",rn,4),$a("YuvToRgba4444Row",an,2),$a("YuvToRgb565Row",Hi,2);var I2=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Lp=[0,2,8],lb=[8,7,6,4,4,2,2,2,1,1,1,1],_n=1;this.WebPDecodeRGBA=function(g,w,x,C,O){var z=go,U=new Tc,G=new Rs;U.ba=G,G.S=z,G.width=[G.width],G.height=[G.height];var X=G.width,J=G.height,gt=new ba;if(gt==null||g==null)var Nt=2;else t(gt!=null),Nt=Dc(g,w,x,gt.width,gt.height,gt.Pd,gt.Qd,gt.format,null);if(Nt!=0?X=0:(X!=null&&(X[0]=gt.width[0]),J!=null&&(J[0]=gt.height[0]),X=1),X){G.width=G.width[0],G.height=G.height[0],C!=null&&(C[0]=G.width),O!=null&&(O[0]=G.height);t:{if(C=new mc,(O=new pf).data=g,O.w=w,O.ha=x,O.kd=1,w=[0],t(O!=null),((g=Dc(O.data,O.w,O.ha,null,null,null,w,null,O))==0||g==7)&&w[0]&&(g=4),(w=g)==0){if(t(U!=null),C.data=O.data,C.w=O.w+O.offset,C.ha=O.ha-O.offset,C.put=ja,C.ac=Mn,C.bc=ya,C.ma=U,O.xa){if((g=wa())==null){U=1;break t}if(function(Rt,yt){var kt=[0],Ct=[0],ht=[0];e:for(;;){if(Rt==null)return 0;if(yt==null)return Rt.a=2,0;if(Rt.l=yt,Rt.a=0,dt(Rt.m,yt.data,yt.w,yt.ha),!be(Rt.m,kt,Ct,ht)){Rt.a=3;break e}if(Rt.xb=uu,yt.width=kt[0],yt.height=Ct[0],!Ua(kt[0],Ct[0],1,Rt,null))break e;return 1}return t(Rt.a!=0),0}(g,C)){if(C=(w=iu(C.width,C.height,U.Oa,U.ba))==0){e:{C=g;i:for(;;){if(C==null){C=0;break e}if(t(C.s.yc!=null),t(C.s.Ya!=null),t(0<C.s.Wb),t((x=C.l)!=null),t((O=x.ma)!=null),C.xb!=0){if(C.ca=O.ba,C.tb=O.tb,t(C.ca!=null),!nl(O.Oa,x,lu)){C.a=2;break i}if(!Ha(C,x.width)||x.da)break i;if((x.da||pi(C.ca.S))&&_t(),11>C.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),C.ca.f.kb.F!=null&&_t()),C.Pb&&0<C.s.ua&&C.s.vb.X==null&&!ve(C.s.vb,C.s.Wa.Xa)){C.a=1;break i}C.xb=0}if(!Zs(C,C.V,C.Ba,C.c,C.i,x.o,Qs))break i;O.Dc=C.Ma,C=1;break e}t(C.a!=0),C=0}C=!C}C&&(w=g.a)}else w=g.a}else{if((g=new vc)==null){U=1;break t}if(g.Fa=O.na,g.P=O.P,g.qc=O.Sa,ps(g,C)){if((w=iu(C.width,C.height,U.Oa,U.ba))==0){if(g.Aa=0,x=U.Oa,t((O=g)!=null),x!=null){if(0<(X=0>(X=x.Md)?0:100<X?255:255*X/100)){for(J=gt=0;4>J;++J)12>(Nt=O.pb[J]).lc&&(Nt.ia=X*lb[0>Nt.lc?0:Nt.lc]>>3),gt|=Nt.ia;gt&&(alert("todo:VP8InitRandom"),O.ia=1)}O.Ga=x.Id,100<O.Ga?O.Ga=100:0>O.Ga&&(O.Ga=0)}bc(g,C)||(w=g.a)}}else w=g.a}w==0&&U.Oa!=null&&U.Oa.fd&&(w=Pc(U.ba))}U=w}z=U!=0?null:11>z?G.f.RGBA.eb:G.f.kb.y}else z=null;return z};var Cp=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function p(Q,et){for(var ft="",q=0;q<4;q++)ft+=String.fromCharCode(Q[et++]);return ft}function m(Q,et){return(Q[et+0]<<0|Q[et+1]<<8|Q[et+2]<<16)>>>0}function y(Q,et){return(Q[et+0]<<0|Q[et+1]<<8|Q[et+2]<<16|Q[et+3]<<24)>>>0}new h;var A=[0],b=[0],N=[],E=new h,T=l,L=function(Q,et){var ft={},q=0,W=!1,lt=0,nt=0;if(ft.frames=[],!function(V,K,at,ut){for(var bt=0;bt<ut;bt++)if(V[K+bt]!=at.charCodeAt(bt))return!0;return!1}(Q,et,"RIFF",4)){var Tt,it;for(y(Q,et+=4),et+=8;et<Q.length;){var ct=p(Q,et),dt=y(Q,et+=4);et+=4;var Lt=dt+(1&dt);switch(ct){case"VP8 ":case"VP8L":ft.frames[q]===void 0&&(ft.frames[q]={}),(P=ft.frames[q]).src_off=W?nt:et-8,P.src_size=lt+dt+8,q++,W&&(W=!1,lt=0,nt=0);break;case"VP8X":(P=ft.header={}).feature_flags=Q[et];var $=et+4;P.canvas_width=1+m(Q,$),$+=3,P.canvas_height=1+m(Q,$),$+=3;break;case"ALPH":W=!0,lt=Lt+8,nt=et-8;break;case"ANIM":(P=ft.header).bgcolor=y(Q,et),$=et+4,P.loop_count=(Tt=Q)[(it=$)+0]<<0|Tt[it+1]<<8,$+=2;break;case"ANMF":var St,P;(P=ft.frames[q]={}).offset_x=2*m(Q,et),et+=3,P.offset_y=2*m(Q,et),et+=3,P.width=1+m(Q,et),et+=3,P.height=1+m(Q,et),et+=3,P.duration=m(Q,et),et+=3,St=Q[et++],P.dispose=1&St,P.blend=St>>1&1}ct!="ANMF"&&(et+=Lt)}return ft}}(T,0);L.response=T,L.rgbaoutput=!0,L.dataurl=!1;var R=L.header?L.header:null,k=L.frames?L.frames:null;if(R){R.loop_counter=R.loop_count,A=[R.canvas_height],b=[R.canvas_width];for(var j=0;j<k.length&&k[j].blend!=0;j++);}var H=k[0],tt=E.WebPDecodeRGBA(T,H.src_off,H.src_size,b,A);H.rgba=tt,H.imgwidth=b[0],H.imgheight=A[0];for(var Z=0;Z<b[0]*A[0]*4;Z++)N[Z]=tt[Z];return this.width=b,this.height=A,this.data=N,this}(function(l){var t=function(){return typeof Qy=="function"},e=function(A,b,N,E){var T=4,L=o;switch(E){case l.image_compression.FAST:T=1,L=r;break;case l.image_compression.MEDIUM:T=6,L=c;break;case l.image_compression.SLOW:T=9,L=h}A=i(A,b,N,L);var R=Qy(A,{level:T});return l.__addimage__.arrayBufferToBinaryString(R)},i=function(A,b,N,E){for(var T,L,R,k=A.length/b,j=new Uint8Array(A.length+k),H=m(),tt=0;tt<k;tt+=1){if(R=tt*b,T=A.subarray(R,R+b),E)j.set(E(T,N,L),R+tt);else{for(var Z,Q=H.length,et=[];Z<Q;Z+=1)et[Z]=H[Z](T,N,L);var ft=y(et.concat());j.set(et[ft],R+tt)}L=T}return j},s=function(A){var b=Array.apply([],A);return b.unshift(0),b},r=function(A,b){var N,E=[],T=A.length;E[0]=1;for(var L=0;L<T;L+=1)N=A[L-b]||0,E[L+1]=A[L]-N+256&255;return E},o=function(A,b,N){var E,T=[],L=A.length;T[0]=2;for(var R=0;R<L;R+=1)E=N&&N[R]||0,T[R+1]=A[R]-E+256&255;return T},c=function(A,b,N){var E,T,L=[],R=A.length;L[0]=3;for(var k=0;k<R;k+=1)E=A[k-b]||0,T=N&&N[k]||0,L[k+1]=A[k]+256-(E+T>>>1)&255;return L},h=function(A,b,N){var E,T,L,R,k=[],j=A.length;k[0]=4;for(var H=0;H<j;H+=1)E=A[H-b]||0,T=N&&N[H]||0,L=N&&N[H-b]||0,R=p(E,T,L),k[H+1]=A[H]-R+256&255;return k},p=function(A,b,N){if(A===b&&b===N)return A;var E=Math.abs(b-N),T=Math.abs(A-N),L=Math.abs(A+b-N-N);return E<=T&&E<=L?A:T<=L?b:N},m=function(){return[s,r,o,c,h]},y=function(A){var b=A.map(function(N){return N.reduce(function(E,T){return E+Math.abs(T)},0)});return b.indexOf(Math.min.apply(null,b))};l.processPNG=function(A,b,N,E){var T,L,R,k,j,H,tt,Z,Q,et,ft,q,W,lt,nt,Tt=this.decode.FLATE_DECODE,it="";if(this.__addimage__.isArrayBuffer(A)&&(A=new Uint8Array(A)),this.__addimage__.isArrayBufferView(A)){if(A=(R=new JL(A)).imgData,L=R.bits,T=R.colorSpace,j=R.colors,[4,6].indexOf(R.colorType)!==-1){if(R.bits===8){Q=(Z=R.pixelBitlength==32?new Uint32Array(R.decodePixels().buffer):R.pixelBitlength==16?new Uint16Array(R.decodePixels().buffer):new Uint8Array(R.decodePixels().buffer)).length,ft=new Uint8Array(Q*R.colors),et=new Uint8Array(Q);var ct,dt=R.pixelBitlength-R.bits;for(lt=0,nt=0;lt<Q;lt++){for(W=Z[lt],ct=0;ct<dt;)ft[nt++]=W>>>ct&255,ct+=R.bits;et[lt]=W>>>ct&255}}if(R.bits===16){Q=(Z=new Uint32Array(R.decodePixels().buffer)).length,ft=new Uint8Array(Q*(32/R.pixelBitlength)*R.colors),et=new Uint8Array(Q*(32/R.pixelBitlength)),q=R.colors>1,lt=0,nt=0;for(var Lt=0;lt<Q;)W=Z[lt++],ft[nt++]=W>>>0&255,q&&(ft[nt++]=W>>>16&255,W=Z[lt++],ft[nt++]=W>>>0&255),et[Lt++]=W>>>16&255;L=8}E!==l.image_compression.NONE&&t()?(A=e(ft,R.width*R.colors,R.colors,E),tt=e(et,R.width,1,E)):(A=ft,tt=et,Tt=void 0)}if(R.colorType===3&&(T=this.color_spaces.INDEXED,H=R.palette,R.transparency.indexed)){var $=R.transparency.indexed,St=0;for(lt=0,Q=$.length;lt<Q;++lt)St+=$[lt];if((St/=255)===Q-1&&$.indexOf(0)!==-1)k=[$.indexOf(0)];else if(St!==Q){for(Z=R.decodePixels(),et=new Uint8Array(Z.length),lt=0,Q=Z.length;lt<Q;lt++)et[lt]=$[Z[lt]];tt=e(et,R.width,1)}}var P=function(V){var K;switch(V){case l.image_compression.FAST:K=11;break;case l.image_compression.MEDIUM:K=13;break;case l.image_compression.SLOW:K=14;break;default:K=12}return K}(E);return Tt===this.decode.FLATE_DECODE&&(it="/Predictor "+P+" "),it+="/Colors "+j+" /BitsPerComponent "+L+" /Columns "+R.width,(this.__addimage__.isArrayBuffer(A)||this.__addimage__.isArrayBufferView(A))&&(A=this.__addimage__.arrayBufferToBinaryString(A)),(tt&&this.__addimage__.isArrayBuffer(tt)||this.__addimage__.isArrayBufferView(tt))&&(tt=this.__addimage__.arrayBufferToBinaryString(tt)),{alias:N,data:A,index:b,filter:Tt,decodeParameters:it,transparency:k,palette:H,sMask:tt,predictor:P,width:R.width,height:R.height,bitsPerComponent:L,colorSpace:T}}}})(Ne.API),function(l){l.processGIF89A=function(t,e,i,s){var r=new tC(t),o=r.width,c=r.height,h=[];r.decodeAndBlitFrameRGBA(0,h);var p={data:h,width:o,height:c},m=new Py(100).encode(p,100);return l.processJPEG.call(this,m,e,i,s)},l.processGIF87A=l.processGIF89A}(Ne.API),Lo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var l=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(l);for(var t=0;t<l;t++){var e=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:i,blue:e,quad:r}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Lo.prototype.parseBGR=function(){this.pos=this.offset;try{var l="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[l]()}catch(e){ki.log("bit decode error:"+e)}},Lo.prototype.bit1=function(){var l,t=Math.ceil(this.width/8),e=t%4;for(l=this.height-1;l>=0;l--){for(var i=this.bottom_up?l:this.height-1-l,s=0;s<t;s++)for(var r=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+8*s*4,c=0;c<8&&8*s+c<this.width;c++){var h=this.palette[r>>7-c&1];this.data[o+4*c]=h.blue,this.data[o+4*c+1]=h.green,this.data[o+4*c+2]=h.red,this.data[o+4*c+3]=255}e!==0&&(this.pos+=4-e)}},Lo.prototype.bit4=function(){for(var l=Math.ceil(this.width/2),t=l%4,e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,s=0;s<l;s++){var r=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+2*s*4,c=r>>4,h=15&r,p=this.palette[c];if(this.data[o]=p.blue,this.data[o+1]=p.green,this.data[o+2]=p.red,this.data[o+3]=255,2*s+1>=this.width)break;p=this.palette[h],this.data[o+4]=p.blue,this.data[o+4+1]=p.green,this.data[o+4+2]=p.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Lo.prototype.bit8=function(){for(var l=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint8(this.pos++,!0),r=e*this.width*4+4*i;if(s<this.palette.length){var o=this.palette[s];this.data[r]=o.red,this.data[r+1]=o.green,this.data[r+2]=o.blue,this.data[r+3]=255}else this.data[r]=255,this.data[r+1]=255,this.data[r+2]=255,this.data[r+3]=255}l!==0&&(this.pos+=4-l)}},Lo.prototype.bit15=function(){for(var l=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var r=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(r&t)/t*255|0,c=(r>>5&t)/t*255|0,h=(r>>10&t)/t*255|0,p=r>>15?255:0,m=i*this.width*4+4*s;this.data[m]=h,this.data[m+1]=c,this.data[m+2]=o,this.data[m+3]=p}this.pos+=l}},Lo.prototype.bit16=function(){for(var l=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var s=this.bottom_up?i:this.height-1-i,r=0;r<this.width;r++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&t)/t*255|0,h=(o>>5&e)/e*255|0,p=(o>>11)/t*255|0,m=s*this.width*4+4*r;this.data[m]=p,this.data[m+1]=h,this.data[m+2]=c,this.data[m+3]=255}this.pos+=l}},Lo.prototype.bit24=function(){for(var l=this.height-1;l>=0;l--){for(var t=this.bottom_up?l:this.height-1-l,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*e;this.data[o]=r,this.data[o+1]=s,this.data[o+2]=i,this.data[o+3]=255}this.pos+=this.width%4}},Lo.prototype.bit32=function(){for(var l=this.height-1;l>=0;l--)for(var t=this.bottom_up?l:this.height-1-l,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*e;this.data[c]=r,this.data[c+1]=s,this.data[c+2]=i,this.data[c+3]=o}},Lo.prototype.getData=function(){return this.data},function(l){l.processBMP=function(t,e,i,s){var r=new Lo(t,!1),o=r.width,c=r.height,h={data:r.getData(),width:o,height:c},p=new Py(100).encode(h,100);return l.processJPEG.call(this,p,e,i,s)}}(Ne.API),f4.prototype.getData=function(){return this.data},function(l){l.processWEBP=function(t,e,i,s){var r=new f4(t),o=r.width,c=r.height,h={data:r.getData(),width:o,height:c},p=new Py(100).encode(h,100);return l.processJPEG.call(this,p,e,i,s)}}(Ne.API),Ne.API.processRGBA=function(l,t,e){for(var i=l.data,s=i.length,r=new Uint8Array(s/4*3),o=new Uint8Array(s/4),c=0,h=0,p=0;p<s;p+=4){var m=i[p],y=i[p+1],A=i[p+2],b=i[p+3];r[c++]=m,r[c++]=y,r[c++]=A,o[h++]=b}var N=this.__addimage__.arrayBufferToBinaryString(r);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:N,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:l.width,height:l.height}},Ne.API.setLanguage=function(l){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[l]!==void 0&&(this.internal.languageSettings.languageCode=l,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Jp=Ne.API,T5=Jp.getCharWidthsArray=function(l,t){var e,i,s=(t=t||{}).font||this.internal.getFont(),r=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),c=t.widths?t.widths:s.metadata.Unicode.widths,h=c.fof?c.fof:1,p=t.kerning?t.kerning:s.metadata.Unicode.kerning,m=p.fof?p.fof:1,y=t.doKerning!==!1,A=0,b=l.length,N=0,E=c[0]||h,T=[];for(e=0;e<b;e++)i=l.charCodeAt(e),typeof s.metadata.widthOfString=="function"?T.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(i))+o*(1e3/r)||0)/1e3):(A=y&&xi(p[i])==="object"&&!isNaN(parseInt(p[i][N],10))?p[i][N]/m:0,T.push((c[i]||E)/h+A)),N=i;return T},l4=Jp.getStringUnitWidth=function(l,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return Jp.processArabic&&(l=Jp.processArabic(l)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(l,e,s)/e:T5.apply(this,arguments).reduce(function(r,o){return r+o},0)},u4=function(l,t,e,i){for(var s=[],r=0,o=l.length,c=0;r!==o&&c+t[r]<e;)c+=t[r],r++;s.push(l.slice(0,r));var h=r;for(c=0;r!==o;)c+t[r]>i&&(s.push(l.slice(h,r)),c=0,h=r),c+=t[r],r++;return h!==r&&s.push(l.slice(h,r)),s},c4=function(l,t,e){e||(e={});var i,s,r,o,c,h,p,m=[],y=[m],A=e.textIndent||0,b=0,N=0,E=l.split(" "),T=T5.apply(this,[" ",e])[0];if(h=e.lineIndent===-1?E[0].length+2:e.lineIndent||0){var L=Array(h).join(" "),R=[];E.map(function(j){(j=j.split(/\s*\n/)).length>1?R=R.concat(j.map(function(H,tt){return(tt&&H.length?`
`:"")+H})):R.push(j[0])}),E=R,h=l4.apply(this,[L,e])}for(r=0,o=E.length;r<o;r++){var k=0;if(i=E[r],h&&i[0]==`
`&&(i=i.substr(1),k=1),A+b+(N=(s=T5.apply(this,[i,e])).reduce(function(j,H){return j+H},0))>t||k){if(N>t){for(c=u4.apply(this,[i,s,t-(A+b),t]),m.push(c.shift()),m=[c.pop()];c.length;)y.push([c.shift()]);N=s.slice(i.length-(m[0]?m[0].length:0)).reduce(function(j,H){return j+H},0)}else m=[i];y.push(m),A=N+h,b=T}else m.push(i),A+=b+N,b=T}return p=h?function(j,H){return(H?L:"")+j.join(" ")}:function(j){return j.join(" ")},y.map(p)},Jp.splitTextToSize=function(l,t,e){var i,s=(e=e||{}).fontSize||this.internal.getFontSize(),r=(function(m){if(m.widths&&m.kerning)return{widths:m.widths,kerning:m.kerning};var y=this.internal.getFont(m.fontName,m.fontStyle);return y.metadata.Unicode?{widths:y.metadata.Unicode.widths||{0:1},kerning:y.metadata.Unicode.kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);i=Array.isArray(l)?l:String(l).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/s;r.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/s:0,r.lineIndent=e.lineIndent;var c,h,p=[];for(c=0,h=i.length;c<h;c++)p=p.concat(c4.apply(this,[i[c],o,r]));return p},function(l){l.__fontmetrics__=l.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},i={},s=0;s<t.length;s++)e[t[s]]="0123456789abcdef"[s],i["0123456789abcdef"[s]]=t[s];var r=function(y){return"0x"+parseInt(y,10).toString(16)},o=l.__fontmetrics__.compress=function(y){var A,b,N,E,T=["{"];for(var L in y){if(A=y[L],isNaN(parseInt(L,10))?b="'"+L+"'":(L=parseInt(L,10),b=(b=r(L).slice(2)).slice(0,-1)+i[b.slice(-1)]),typeof A=="number")A<0?(N=r(A).slice(3),E="-"):(N=r(A).slice(2),E=""),N=E+N.slice(0,-1)+i[N.slice(-1)];else{if(xi(A)!=="object")throw new Error("Don't know what to do with value type "+xi(A)+".");N=o(A)}T.push(b+N)}return T.push("}"),T.join("")},c=l.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var A,b,N,E,T={},L=1,R=T,k=[],j="",H="",tt=y.length-1,Z=1;Z<tt;Z+=1)(E=y[Z])=="'"?A?(N=A.join(""),A=void 0):A=[]:A?A.push(E):E=="{"?(k.push([R,N]),R={},N=void 0):E=="}"?((b=k.pop())[0][b[1]]=R,N=void 0,R=b[0]):E=="-"?L=-1:N===void 0?e.hasOwnProperty(E)?(j+=e[E],N=parseInt(j,16)*L,L=1,j=""):j+=E:e.hasOwnProperty(E)?(H+=e[E],R[N]=parseInt(H,16)*L,L=1,N=void 0,H=""):H+=E;return T},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},m={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};l.events.push(["addFont",function(y){var A=y.font,b=m.Unicode[A.postScriptName];b&&(A.metadata.Unicode={},A.metadata.Unicode.widths=b.widths,A.metadata.Unicode.kerning=b.kerning);var N=p.Unicode[A.postScriptName];N&&(A.metadata.Unicode.encoding=N,A.encoding=N.codePages[0])}])}(Ne.API),function(l){var t=function(e){for(var i=e.length,s=new Uint8Array(i),r=0;r<i;r++)s[r]=e.charCodeAt(r);return s};l.API.events.push(["addFont",function(e){var i=void 0,s=e.font,r=e.instance;if(!s.isStandardFont){if(r===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(i=r.existsFileInVFS(s.postScriptName)===!1?r.loadFile(s.postScriptName):r.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,c){c=/^\x00\x01\x00\x00/.test(c)?t(c):t(G0(c)),o.metadata=l.API.TTFFont.open(c),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,i)}}])}(Ne),function(l){function t(){return(Te.canvg?Promise.resolve(Te.canvg):Yy(()=>import("./index.es-CtEw5CeH.js"),[])).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}Ne.API.addSvgAsImage=function(e,i,s,r,o,c,h,p){if(isNaN(i)||isNaN(s))throw ki.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(o))throw ki.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var m=document.createElement("canvas");m.width=r,m.height=o;var y=m.getContext("2d");y.fillStyle="#fff",y.fillRect(0,0,m.width,m.height);var A={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},b=this;return t().then(function(N){return N.fromString(y,e,A)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(N){return N.render(A)}).then(function(){b.addImage(m.toDataURL("image/jpeg",1),i,s,r,o,h,p)})}}(),Ne.API.putTotalPages=function(l){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(l,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(l,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var s=0;s<this.internal.pages[i].length;s++)this.internal.pages[i][s]=this.internal.pages[i][s].replace(t,e);return this},Ne.API.viewerPreferences=function(l,t){var e;l=l||{},t=t||!1;var i,s,r,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(o),h=[],p=0,m=0,y=0;function A(N,E){var T,L=!1;for(T=0;T<N.length;T+=1)N[T]===E&&(L=!0);return L}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,l==="reset"||t===!0){var b=c.length;for(y=0;y<b;y+=1)e[c[y]].value=e[c[y]].defaultValue,e[c[y]].explicitSet=!1}if(xi(l)==="object"){for(s in l)if(r=l[s],A(c,s)&&r!==void 0){if(e[s].type==="boolean"&&typeof r=="boolean")e[s].value=r;else if(e[s].type==="name"&&A(e[s].valueSet,r))e[s].value=r;else if(e[s].type==="integer"&&Number.isInteger(r))e[s].value=r;else if(e[s].type==="array"){for(p=0;p<r.length;p+=1)if(i=!0,r[p].length===1&&typeof r[p][0]=="number")h.push(String(r[p]-1));else if(r[p].length>1){for(m=0;m<r[p].length;m+=1)typeof r[p][m]!="number"&&(i=!1);i===!0&&h.push([r[p][0]-1,r[p][1]-1].join(" "))}e[s].value="["+h.join(" ")+"]"}else e[s].value=e[s].defaultValue;e[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var N,E=[];for(N in e)e[N].explicitSet===!0&&(e[N].type==="name"?E.push("/"+N+" /"+e[N].value):E.push("/"+N+" "+e[N].value));E.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+E.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(l){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),r=unescape(encodeURIComponent(i)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),p=r.length+o.length+c.length+s.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+p+" >>"),this.internal.write("stream"),this.internal.write(s+r+o+c+h),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};l.addMetadata=function(i,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}}(Ne.API),function(l){var t=l.API,e=t.pdfEscape16=function(r,o){for(var c,h=o.metadata.Unicode.widths,p=["","0","00","000","0000"],m=[""],y=0,A=r.length;y<A;++y){if(c=o.metadata.characterToGlyph(r.charCodeAt(y)),o.metadata.glyIdsUsed.push(c),o.metadata.toUnicode[c]=r.charCodeAt(y),h.indexOf(c)==-1&&(h.push(c),h.push([parseInt(o.metadata.widthOfGlyph(c),10)])),c=="0")return m.join("");c=c.toString(16),m.push(p[4-c.length],c)}return m.join("")},i=function(r){var o,c,h,p,m,y,A;for(m=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],y=0,A=(c=Object.keys(r).sort(function(b,N){return b-N})).length;y<A;y++)o=c[y],h.length>=100&&(m+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),r[o]!==void 0&&r[o]!==null&&typeof r[o].toString=="function"&&(p=("0000"+r[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),h.push("<"+o+"><"+p+">"));return h.length&&(m+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),m+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(r){(function(o){var c=o.font,h=o.out,p=o.newObject,m=o.putStream;if(c.metadata instanceof l.API.TTFFont&&c.encoding==="Identity-H"){for(var y=c.metadata.Unicode.widths,A=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),b="",N=0;N<A.length;N++)b+=String.fromCharCode(A[N]);var E=p();m({data:b,addLength1:!0,objectId:E}),h("endobj");var T=p();m({data:i(c.metadata.toUnicode),addLength1:!0,objectId:T}),h("endobj");var L=p();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+eg(c.fontName)),h("/FontFile2 "+E+" 0 R"),h("/FontBBox "+l.API.PDFObject.convert(c.metadata.bbox)),h("/Flags "+c.metadata.flags),h("/StemV "+c.metadata.stemV),h("/ItalicAngle "+c.metadata.italicAngle),h("/Ascent "+c.metadata.ascender),h("/Descent "+c.metadata.decender),h("/CapHeight "+c.metadata.capHeight),h(">>"),h("endobj");var R=p();h("<<"),h("/Type /Font"),h("/BaseFont /"+eg(c.fontName)),h("/FontDescriptor "+L+" 0 R"),h("/W "+l.API.PDFObject.convert(y)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+c.encoding+")"),h(">>"),h(">>"),h("endobj"),c.objectNumber=p(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+T+" 0 R"),h("/BaseFont /"+eg(c.fontName)),h("/Encoding /"+c.encoding),h("/DescendantFonts ["+R+" 0 R]"),h(">>"),h("endobj"),c.isAlreadyPutted=!0}})(r)}]),t.events.push(["putFont",function(r){(function(o){var c=o.font,h=o.out,p=o.newObject,m=o.putStream;if(c.metadata instanceof l.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var y=c.metadata.rawData,A="",b=0;b<y.length;b++)A+=String.fromCharCode(y[b]);var N=p();m({data:A,addLength1:!0,objectId:N}),h("endobj");var E=p();m({data:i(c.metadata.toUnicode),addLength1:!0,objectId:E}),h("endobj");var T=p();h("<<"),h("/Descent "+c.metadata.decender),h("/CapHeight "+c.metadata.capHeight),h("/StemV "+c.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+N+" 0 R"),h("/Flags 96"),h("/FontBBox "+l.API.PDFObject.convert(c.metadata.bbox)),h("/FontName /"+eg(c.fontName)),h("/ItalicAngle "+c.metadata.italicAngle),h("/Ascent "+c.metadata.ascender),h(">>"),h("endobj"),c.objectNumber=p();for(var L=0;L<c.metadata.hmtx.widths.length;L++)c.metadata.hmtx.widths[L]=parseInt(c.metadata.hmtx.widths[L]*(1e3/c.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+E+" 0 R/BaseFont/"+eg(c.fontName)+"/FontDescriptor "+T+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+l.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),h("endobj"),c.isAlreadyPutted=!0}})(r)}]);var s=function(r){var o,c=r.text||"",h=r.x,p=r.y,m=r.options||{},y=r.mutex||{},A=y.pdfEscape,b=y.activeFontKey,N=y.fonts,E=b,T="",L=0,R="",k=N[E].encoding;if(N[E].encoding!=="Identity-H")return{text:c,x:h,y:p,options:m,mutex:y};for(R=c,E=b,Array.isArray(c)&&(R=c[0]),L=0;L<R.length;L+=1)N[E].metadata.hasOwnProperty("cmap")&&(o=N[E].metadata.cmap.unicode.codeMap[R[L].charCodeAt(0)]),o||R[L].charCodeAt(0)<256&&N[E].metadata.hasOwnProperty("Unicode")?T+=R[L]:T+="";var j="";return parseInt(E.slice(1))<14||k==="WinAnsiEncoding"?j=A(T,E).split("").map(function(H){return H.charCodeAt(0).toString(16)}).join(""):k==="Identity-H"&&(j=e(T,N[E])),y.isHex=!0,{text:j,x:h,y:p,options:m,mutex:y}};t.events.push(["postProcessText",function(r){var o=r.text||"",c=[],h={text:o,x:r.x,y:r.y,options:r.options,mutex:r.mutex};if(Array.isArray(o)){var p=0;for(p=0;p<o.length;p+=1)Array.isArray(o[p])&&o[p].length===3?c.push([s(Object.assign({},h,{text:o[p][0]})).text,o[p][1],o[p][2]]):c.push(s(Object.assign({},h,{text:o[p]})).text);r.text=c}else r.text=s(Object.assign({},h,{text:o})).text}])}(Ne),function(l){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};l.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},l.addFileToVFS=function(e,i){return t.call(this),this.internal.vFS[e]=i,this},l.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}}(Ne.API),function(l){l.__bidiEngine__=l.prototype.__bidiEngine__=function(i){var s,r,o,c,h,p,m,y=t,A=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},E={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},T=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],L=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),R=!1,k=0;this.__bidiEngine__={};var j=function(q){var W=q.charCodeAt(),lt=W>>8,nt=E[lt];return nt!==void 0?y[256*nt+(255&W)]:lt===252||lt===253?"AL":L.test(lt)?"L":lt===8?"R":"N"},H=function(q){for(var W,lt=0;lt<q.length;lt++){if((W=j(q.charAt(lt)))==="L")return!1;if(W==="R")return!0}return!1},tt=function(q,W,lt,nt){var Tt,it,ct,dt,Lt=W[nt];switch(Lt){case"L":case"R":R=!1;break;case"N":case"AN":break;case"EN":R&&(Lt="AN");break;case"AL":R=!0,Lt="R";break;case"WS":Lt="N";break;case"CS":nt<1||nt+1>=W.length||(Tt=lt[nt-1])!=="EN"&&Tt!=="AN"||(it=W[nt+1])!=="EN"&&it!=="AN"?Lt="N":R&&(it="AN"),Lt=it===Tt?it:"N";break;case"ES":Lt=(Tt=nt>0?lt[nt-1]:"B")==="EN"&&nt+1<W.length&&W[nt+1]==="EN"?"EN":"N";break;case"ET":if(nt>0&&lt[nt-1]==="EN"){Lt="EN";break}if(R){Lt="N";break}for(ct=nt+1,dt=W.length;ct<dt&&W[ct]==="ET";)ct++;Lt=ct<dt&&W[ct]==="EN"?"EN":"N";break;case"NSM":if(o&&!c){for(dt=W.length,ct=nt+1;ct<dt&&W[ct]==="NSM";)ct++;if(ct<dt){var $=q[nt],St=$>=1425&&$<=2303||$===64286;if(Tt=W[ct],St&&(Tt==="R"||Tt==="AL")){Lt="R";break}}}Lt=nt<1||(Tt=W[nt-1])==="B"?"N":lt[nt-1];break;case"B":R=!1,s=!0,Lt=k;break;case"S":r=!0,Lt="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":R=!1;break;case"BN":Lt="N"}return Lt},Z=function(q,W,lt){var nt=q.split("");return lt&&Q(nt,lt,{hiLevel:k}),nt.reverse(),W&&W.reverse(),nt.join("")},Q=function(q,W,lt){var nt,Tt,it,ct,dt,Lt=-1,$=q.length,St=0,P=[],V=k?b:A,K=[];for(R=!1,s=!1,r=!1,Tt=0;Tt<$;Tt++)K[Tt]=j(q[Tt]);for(it=0;it<$;it++){if(dt=St,P[it]=tt(q,K,P,it),nt=240&(St=V[dt][N[P[it]]]),St&=15,W[it]=ct=V[St][5],nt>0)if(nt===16){for(Tt=Lt;Tt<it;Tt++)W[Tt]=1;Lt=-1}else Lt=-1;if(V[St][6])Lt===-1&&(Lt=it);else if(Lt>-1){for(Tt=Lt;Tt<it;Tt++)W[Tt]=ct;Lt=-1}K[it]==="B"&&(W[it]=0),lt.hiLevel|=ct}r&&function(at,ut,bt){for(var At=0;At<bt;At++)if(at[At]==="S"){ut[At]=k;for(var Et=At-1;Et>=0&&at[Et]==="WS";Et--)ut[Et]=k}}(K,W,$)},et=function(q,W,lt,nt,Tt){if(!(Tt.hiLevel<q)){if(q===1&&k===1&&!s)return W.reverse(),void(lt&&lt.reverse());for(var it,ct,dt,Lt,$=W.length,St=0;St<$;){if(nt[St]>=q){for(dt=St+1;dt<$&&nt[dt]>=q;)dt++;for(Lt=St,ct=dt-1;Lt<ct;Lt++,ct--)it=W[Lt],W[Lt]=W[ct],W[ct]=it,lt&&(it=lt[Lt],lt[Lt]=lt[ct],lt[ct]=it);St=dt}St++}}},ft=function(q,W,lt){var nt=q.split(""),Tt={hiLevel:k};return lt||(lt=[]),Q(nt,lt,Tt),function(it,ct,dt){if(dt.hiLevel!==0&&m)for(var Lt,$=0;$<it.length;$++)ct[$]===1&&(Lt=T.indexOf(it[$]))>=0&&(it[$]=T[Lt+1])}(nt,lt,Tt),et(2,nt,W,lt,Tt),et(1,nt,W,lt,Tt),nt.join("")};return this.__bidiEngine__.doBidiReorder=function(q,W,lt){if(function(Tt,it){if(it)for(var ct=0;ct<Tt.length;ct++)it[ct]=ct;c===void 0&&(c=H(Tt)),p===void 0&&(p=H(Tt))}(q,W),o||!h||p)if(o&&h&&c^p)k=c?1:0,q=Z(q,W,lt);else if(!o&&h&&p)k=c?1:0,q=ft(q,W,lt),q=Z(q,W);else if(!o||c||h||p){if(o&&!h&&c^p)q=Z(q,W),c?(k=0,q=ft(q,W,lt)):(k=1,q=ft(q,W,lt),q=Z(q,W));else if(o&&c&&!h&&p)k=1,q=ft(q,W,lt),q=Z(q,W);else if(!o&&!h&&c^p){var nt=m;c?(k=1,q=ft(q,W,lt),k=0,m=!1,q=ft(q,W,lt),m=nt):(k=0,q=ft(q,W,lt),q=Z(q,W),k=1,m=!1,q=ft(q,W,lt),m=nt,q=Z(q,W))}}else k=0,q=ft(q,W,lt);else k=c?1:0,q=ft(q,W,lt);return q},this.__bidiEngine__.setOptions=function(q){q&&(o=q.isInputVisual,h=q.isOutputVisual,c=q.isInputRtl,p=q.isOutputRtl,m=q.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new l.__bidiEngine__({isInputVisual:!0});l.API.events.push(["postProcessText",function(i){var s=i.text,r=(i.x,i.y,i.options||{}),o=(i.mutex,r.lang,[]);if(r.isInputVisual=typeof r.isInputVisual!="boolean"||r.isInputVisual,e.setOptions(r),Object.prototype.toString.call(s)==="[object Array]"){var c=0;for(o=[],c=0;c<s.length;c+=1)Object.prototype.toString.call(s[c])==="[object Array]"?o.push([e.doBidiReorder(s[c][0]),s[c][1],s[c][2]]):o.push([e.doBidiReorder(s[c])]);i.text=o}else i.text=e.doBidiReorder(s);e.setOptions({isInputVisual:!0})}])}(Ne),Ne.API.TTFFont=function(){function l(t){var e;if(this.rawData=t,e=this.contents=new Jh(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new gC(this),this.registerTTF()}return l.open=function(t){return new l(t)},l.prototype.parse=function(){return this.directory=new eC(this.contents),this.head=new nC(this),this.name=new lC(this),this.cmap=new b_(this),this.toUnicode={},this.hhea=new sC(this),this.maxp=new uC(this),this.hmtx=new cC(this),this.post=new rC(this),this.os2=new aC(this),this.loca=new pC(this),this.glyf=new hC(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},l.prototype.registerTTF=function(){var t,e,i,s,r;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,c,h,p;for(p=[],o=0,c=(h=this.bbox).length;o<c;o++)t=h[o],p.push(Math.round(t*this.scaleFactor));return p}).call(this),this.stemV=0,this.post.exists?(i=255&(s=this.post.italic_angle),(32768&(e=s>>16))!=0&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(r=this.familyClass)===1||r===2||r===3||r===4||r===5||r===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},l.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},l.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},l.prototype.widthOfString=function(t,e,i){var s,r,o,c;for(o=0,r=0,c=(t=""+t).length;0<=c?r<c:r>c;r=0<=c?++r:--r)s=t.charCodeAt(r),o+=this.widthOfGlyph(this.characterToGlyph(s))+i*(1e3/e)||0;return o*(e/1e3)},l.prototype.lineHeight=function(t,e){var i;return e==null&&(e=!1),i=e?this.lineGap:0,(this.ascender+i-this.decender)/1e3*t},l}();var Xo,Jh=function(){function l(t){this.data=t??[],this.pos=0,this.length=this.data.length}return l.prototype.readByte=function(){return this.data[this.pos++]},l.prototype.writeByte=function(t){return this.data[this.pos++]=t},l.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},l.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},l.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},l.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},l.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},l.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},l.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},l.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},l.prototype.readString=function(t){var e,i;for(i=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)i[e]=String.fromCharCode(this.readByte());return i.join("")},l.prototype.writeString=function(t){var e,i,s;for(s=[],e=0,i=t.length;0<=i?e<i:e>i;e=0<=i?++e:--e)s.push(this.writeByte(t.charCodeAt(e)));return s},l.prototype.readShort=function(){return this.readInt16()},l.prototype.writeShort=function(t){return this.writeInt16(t)},l.prototype.readLongLong=function(){var t,e,i,s,r,o,c,h;return t=this.readByte(),e=this.readByte(),i=this.readByte(),s=this.readByte(),r=this.readByte(),o=this.readByte(),c=this.readByte(),h=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^i)+4294967296*(255^s)+16777216*(255^r)+65536*(255^o)+256*(255^c)+(255^h)+1):72057594037927940*t+281474976710656*e+1099511627776*i+4294967296*s+16777216*r+65536*o+256*c+h},l.prototype.writeLongLong=function(t){var e,i;return e=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},l.prototype.readInt=function(){return this.readInt32()},l.prototype.writeInt=function(t){return this.writeInt32(t)},l.prototype.read=function(t){var e,i;for(e=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)e.push(this.readByte());return e},l.prototype.write=function(t){var e,i,s,r;for(r=[],i=0,s=t.length;i<s;i++)e=t[i],r.push(this.writeByte(e));return r},l}(),eC=function(){var l;function t(e){var i,s,r;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},s=0,r=this.tableCount;0<=r?s<r:s>r;s=0<=r?++s:--s)i={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(e){var i,s,r,o,c,h,p,m,y,A,b,N,E;for(E in b=Object.keys(e).length,h=Math.log(2),y=16*Math.floor(Math.log(b)/h),o=Math.floor(y/h),m=16*b-y,(s=new Jh).writeInt(this.scalarType),s.writeShort(b),s.writeShort(y),s.writeShort(o),s.writeShort(m),r=16*b,p=s.pos+r,c=null,N=[],e)for(A=e[E],s.writeString(E),s.writeInt(l(A)),s.writeInt(p),s.writeInt(A.length),N=N.concat(A),E==="head"&&(c=p),p+=A.length;p%4;)N.push(0),p++;return s.write(N),i=2981146554-l(s.data),s.pos=c+8,s.writeUInt32(i),s.data},l=function(e){var i,s,r,o;for(e=y_.call(e);e.length%4;)e.push(0);for(r=new Jh(e),s=0,i=0,o=e.length;i<o;i=i+=4)s+=r.readUInt32();return 4294967295&s},t}(),iC={}.hasOwnProperty,Wl=function(l,t){for(var e in t)iC.call(t,e)&&(l[e]=t[e]);function i(){this.constructor=l}return i.prototype=t.prototype,l.prototype=new i,l.__super__=t.prototype,l};Xo=function(){function l(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return l.prototype.parse=function(){},l.prototype.encode=function(){},l.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},l}();var nC=function(l){function t(){return t.__super__.constructor.apply(this,arguments)}return Wl(t,Xo),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var i;return(i=new Jh).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(e),i.writeShort(this.glyphDataFormat),i.data},t}(),d4=function(){function l(t,e){var i,s,r,o,c,h,p,m,y,A,b,N,E,T,L,R,k;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),y=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=t.readByte();break;case 4:for(b=t.readUInt16(),A=b/2,t.pos+=6,r=function(){var j,H;for(H=[],h=j=0;0<=A?j<A:j>A;h=0<=A?++j:--j)H.push(t.readUInt16());return H}(),t.pos+=2,E=function(){var j,H;for(H=[],h=j=0;0<=A?j<A:j>A;h=0<=A?++j:--j)H.push(t.readUInt16());return H}(),p=function(){var j,H;for(H=[],h=j=0;0<=A?j<A:j>A;h=0<=A?++j:--j)H.push(t.readUInt16());return H}(),m=function(){var j,H;for(H=[],h=j=0;0<=A?j<A:j>A;h=0<=A?++j:--j)H.push(t.readUInt16());return H}(),s=(this.length-t.pos+this.offset)/2,c=function(){var j,H;for(H=[],h=j=0;0<=s?j<s:j>s;h=0<=s?++j:--j)H.push(t.readUInt16());return H}(),h=L=0,k=r.length;L<k;h=++L)for(T=r[h],i=R=N=E[h];N<=T?R<=T:R>=T;i=N<=T?++R:--R)m[h]===0?o=i+p[h]:(o=c[m[h]/2+(i-N)-(A-h)]||0)!==0&&(o+=p[h]),this.codeMap[i]=65535&o}t.pos=y}return l.encode=function(t,e){var i,s,r,o,c,h,p,m,y,A,b,N,E,T,L,R,k,j,H,tt,Z,Q,et,ft,q,W,lt,nt,Tt,it,ct,dt,Lt,$,St,P,V,K,at,ut,bt,At,Et,Ut,Vt,Jt;switch(nt=new Jh,o=Object.keys(t).sort(function(Qt,ve){return Qt-ve}),e){case"macroman":for(E=0,T=function(){var Qt=[];for(N=0;N<256;++N)Qt.push(0);return Qt}(),R={0:0},r={},Tt=0,Lt=o.length;Tt<Lt;Tt++)R[Et=t[s=o[Tt]]]==null&&(R[Et]=++E),r[s]={old:t[s],new:R[t[s]]},T[s]=R[t[s]];return nt.writeUInt16(1),nt.writeUInt16(0),nt.writeUInt32(12),nt.writeUInt16(0),nt.writeUInt16(262),nt.writeUInt16(0),nt.write(T),{charMap:r,subtable:nt.data,maxGlyphID:E+1};case"unicode":for(W=[],y=[],k=0,R={},i={},L=p=null,it=0,$=o.length;it<$;it++)R[H=t[s=o[it]]]==null&&(R[H]=++k),i[s]={old:H,new:R[H]},c=R[H]-s,L!=null&&c===p||(L&&y.push(L),W.push(s),p=c),L=s;for(L&&y.push(L),y.push(65535),W.push(65535),ft=2*(et=W.length),Q=2*Math.pow(Math.log(et)/Math.LN2,2),A=Math.log(Q/2)/Math.LN2,Z=2*et-Q,h=[],tt=[],b=[],N=ct=0,St=W.length;ct<St;N=++ct){if(q=W[N],m=y[N],q===65535){h.push(0),tt.push(0);break}if(q-(lt=i[q].new)>=32768)for(h.push(0),tt.push(2*(b.length+et-N)),s=dt=q;q<=m?dt<=m:dt>=m;s=q<=m?++dt:--dt)b.push(i[s].new);else h.push(lt-q),tt.push(0)}for(nt.writeUInt16(3),nt.writeUInt16(1),nt.writeUInt32(12),nt.writeUInt16(4),nt.writeUInt16(16+8*et+2*b.length),nt.writeUInt16(0),nt.writeUInt16(ft),nt.writeUInt16(Q),nt.writeUInt16(A),nt.writeUInt16(Z),bt=0,P=y.length;bt<P;bt++)s=y[bt],nt.writeUInt16(s);for(nt.writeUInt16(0),At=0,V=W.length;At<V;At++)s=W[At],nt.writeUInt16(s);for(Ut=0,K=h.length;Ut<K;Ut++)c=h[Ut],nt.writeUInt16(c);for(Vt=0,at=tt.length;Vt<at;Vt++)j=tt[Vt],nt.writeUInt16(j);for(Jt=0,ut=b.length;Jt<ut;Jt++)E=b[Jt],nt.writeUInt16(E);return{charMap:i,subtable:nt.data,maxGlyphID:k+1}}},l}(),b_=function(l){function t(){return t.__super__.constructor.apply(this,arguments)}return Wl(t,Xo),t.prototype.tag="cmap",t.prototype.parse=function(e){var i,s,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)i=new d4(e,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},t.encode=function(e,i){var s,r;return i==null&&(i="macroman"),s=d4.encode(e,i),(r=new Jh).writeUInt16(0),r.writeUInt16(1),s.table=r.data.concat(s.subtable),s},t}(),sC=function(l){function t(){return t.__super__.constructor.apply(this,arguments)}return Wl(t,Xo),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),aC=function(l){function t(){return t.__super__.constructor.apply(this,arguments)}return Wl(t,Xo),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var i,s;for(s=[],i=0;i<10;++i)s.push(e.readByte());return s}(),this.charRange=function(){var i,s;for(s=[],i=0;i<4;++i)s.push(e.readInt());return s}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var i,s;for(s=[],i=0;i<2;i=++i)s.push(e.readInt());return s}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),rC=function(l){function t(){return t.__super__.constructor.apply(this,arguments)}return Wl(t,Xo),t.prototype.tag="post",t.prototype.parse=function(e){var i,s,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var o;for(s=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)i=e.readByte(),r.push(this.names.push(e.readString(i)));return r;case 151552:return s=e.readUInt16(),this.offsets=e.read(s);case 196608:break;case 262144:return this.map=(function(){var c,h,p;for(p=[],o=c=0,h=this.file.maxp.numGlyphs;0<=h?c<h:c>h;o=0<=h?++c:--c)p.push(e.readUInt32());return p}).call(this)}},t}(),oC=function(l,t){this.raw=l,this.length=l.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},lC=function(l){function t(){return t.__super__.constructor.apply(this,arguments)}return Wl(t,Xo),t.prototype.tag="name",t.prototype.parse=function(e){var i,s,r,o,c,h,p,m,y,A,b;for(e.pos=this.offset,e.readShort(),i=e.readShort(),h=e.readShort(),s=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)s.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+h+e.readShort()});for(p={},o=y=0,A=s.length;y<A;o=++y)r=s[o],e.pos=r.offset,m=e.readString(r.length),c=new oC(m,r),p[b=r.nameID]==null&&(p[b]=[]),p[r.nameID].push(c);this.strings=p,this.copyright=p[0],this.fontFamily=p[1],this.fontSubfamily=p[2],this.uniqueSubfamily=p[3],this.fontName=p[4],this.version=p[5];try{this.postscriptName=p[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=p[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=p[7],this.manufacturer=p[8],this.designer=p[9],this.description=p[10],this.vendorUrl=p[11],this.designerUrl=p[12],this.license=p[13],this.licenseUrl=p[14],this.preferredFamily=p[15],this.preferredSubfamily=p[17],this.compatibleFull=p[18],this.sampleText=p[19]},t}(),uC=function(l){function t(){return t.__super__.constructor.apply(this,arguments)}return Wl(t,Xo),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),cC=function(l){function t(){return t.__super__.constructor.apply(this,arguments)}return Wl(t,Xo),t.prototype.tag="hmtx",t.prototype.parse=function(e){var i,s,r,o,c,h,p;for(e.pos=this.offset,this.metrics=[],i=0,h=this.file.hhea.numberOfMetrics;0<=h?i<h:i>h;i=0<=h?++i:--i)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var m,y;for(y=[],i=m=0;0<=r?m<r:m>r;i=0<=r?++m:--m)y.push(e.readInt16());return y}(),this.widths=(function(){var m,y,A,b;for(b=[],m=0,y=(A=this.metrics).length;m<y;m++)o=A[m],b.push(o.advance);return b}).call(this),s=this.widths[this.widths.length-1],p=[],i=c=0;0<=r?c<r:c>r;i=0<=r?++c:--c)p.push(this.widths.push(s));return p},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),y_=[].slice,hC=function(l){function t(){return t.__super__.constructor.apply(this,arguments)}return Wl(t,Xo),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var i,s,r,o,c,h,p,m,y,A;return e in this.cache?this.cache[e]:(o=this.file.loca,i=this.file.contents,s=o.indexOf(e),(r=o.lengthOf(e))===0?this.cache[e]=null:(i.pos=this.offset+s,c=(h=new Jh(i.read(r))).readShort(),m=h.readShort(),A=h.readShort(),p=h.readShort(),y=h.readShort(),this.cache[e]=c===-1?new dC(h,m,A,p,y):new fC(h,c,m,A,p,y),this.cache[e]))},t.prototype.encode=function(e,i,s){var r,o,c,h,p;for(c=[],o=[],h=0,p=i.length;h<p;h++)r=e[i[h]],o.push(c.length),r&&(c=c.concat(r.encode(s)));return o.push(c.length),{table:c,offsets:o}},t}(),fC=function(){function l(t,e,i,s,r,o){this.raw=t,this.numberOfContours=e,this.xMin=i,this.yMin=s,this.xMax=r,this.yMax=o,this.compound=!1}return l.prototype.encode=function(){return this.raw.data},l}(),dC=function(){function l(t,e,i,s,r){var o,c;for(this.raw=t,this.xMin=e,this.yMin=i,this.xMax=s,this.yMax=r,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;c=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&c;)o.pos+=1&c?4:2,128&c?o.pos+=8:64&c?o.pos+=4:8&c&&(o.pos+=2)}return l.prototype.encode=function(){var t,e,i;for(e=new Jh(y_.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)e.pos=this.glyphOffsets[t];return e.data},l}(),pC=function(l){function t(){return t.__super__.constructor.apply(this,arguments)}return Wl(t,Xo),t.prototype.tag="loca",t.prototype.parse=function(e){var i,s;return e.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?(function(){var r,o;for(o=[],s=0,r=this.length;s<r;s+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var r,o;for(o=[],s=0,r=this.length;s<r;s+=4)o.push(e.readUInt32());return o}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,i){for(var s=new Uint32Array(this.offsets.length),r=0,o=0,c=0;c<s.length;++c)if(s[c]=r,o<i.length&&i[o]==c){++o,s[c]=r;var h=this.offsets[c],p=this.offsets[c+1]-h;p>0&&(r+=p)}for(var m=new Array(4*s.length),y=0;y<s.length;++y)m[4*y+3]=255&s[y],m[4*y+2]=(65280&s[y])>>8,m[4*y+1]=(16711680&s[y])>>16,m[4*y]=(4278190080&s[y])>>24;return m},t}(),gC=function(){function l(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return l.prototype.generateCmap=function(){var t,e,i,s,r;for(e in s=this.font.cmap.tables[0].codeMap,t={},r=this.subset)i=r[e],t[e]=s[i];return t},l.prototype.glyphsFor=function(t){var e,i,s,r,o,c,h;for(s={},o=0,c=t.length;o<c;o++)s[r=t[o]]=this.font.glyf.glyphFor(r);for(r in e=[],s)(i=s[r])!=null&&i.compound&&e.push.apply(e,i.glyphIDs);if(e.length>0)for(r in h=this.glyphsFor(e))i=h[r],s[r]=i;return s},l.prototype.encode=function(t,e){var i,s,r,o,c,h,p,m,y,A,b,N,E,T,L;for(s in i=b_.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),b={0:0},L=i.charMap)b[(h=L[s]).old]=h.new;for(N in A=i.maxGlyphID,o)N in b||(b[N]=A++);return m=function(R){var k,j;for(k in j={},R)j[R[k]]=k;return j}(b),y=Object.keys(m).sort(function(R,k){return R-k}),E=function(){var R,k,j;for(j=[],R=0,k=y.length;R<k;R++)c=y[R],j.push(m[c]);return j}(),r=this.font.glyf.encode(o,E,b),p=this.font.loca.encode(r.offsets,E),T={cmap:this.font.cmap.raw(),glyf:r.table,loca:p,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(T["OS/2"]=this.font.os2.raw()),this.font.directory.encode(T)},l}();Ne.API.PDFObject=function(){var l;function t(){}return l=function(e,i){return(Array(i+1).join("0")+e).slice(-i)},t.convert=function(e){var i,s,r,o;if(Array.isArray(e))return"["+function(){var c,h,p;for(p=[],c=0,h=e.length;c<h;c++)i=e[c],p.push(t.convert(i));return p}().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e!=null&&e.isString)return"("+e+")";if(e instanceof Date)return"(D:"+l(e.getUTCFullYear(),4)+l(e.getUTCMonth(),2)+l(e.getUTCDate(),2)+l(e.getUTCHours(),2)+l(e.getUTCMinutes(),2)+l(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(s in r=["<<"],e)o=e[s],r.push("/"+s+" "+t.convert(o));return r.push(">>"),r.join(`
`)}return""+e},t}();const w_=({resumeData:l})=>{const t=()=>{const e=new Ne({orientation:"portrait",unit:"mm",format:"a4"}),i=297,s=20,r=20;let o=20;const c=6,h=p=>{o+p*c>i-r&&(e.addPage(),o=20)};if(e.setFont("helvetica","bold"),e.setFontSize(18),e.text(l.name||"Your Name",s,o),o+=8,e.setFontSize(14),e.setFont("helvetica","normal"),l.role&&(e.text(l.role,s,o),o+=8),e.setFontSize(12),l.email&&(e.text(`Email: ${l.email}`,s,o),o+=c),l.phone&&(e.text(`Phone: ${l.phone}`,s,o),o+=c),l.linkedin&&(e.text(`LinkedIn: ${l.linkedin}`,s,o),o+=c),l.github&&(e.text(`GitHub: ${l.github}`,s,o),o+=c),o+=2,Array.isArray(l.education)&&l.education.length>0&&(e.setFont("helvetica","bold"),e.text("Education",s,o),o+=c,e.setFont("helvetica","normal"),l.education.forEach(p=>{const m=`${p.instituteName||"Institute"} | ${p.degree||"Degree"} ${p.branch?"- "+p.branch:""}`;h(2),e.text(m,s,o),o+=c;const y=`Score: ${p.scoreVal||"-"} ${p.type||""} | ${p.from||""}-${p.to||""}`;e.text(y,s+5,o),o+=c}),o+=2),Array.isArray(l.skills)&&l.skills.length>0&&(e.setFont("helvetica","bold"),e.text("Skills",s,o),o+=c,e.setFont("helvetica","normal"),l.skills.forEach((p,m)=>{h(4),e.text(`Programming Languages: ${p.programmingLanguages||"-"}`,s,o),o+=c,e.text(`Libraries/Frameworks: ${p.librariesFrameworks||"-"}`,s,o),o+=c,e.text(`Tools/Platforms: ${p.toolsPlatforms||"-"}`,s,o),o+=c,e.text(`Databases: ${p.databases||"-"}`,s,o),o+=c,m<l.skills.length-1&&(o+=2)}),o+=2),l.experience){e.setFont("helvetica","bold"),e.text("Experience",s,o),o+=c,e.setFont("helvetica","normal");const p=e.splitTextToSize(l.experience,170);h(p.length),e.text(p,s,o),o+=p.length*c+2}Array.isArray(l.openSource)&&l.openSource.length>0&&(e.setFont("helvetica","bold"),e.text("Open Source Projects",s,o),o+=c,e.setFont("helvetica","normal"),l.openSource.forEach(p=>{h(2),e.text(p.projectName||"Project Name",s,o),o+=c;const m=e.splitTextToSize(p.description||"",170);h(m.length),e.text(m,s+5,o),o+=m.length*c}),o+=2),e.save("Resume.pdf")};return Pt.jsx("button",{onClick:t,className:"px-4 py-2 mt-4 bg-green-600 text-white rounded shadow",children:"Download ATS-Friendly PDF"})};function mC({formData:l,selectedTheme:t}){const e=zt.useRef(null),i={Classic:"border p-4 rounded bg-white",Modern:"border-l-4 border-blue-500 p-4 rounded-lg bg-gray-50 shadow-md",Minimalist:"p-4 bg-white border-b-2 border-gray-300 rounded-lg"};return Pt.jsxs("div",{className:"p-4 bg-gray-100 rounded-lg shadow-md",children:[Pt.jsx("h2",{className:"text-xl font-bold mb-4",children:"Resume Preview"}),Pt.jsxs("div",{ref:e,className:i[t],children:[Pt.jsx("h1",{className:"text-2xl font-bold",children:l.name||"Your Name"}),Pt.jsx("p",{children:l.email||"your.email@example.com"}),Pt.jsx("p",{children:l.phone||"Your Phone Number"}),Pt.jsx("h3",{className:"mt-2 font-semibold",children:"Education"}),Array.isArray(l.education)&&l.education.map((s,r)=>Pt.jsxs("div",{children:[Pt.jsx("p",{children:s.instituteName||"Institute Name"}),Pt.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[Pt.jsx("p",{children:s.branch||"Branch"}),Pt.jsx("p",{children:s.degree||"Degree"}),Pt.jsxs("div",{className:"score",style:{display:"flex",gap:"2px"},children:[Pt.jsx("p",{children:s.scoreVal||"Score"}),Pt.jsx("p",{children:s.type||"Type"})]}),Pt.jsxs("p",{children:[" ",s.from,"-",s.to]})]})]},r)),Pt.jsx("h3",{className:"mt-2 font-semibold",children:"Skills"}),Array.isArray(l.skills)&&l.skills.length>0?l.skills.map((s,r)=>Pt.jsxs("div",{className:"mb-2",children:[Pt.jsxs("p",{children:[Pt.jsx("strong",{children:"Programming Languages:"})," ",s.programmingLanguages||"N/A"]}),Pt.jsxs("p",{children:[Pt.jsx("strong",{children:"Libraries / Frameworks:"})," ",s.librariesFrameworks||"N/A"]}),Pt.jsxs("p",{children:[Pt.jsx("strong",{children:"Tools / Platforms:"})," ",s.toolsPlatforms||"N/A"]}),Pt.jsxs("p",{children:[Pt.jsx("strong",{children:"Databases:"})," ",s.databases||"N/A"]}),Pt.jsx("hr",{className:"my-2"})]},r)):Pt.jsx("p",{children:"List your skills here."}),Pt.jsx("h3",{className:"mt-2 font-semibold",children:"Experience"}),Pt.jsx("p",{style:{whiteSpace:"pre-line"},children:l.experience||"Your work experience details go here."}),Pt.jsx("h3",{className:"mt-2 font-semibold",children:"Open Source Projects"}),Array.isArray(l.openSource)&&l.openSource.length>0?l.openSource.map((s,r)=>Pt.jsxs("div",{className:"mb-2",children:[Pt.jsx("p",{className:"font-medium",children:s.projectName||"Project Name"}),Pt.jsx("p",{style:{whiteSpace:"pre-line"},children:s.description||"Project description"}),r<l.openSource.length-1&&Pt.jsx("hr",{className:"my-2"})]},r)):Pt.jsx("p",{children:"No open source projects listed."})]}),Pt.jsx(w_,{resumeData:l})]})}const p4=["Classic","Modern","Minimalist"];function vC({onSelectTheme:l}){const[t,e]=zt.useState(p4[0]),i=s=>{e(s),l(s)};return Pt.jsxs("div",{className:"p-4 bg-white shadow-md rounded-lg",children:[Pt.jsx("h2",{className:"text-xl font-bold mb-2",children:"Select Resume Theme"}),Pt.jsx("div",{className:"flex gap-2",children:p4.map(s=>Pt.jsx("button",{className:`px-4 py-2 rounded ${t===s?"bg-blue-500 text-white":"bg-gray-200"}`,onClick:()=>i(s),children:s},s))})]})}const pa=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),sw=[.001,0,0,.001,0,0],Oy=1.35,_r={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},dh={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},bC="pdfjs_internal_editor_",Fe={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},ai={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},yC={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Hs={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},H5={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},In={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},ig={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},ib={ERRORS:0,WARNINGS:1,INFOS:5},_v={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},R5={moveTo:0,lineTo:1,curveTo:2,closePath:3},wC={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let nb=ib.WARNINGS;function AC(l){Number.isInteger(l)&&(nb=l)}function SC(){return nb}function sb(l){nb>=ib.INFOS&&console.log(`Info: ${l}`)}function Ie(l){nb>=ib.WARNINGS&&console.log(`Warning: ${l}`)}function Ti(l){throw new Error(l)}function jn(l,t){l||Ti(t)}function _C(l){switch(l==null?void 0:l.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function A_(l,t=null,e=null){if(!l)return null;if(e&&typeof l=="string"){if(e.addDefaultProtocol&&l.startsWith("www.")){const s=l.match(/\./g);(s==null?void 0:s.length)>=2&&(l=`http://${l}`)}if(e.tryConvertEncoding)try{l=CC(l)}catch{}}const i=t?URL.parse(l,t):URL.parse(l);return _C(i)?i:null}function S_(l,t,e=!1){const i=URL.parse(l);return i?(i.hash=t,i.href):e&&A_(l,"http://example.com")?l.split("#",1)[0]+`${t?`#${t}`:""}`:""}function ei(l,t,e,i=!1){return Object.defineProperty(l,t,{value:e,enumerable:!i,configurable:!0,writable:!1}),e}const cp=function(){function t(e,i){this.message=e,this.name=i}return t.prototype=new Error,t.constructor=t,t}();class g4 extends cp{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Fy extends cp{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class aw extends cp{constructor(t){super(t,"InvalidPDFException")}}class xv extends cp{constructor(t,e,i){super(t,"ResponseException"),this.status=e,this.missing=i}}class xC extends cp{constructor(t){super(t,"FormatError")}}class tf extends cp{constructor(t){super(t,"AbortException")}}function __(l){(typeof l!="object"||(l==null?void 0:l.length)===void 0)&&Ti("Invalid argument for bytesToString");const t=l.length,e=8192;if(t<e)return String.fromCharCode.apply(null,l);const i=[];for(let s=0;s<t;s+=e){const r=Math.min(s+e,t),o=l.subarray(s,r);i.push(String.fromCharCode.apply(null,o))}return i.join("")}function N2(l){typeof l!="string"&&Ti("Invalid argument for stringToBytes");const t=l.length,e=new Uint8Array(t);for(let i=0;i<t;++i)e[i]=l.charCodeAt(i)&255;return e}function EC(l){return String.fromCharCode(l>>24&255,l>>16&255,l>>8&255,l&255)}function NC(){const l=new Uint8Array(4);return l[0]=1,new Uint32Array(l.buffer,0,1)[0]===1}function LC(){try{return new Function(""),!0}catch{return!1}}class Ts{static get isLittleEndian(){return ei(this,"isLittleEndian",NC())}static get isEvalSupported(){return ei(this,"isEvalSupported",LC())}static get isOffscreenCanvasSupported(){return ei(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return ei(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return ei(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){var t,e;return ei(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const Iy=Array.from(Array(256).keys(),l=>l.toString(16).padStart(2,"0"));var hc,G5,rw;class we{static makeHexColor(t,e,i){return`#${Iy[t]}${Iy[e]}${Iy[i]}`}static scaleMinMax(t,e){let i;t[0]?(t[0]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[3],e[3]*=t[3]):(i=e[0],e[0]=e[1],e[1]=i,i=e[2],e[2]=e[3],e[3]=i,t[1]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e,i=0){const s=t[i],r=t[i+1];t[i]=s*e[0]+r*e[2]+e[4],t[i+1]=s*e[1]+r*e[3]+e[5]}static applyTransformToBezier(t,e,i=0){const s=e[0],r=e[1],o=e[2],c=e[3],h=e[4],p=e[5];for(let m=0;m<6;m+=2){const y=t[i+m],A=t[i+m+1];t[i+m]=y*s+A*o+h,t[i+m+1]=y*r+A*c+p}}static applyInverseTransform(t,e){const i=t[0],s=t[1],r=e[0]*e[3]-e[1]*e[2];t[0]=(i*e[3]-s*e[2]+e[2]*e[5]-e[4]*e[3])/r,t[1]=(-i*e[1]+s*e[0]+e[4]*e[1]-e[5]*e[0])/r}static axialAlignedBoundingBox(t,e,i){const s=e[0],r=e[1],o=e[2],c=e[3],h=e[4],p=e[5],m=t[0],y=t[1],A=t[2],b=t[3];let N=s*m+h,E=N,T=s*A+h,L=T,R=c*y+p,k=R,j=c*b+p,H=j;if(r!==0||o!==0){const tt=r*m,Z=r*A,Q=o*y,et=o*b;N+=Q,L+=Q,T+=et,E+=et,R+=tt,H+=tt,j+=Z,k+=Z}i[0]=Math.min(i[0],N,T,E,L),i[1]=Math.min(i[1],R,j,k,H),i[2]=Math.max(i[2],N,T,E,L),i[3]=Math.max(i[3],R,j,k,H)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const i=t[0],s=t[1],r=t[2],o=t[3],c=i**2+s**2,h=i*r+s*o,p=r**2+o**2,m=(c+p)/2,y=Math.sqrt(m**2-(c*p-h**2));e[0]=Math.sqrt(m+y||1),e[1]=Math.sqrt(m-y||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const i=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),s=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(i>s)return null;const r=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),o=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return r>o?null:[i,r,s,o]}static pointBoundingBox(t,e,i){i[0]=Math.min(i[0],t),i[1]=Math.min(i[1],e),i[2]=Math.max(i[2],t),i[3]=Math.max(i[3],e)}static rectBoundingBox(t,e,i,s,r){r[0]=Math.min(r[0],t,i),r[1]=Math.min(r[1],e,s),r[2]=Math.max(r[2],t,i),r[3]=Math.max(r[3],e,s)}static bezierBoundingBox(t,e,i,s,r,o,c,h,p){p[0]=Math.min(p[0],t,c),p[1]=Math.min(p[1],e,h),p[2]=Math.max(p[2],t,c),p[3]=Math.max(p[3],e,h),B(this,hc,rw).call(this,t,i,r,c,e,s,o,h,3*(-t+3*(i-r)+c),6*(t-2*i+r),3*(i-t),p),B(this,hc,rw).call(this,t,i,r,c,e,s,o,h,3*(-e+3*(s-o)+h),6*(e-2*s+o),3*(s-e),p)}}hc=new WeakSet,G5=function(t,e,i,s,r,o,c,h,p,m){if(p<=0||p>=1)return;const y=1-p,A=p*p,b=A*p,N=y*(y*(y*t+3*p*e)+3*A*i)+b*s,E=y*(y*(y*r+3*p*o)+3*A*c)+b*h;m[0]=Math.min(m[0],N),m[1]=Math.min(m[1],E),m[2]=Math.max(m[2],N),m[3]=Math.max(m[3],E)},rw=function(t,e,i,s,r,o,c,h,p,m,y,A){if(Math.abs(p)<1e-12){Math.abs(m)>=1e-12&&B(this,hc,G5).call(this,t,e,i,s,r,o,c,h,-y/m,A);return}const b=m**2-4*y*p;if(b<0)return;const N=Math.sqrt(b),E=2*p;B(this,hc,G5).call(this,t,e,i,s,r,o,c,h,(-m+N)/E,A),B(this,hc,G5).call(this,t,e,i,s,r,o,c,h,(-m-N)/E,A)},I(we,hc);function CC(l){return decodeURIComponent(escape(l))}let By=null,m4=null;function TC(l){return By||(By=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,m4=new Map([["","t"]])),l.replaceAll(By,(t,e,i)=>e?e.normalize("NFKC"):m4.get(i))}function x_(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const l=new Uint8Array(32);return crypto.getRandomValues(l),__(l)}const kA="pdfjs_internal_id_";function RC(l,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[i,s,...r]=e;if(!l(i)&&!Number.isInteger(i)||!t(s))return!1;const o=r.length;let c=!0;switch(s.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;c=!1;break;default:return!1}for(const h of r)if(!(typeof h=="number"||c&&h===null))return!1;return!0}function ga(l,t,e){return Math.min(Math.max(l,t),e)}function E_(l){return Uint8Array.prototype.toBase64?l.toBase64():btoa(__(l))}function MC(l){return Uint8Array.fromBase64?Uint8Array.fromBase64(l):N2(atob(l))}typeof Promise.try!="function"&&(Promise.try=function(l,...t){return new Promise(e=>{e(l(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(l){return l.reduce((t,e)=>t+e,0)});const Cu="http://www.w3.org/2000/svg",Kf=class Kf{};Kt(Kf,"CSS",96),Kt(Kf,"PDF",72),Kt(Kf,"PDF_TO_CSS_UNITS",Kf.CSS/Kf.PDF);let ef=Kf;async function L2(l,t="text"){if(E0(l,document.baseURI)){const e=await fetch(l);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,i)=>{const s=new XMLHttpRequest;s.open("GET",l,!0),s.responseType=t,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(s.response);return}e(s.responseText);return}i(new Error(s.statusText))}},s.send(null)})}class C2{constructor({viewBox:t,userUnit:e,scale:i,rotation:s,offsetX:r=0,offsetY:o=0,dontFlip:c=!1}){this.viewBox=t,this.userUnit=e,this.scale=i,this.rotation=s,this.offsetX=r,this.offsetY=o,i*=e;const h=(t[2]+t[0])/2,p=(t[3]+t[1])/2;let m,y,A,b;switch(s%=360,s<0&&(s+=360),s){case 180:m=-1,y=0,A=0,b=1;break;case 90:m=0,y=1,A=1,b=0;break;case 270:m=0,y=-1,A=-1,b=0;break;case 0:m=1,y=0,A=0,b=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(A=-A,b=-b);let N,E,T,L;m===0?(N=Math.abs(p-t[1])*i+r,E=Math.abs(h-t[0])*i+o,T=(t[3]-t[1])*i,L=(t[2]-t[0])*i):(N=Math.abs(h-t[0])*i+r,E=Math.abs(p-t[1])*i+o,T=(t[2]-t[0])*i,L=(t[3]-t[1])*i),this.transform=[m*i,y*i,A*i,b*i,N-m*i*h-A*i*p,E-y*i*h-b*i*p],this.width=T,this.height=L}get rawDims(){const t=this.viewBox;return ei(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:i=this.offsetX,offsetY:s=this.offsetY,dontFlip:r=!1}={}){return new C2({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:s,dontFlip:r})}convertToViewportPoint(t,e){const i=[t,e];return we.applyTransform(i,this.transform),i}convertToViewportRectangle(t){const e=[t[0],t[1]];we.applyTransform(e,this.transform);const i=[t[2],t[3]];return we.applyTransform(i,this.transform),[e[0],e[1],i[0],i[1]]}convertToPdfPoint(t,e){const i=[t,e];return we.applyInverseTransform(i,this.transform),i}}class DA extends cp{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function ab(l){const t=l.length;let e=0;for(;e<t&&l[e].trim()==="";)e++;return l.substring(e,e+5).toLowerCase()==="data:"}function PA(l){return typeof l=="string"&&/\.pdf$/i.test(l)}function kC(l){return[l]=l.split(/[#?]/,1),l.substring(l.lastIndexOf("/")+1)}function DC(l,t="document.pdf"){if(typeof l!="string")return t;if(ab(l))return Ie('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,s=e.exec(l);let r=i.exec(s[1])||i.exec(s[2])||i.exec(s[3]);if(r&&(r=r[0],r.includes("%")))try{r=i.exec(decodeURIComponent(r))[0]}catch{}return r||t}class v4{constructor(){Kt(this,"started",Object.create(null));Kt(this,"times",[])}time(t){t in this.started&&Ie(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Ie(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:i}of this.times)e=Math.max(i.length,e);for(const{name:i,start:s,end:r}of this.times)t.push(`${i.padEnd(e)} ${r-s}ms
`);return t.join("")}}function E0(l,t){const e=t?URL.parse(l,t):URL.parse(l);return(e==null?void 0:e.protocol)==="http:"||(e==null?void 0:e.protocol)==="https:"}function Go(l){l.preventDefault()}function Bn(l){l.preventDefault(),l.stopPropagation()}function PC(l){console.log("Deprecated API usage: "+l)}var K0;class OA{static toDateObject(t){if(!t||typeof t!="string")return null;f(this,K0)||M(this,K0,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=f(this,K0).exec(t);if(!e)return null;const i=parseInt(e[1],10);let s=parseInt(e[2],10);s=s>=1&&s<=12?s-1:0;let r=parseInt(e[3],10);r=r>=1&&r<=31?r:1;let o=parseInt(e[4],10);o=o>=0&&o<=23?o:0;let c=parseInt(e[5],10);c=c>=0&&c<=59?c:0;let h=parseInt(e[6],10);h=h>=0&&h<=59?h:0;const p=e[7]||"Z";let m=parseInt(e[8],10);m=m>=0&&m<=23?m:0;let y=parseInt(e[9],10)||0;return y=y>=0&&y<=59?y:0,p==="-"?(o+=m,c+=y):p==="+"&&(o-=m,c-=y),new Date(Date.UTC(i,s,r,o,c,h))}}K0=new WeakMap,I(OA,K0);function OC(l,{scale:t=1,rotation:e=0}){const{width:i,height:s}=l.attributes.style,r=[0,0,parseInt(i),parseInt(s)];return new C2({viewBox:r,userUnit:1,scale:t,rotation:e})}function FA(l){if(l.startsWith("#")){const t=parseInt(l.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return l.startsWith("rgb(")?l.slice(4,-1).split(",").map(t=>parseInt(t)):l.startsWith("rgba(")?l.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Ie(`Not a valid color format: "${l}"`),[0,0,0])}function FC(l){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of l.keys()){t.style.color=e;const i=window.getComputedStyle(t).color;l.set(e,FA(i))}t.remove()}function hn(l){const{a:t,b:e,c:i,d:s,e:r,f:o}=l.getTransform();return[t,e,i,s,r,o]}function Sl(l){const{a:t,b:e,c:i,d:s,e:r,f:o}=l.getTransform().invertSelf();return[t,e,i,s,r,o]}function ap(l,t,e=!1,i=!0){if(t instanceof C2){const{pageWidth:s,pageHeight:r}=t.rawDims,{style:o}=l,c=Ts.isCSSRoundSupported,h=`var(--total-scale-factor) * ${s}px`,p=`var(--total-scale-factor) * ${r}px`,m=c?`round(down, ${h}, var(--scale-round-x))`:`calc(${h})`,y=c?`round(down, ${p}, var(--scale-round-y))`:`calc(${p})`;!e||t.rotation%180===0?(o.width=m,o.height=y):(o.width=y,o.height=m)}i&&l.setAttribute("data-main-rotation",t.rotation)}class Vl{constructor(){const{pixelRatio:t}=Vl;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,i,s,r=-1){let o=1/0,c=1/0,h=1/0;i=Vl.capPixels(i,r),i>0&&(o=Math.sqrt(i/(t*e))),s!==-1&&(c=s/t,h=s/e);const p=Math.min(o,c,h);return this.sx>p||this.sy>p?(this.sx=p,this.sy=p,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,i):i}return t}}const ow=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var ph,Zf,Yr,gh,Q0,bg,Z0,kv,N_,Cs,L_,C_,N0,T_,V5;const Mu=class Mu{constructor(t){I(this,Cs);I(this,ph,null);I(this,Zf,null);I(this,Yr);I(this,gh,null);I(this,Q0,null);I(this,bg,null);M(this,Yr,t),f(Mu,Z0)||M(Mu,Z0,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const t=M(this,ph,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=f(this,Yr)._uiManager._signal;t.addEventListener("contextmenu",Go,{signal:e}),t.addEventListener("pointerdown",B(Mu,kv,N_),{signal:e});const i=M(this,gh,document.createElement("div"));i.className="buttons",t.append(i);const s=f(this,Yr).toolbarPosition;if(s){const{style:r}=t,o=f(this,Yr)._uiManager.direction==="ltr"?1-s[0]:s[0];r.insetInlineEnd=`${100*o}%`,r.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return B(this,Cs,T_).call(this),t}get div(){return f(this,ph)}hide(){var t;f(this,ph).classList.add("hidden"),(t=f(this,Zf))==null||t.hideDropdown()}show(){var t;f(this,ph).classList.remove("hidden"),(t=f(this,Q0))==null||t.shown()}async addAltText(t){const e=await t.render();B(this,Cs,N0).call(this,e),f(this,gh).prepend(e,f(this,Cs,V5)),M(this,Q0,t)}addColorPicker(t){M(this,Zf,t);const e=t.renderButton();B(this,Cs,N0).call(this,e),f(this,gh).prepend(e,f(this,Cs,V5))}async addEditSignatureButton(t){const e=M(this,bg,await t.renderEditButton(f(this,Yr)));B(this,Cs,N0).call(this,e),f(this,gh).prepend(e,f(this,Cs,V5))}updateEditSignatureButton(t){f(this,bg)&&(f(this,bg).title=t)}remove(){var t;f(this,ph).remove(),(t=f(this,Zf))==null||t.destroy(),M(this,Zf,null)}};ph=new WeakMap,Zf=new WeakMap,Yr=new WeakMap,gh=new WeakMap,Q0=new WeakMap,bg=new WeakMap,Z0=new WeakMap,kv=new WeakSet,N_=function(t){t.stopPropagation()},Cs=new WeakSet,L_=function(t){f(this,Yr)._focusEventsAllowed=!1,Bn(t)},C_=function(t){f(this,Yr)._focusEventsAllowed=!0,Bn(t)},N0=function(t){const e=f(this,Yr)._uiManager._signal;t.addEventListener("focusin",B(this,Cs,L_).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",B(this,Cs,C_).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Go,{signal:e})},T_=function(){const{editorType:t,_uiManager:e}=f(this,Yr),i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",f(Mu,Z0)[t]),B(this,Cs,N0).call(this,i),i.addEventListener("click",s=>{e.delete()},{signal:e._signal}),f(this,gh).append(i)},V5=function(){const t=document.createElement("div");return t.className="divider",t},I(Mu,kv),I(Mu,Z0,null);let lw=Mu;var J0,Jf,td,nf,R_,M_,k_;class IC{constructor(t){I(this,nf);I(this,J0,null);I(this,Jf,null);I(this,td);M(this,td,t)}show(t,e,i){const[s,r]=B(this,nf,M_).call(this,e,i),{style:o}=f(this,Jf)||M(this,Jf,B(this,nf,R_).call(this));t.append(f(this,Jf)),o.insetInlineEnd=`${100*s}%`,o.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){f(this,Jf).remove()}}J0=new WeakMap,Jf=new WeakMap,td=new WeakMap,nf=new WeakSet,R_=function(){const t=M(this,Jf,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Go,{signal:f(this,td)._signal});const e=M(this,J0,document.createElement("div"));return e.className="buttons",t.append(e),B(this,nf,k_).call(this),t},M_=function(t,e){let i=0,s=0;for(const r of t){const o=r.y+r.height;if(o<i)continue;const c=r.x+(e?r.width:0);if(o>i){s=c,i=o;continue}e?c>s&&(s=c):c<s&&(s=c)}return[e?1-s:s,i]},k_=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=f(this,td)._signal;t.addEventListener("contextmenu",Go,{signal:i}),t.addEventListener("click",()=>{f(this,td).highlightSelection("floating_button")},{signal:i}),f(this,J0).append(t)};function D_(l,t,e){for(const i of e)t.addEventListener(i,l[i].bind(l))}var Dv;class BC{constructor(){I(this,Dv,0)}get id(){return`${bC}${la(this,Dv)._++}`}}Dv=new WeakMap;var yg,tm,Vs,wg,Y5;const HA=class HA{constructor(){I(this,wg);I(this,yg,x_());I(this,tm,0);I(this,Vs,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=t;const r=s.decode().then(()=>(i.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return ei(this,"_isSVGFittingCanvas",r)}async getFromFile(t){const{lastModified:e,name:i,size:s,type:r}=t;return B(this,wg,Y5).call(this,`${e}_${i}_${s}_${r}`,t)}async getFromUrl(t){return B(this,wg,Y5).call(this,t,t)}async getFromBlob(t,e){const i=await e;return B(this,wg,Y5).call(this,t,i)}async getFromId(t){f(this,Vs)||M(this,Vs,new Map);const e=f(this,Vs).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:i}=e;return delete e.blobPromise,this.getFromBlob(e.id,i)}return this.getFromUrl(e.url)}getFromCanvas(t,e){f(this,Vs)||M(this,Vs,new Map);let i=f(this,Vs).get(t);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const s=new OffscreenCanvas(e.width,e.height);return s.getContext("2d").drawImage(e,0,0),i={bitmap:s.transferToImageBitmap(),id:`image_${f(this,yg)}_${la(this,tm)._++}`,refCounter:1,isSvg:!1},f(this,Vs).set(t,i),f(this,Vs).set(i.id,i),i}getSvgUrl(t){const e=f(this,Vs).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var s;f(this,Vs)||M(this,Vs,new Map);const e=f(this,Vs).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:i}=e;if(!e.url&&!e.file){const r=new OffscreenCanvas(i.width,i.height);r.getContext("bitmaprenderer").transferFromImageBitmap(i),e.blobPromise=r.convertToBlob()}(s=i.close)==null||s.call(i),e.bitmap=null}isValidId(t){return t.startsWith(`image_${f(this,yg)}_`)}};yg=new WeakMap,tm=new WeakMap,Vs=new WeakMap,wg=new WeakSet,Y5=async function(t,e){f(this,Vs)||M(this,Vs,new Map);let i=f(this,Vs).get(t);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${f(this,yg)}_${la(this,tm)._++}`,refCounter:0,isSvg:!1});let s;if(typeof e=="string"?(i.url=e,s=await L2(e,"blob")):e instanceof File?s=i.file=e:e instanceof Blob&&(s=e),s.type==="image/svg+xml"){const r=HA._isSVGFittingCanvas,o=new FileReader,c=new Image,h=new Promise((p,m)=>{c.onload=()=>{i.bitmap=c,i.isSvg=!0,p()},o.onload=async()=>{const y=i.svgUrl=o.result;c.src=await r?`${y}#svgView(preserveAspectRatio(none))`:y},c.onerror=o.onerror=m});o.readAsDataURL(s),await h}else i.bitmap=await createImageBitmap(s);i.refCounter=1}catch(s){Ie(s),i=null}return f(this,Vs).set(t,i),i&&f(this,Vs).set(i.id,i),i};let uw=HA;var En,mh,em,cn;class jC{constructor(t=128){I(this,En,[]);I(this,mh,!1);I(this,em);I(this,cn,-1);M(this,em,t)}add({cmd:t,undo:e,post:i,mustExec:s,type:r=NaN,overwriteIfSameType:o=!1,keepUndo:c=!1}){if(s&&t(),f(this,mh))return;const h={cmd:t,undo:e,post:i,type:r};if(f(this,cn)===-1){f(this,En).length>0&&(f(this,En).length=0),M(this,cn,0),f(this,En).push(h);return}if(o&&f(this,En)[f(this,cn)].type===r){c&&(h.undo=f(this,En)[f(this,cn)].undo),f(this,En)[f(this,cn)]=h;return}const p=f(this,cn)+1;p===f(this,em)?f(this,En).splice(0,1):(M(this,cn,p),p<f(this,En).length&&f(this,En).splice(p)),f(this,En).push(h)}undo(){if(f(this,cn)===-1)return;M(this,mh,!0);const{undo:t,post:e}=f(this,En)[f(this,cn)];t(),e==null||e(),M(this,mh,!1),M(this,cn,f(this,cn)-1)}redo(){if(f(this,cn)<f(this,En).length-1){M(this,cn,f(this,cn)+1),M(this,mh,!0);const{cmd:t,post:e}=f(this,En)[f(this,cn)];t(),e==null||e(),M(this,mh,!1)}}hasSomethingToUndo(){return f(this,cn)!==-1}hasSomethingToRedo(){return f(this,cn)<f(this,En).length-1}cleanType(t){if(f(this,cn)!==-1){for(let e=f(this,cn);e>=0;e--)if(f(this,En)[e].type!==t){f(this,En).splice(e+1,f(this,cn)-e),M(this,cn,e);return}f(this,En).length=0,M(this,cn,-1)}}destroy(){M(this,En,null)}}En=new WeakMap,mh=new WeakMap,em=new WeakMap,cn=new WeakMap;var Pv,P_;class T2{constructor(t){I(this,Pv);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Ts.platform;for(const[i,s,r={}]of t)for(const o of i){const c=o.startsWith("mac+");e&&c?(this.callbacks.set(o.slice(4),{callback:s,options:r}),this.allKeys.add(o.split("+").at(-1))):!e&&!c&&(this.callbacks.set(o,{callback:s,options:r}),this.allKeys.add(o.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const i=this.callbacks.get(B(this,Pv,P_).call(this,e));if(!i)return;const{callback:s,options:{bubbles:r=!1,args:o=[],checker:c=null}}=i;c&&!c(t,e)||(s.bind(t,...o,e)(),r||Bn(e))}}Pv=new WeakSet,P_=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const Ov=class Ov{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return FC(t),ei(this,"_colors",t)}convert(t){const e=FA(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[i,s]of this._colors)if(s.every((r,o)=>r===e[o]))return Ov._colorsMapping.get(i);return e}getHexCode(t){const e=this._colors.get(t);return e?we.makeHexColor(...e):t}};Kt(Ov,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let cw=Ov;var Ag,cr,Wn,As,Sg,Du,_g,Xr,vh,bh,xg,ed,Nl,Ro,id,im,nm,Eg,sm,Ll,yh,Ng,wh,Cl,Fv,Ah,am,Sh,nd,sd,_h,rm,rs,_i,Pu,xh,ad,om,lm,Eh,Tl,Ou,um,Wr,ie,X5,hw,O_,F_,W5,I_,B_,j_,fw,z_,dw,pw,q_,ua,Tu,U_,H_,gw,G_,L0,mw;const hg=class hg{constructor(t,e,i,s,r,o,c,h,p,m,y,A,b,N){I(this,ie);I(this,Ag,new AbortController);I(this,cr,null);I(this,Wn,new Map);I(this,As,new Map);I(this,Sg,null);I(this,Du,null);I(this,_g,null);I(this,Xr,new jC);I(this,vh,null);I(this,bh,null);I(this,xg,0);I(this,ed,new Set);I(this,Nl,null);I(this,Ro,null);I(this,id,new Set);Kt(this,"_editorUndoBar",null);I(this,im,!1);I(this,nm,!1);I(this,Eg,!1);I(this,sm,null);I(this,Ll,null);I(this,yh,null);I(this,Ng,null);I(this,wh,!1);I(this,Cl,null);I(this,Fv,new BC);I(this,Ah,!1);I(this,am,!1);I(this,Sh,null);I(this,nd,null);I(this,sd,null);I(this,_h,null);I(this,rm,null);I(this,rs,Fe.NONE);I(this,_i,new Set);I(this,Pu,null);I(this,xh,null);I(this,ad,null);I(this,om,null);I(this,lm,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});I(this,Eh,[0,0]);I(this,Tl,null);I(this,Ou,null);I(this,um,null);I(this,Wr,null);const E=this._signal=f(this,Ag).signal;M(this,Ou,t),M(this,um,e),M(this,Sg,i),M(this,xh,s),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:E}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:E}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:E}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:E}),r._on("setpreference",this.onSetPreference.bind(this),{signal:E}),r._on("switchannotationeditorparams",T=>this.updateParams(T.type,T.value),{signal:E}),B(this,ie,I_).call(this),B(this,ie,q_).call(this),B(this,ie,fw).call(this),M(this,Du,o.annotationStorage),M(this,sm,o.filterFactory),M(this,ad,c),M(this,Ng,h||null),M(this,im,p),M(this,nm,m),M(this,Eg,y),M(this,rm,A||null),this.viewParameters={realScale:ef.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=b||null,this._supportsPinchToZoom=N!==!1}static get _keyboardManager(){const t=hg.prototype,e=o=>f(o,Ou).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),i=(o,{target:c})=>{if(c instanceof HTMLInputElement){const{type:h}=c;return h!=="text"&&h!=="number"}return!0},s=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return ei(this,"_keyboardManager",new T2([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(o,{target:c})=>!(c instanceof HTMLButtonElement)&&f(o,Ou).contains(c)&&!o.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(o,{target:c})=>!(c instanceof HTMLButtonElement)&&f(o,Ou).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}]]))}destroy(){var t,e,i,s,r,o,c,h;(t=f(this,Wr))==null||t.resolve(),M(this,Wr,null),(e=f(this,Ag))==null||e.abort(),M(this,Ag,null),this._signal=null;for(const p of f(this,As).values())p.destroy();f(this,As).clear(),f(this,Wn).clear(),f(this,id).clear(),(i=f(this,_h))==null||i.clear(),M(this,cr,null),f(this,_i).clear(),f(this,Xr).destroy(),(s=f(this,Sg))==null||s.destroy(),(r=f(this,xh))==null||r.destroy(),(o=f(this,Cl))==null||o.hide(),M(this,Cl,null),(c=f(this,sd))==null||c.destroy(),M(this,sd,null),f(this,Ll)&&(clearTimeout(f(this,Ll)),M(this,Ll,null)),f(this,Tl)&&(clearTimeout(f(this,Tl)),M(this,Tl,null)),(h=this._editorUndoBar)==null||h.destroy()}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return f(this,rm)}get useNewAltTextFlow(){return f(this,nm)}get useNewAltTextWhenAddingImage(){return f(this,Eg)}get hcmFilter(){return ei(this,"hcmFilter",f(this,ad)?f(this,sm).addHCMFilter(f(this,ad).foreground,f(this,ad).background):"none")}get direction(){return ei(this,"direction",getComputedStyle(f(this,Ou)).direction)}get highlightColors(){return ei(this,"highlightColors",f(this,Ng)?new Map(f(this,Ng).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return ei(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),M(this,bh,t)}setMainHighlightColorPicker(t){M(this,sd,t)}editAltText(t,e=!1){var i;(i=f(this,Sg))==null||i.editAltText(this,t,e)}getSignature(t){var e;(e=f(this,xh))==null||e.getSignature({uiManager:this,editor:t})}get signatureManager(){return f(this,xh)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":M(this,Eg,e);break}}onPageChanging({pageNumber:t}){M(this,xg,t-1)}focusMainContainer(){f(this,Ou).focus()}findParent(t,e){for(const i of f(this,As).values()){const{x:s,y:r,width:o,height:c}=i.div.getBoundingClientRect();if(t>=s&&t<=s+o&&e>=r&&e<=r+c)return i}return null}disableUserSelect(t=!1){f(this,um).classList.toggle("noUserSelect",t)}addShouldRescale(t){f(this,id).add(t)}removeShouldRescale(t){f(this,id).delete(t)}onScaleChanging({scale:t}){var e;this.commitOrRemove(),this.viewParameters.realScale=t*ef.PDF_TO_CSS_UNITS;for(const i of f(this,id))i.onScaleChanging();(e=f(this,bh))==null||e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:i,anchorOffset:s,focusNode:r,focusOffset:o}=e,c=e.toString(),p=B(this,ie,X5).call(this,e).closest(".textLayer"),m=this.getSelectionBoxes(p);if(!m)return;e.empty();const y=B(this,ie,hw).call(this,p),A=f(this,rs)===Fe.NONE,b=()=>{y==null||y.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:m,anchorNode:i,anchorOffset:s,focusNode:r,focusOffset:o,text:c}),A&&this.showAllEditors("highlight",!0,!0)};if(A){this.switchToMode(Fe.HIGHLIGHT,b);return}b()}addToAnnotationStorage(t){!t.isEmpty()&&f(this,Du)&&!f(this,Du).has(t.id)&&f(this,Du).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,f(this,wh)&&(M(this,wh,!1),B(this,ie,W5).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of f(this,_i))if(e.div.contains(t)){M(this,nd,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!f(this,nd))return;const[t,e]=f(this,nd);M(this,nd,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){B(this,ie,fw).call(this),B(this,ie,dw).call(this)}removeEditListeners(){B(this,ie,z_).call(this),B(this,ie,pw).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const i of f(this,Ro))if(i.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const i of f(this,Ro))if(i.isHandlingMimeForPasting(e.type)){i.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var i;if(t.preventDefault(),(i=f(this,cr))==null||i.commitOrRemove(),!this.hasSelection)return;const e=[];for(const s of f(this,_i)){const r=s.serialize(!0);r&&e.push(r)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const r of e.items)for(const o of f(this,Ro))if(o.isHandlingMimeForPasting(r.type)){o.paste(r,this.currentLayer);return}let i=e.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(r){Ie(`paste: "${r.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const s=this.currentLayer;try{const r=[];for(const h of i){const p=await s.deserialize(h);if(!p)return;r.push(p)}const o=()=>{for(const h of r)B(this,ie,gw).call(this,h);B(this,ie,mw).call(this,r)},c=()=>{for(const h of r)h.remove()};this.addCommands({cmd:o,undo:c,mustExec:!0})}catch(r){Ie(`paste: "${r.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),f(this,rs)!==Fe.NONE&&!this.isEditorHandlingKeyboard&&hg._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,f(this,wh)&&(M(this,wh,!1),B(this,ie,W5).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(B(this,ie,B_).call(this),B(this,ie,dw).call(this),B(this,ie,ua).call(this,{isEditing:f(this,rs)!==Fe.NONE,isEmpty:B(this,ie,L0).call(this),hasSomethingToUndo:f(this,Xr).hasSomethingToUndo(),hasSomethingToRedo:f(this,Xr).hasSomethingToRedo(),hasSelectedEditor:!1})):(B(this,ie,j_).call(this),B(this,ie,pw).call(this),B(this,ie,ua).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!f(this,Ro)){M(this,Ro,t);for(const e of f(this,Ro))B(this,ie,Tu).call(this,e.defaultPropertiesToUpdate)}}getId(){return f(this,Fv).id}get currentLayer(){return f(this,As).get(f(this,xg))}getLayer(t){return f(this,As).get(t)}get currentPageIndex(){return f(this,xg)}addLayer(t){f(this,As).set(t.pageIndex,t),f(this,Ah)?t.enable():t.disable()}removeLayer(t){f(this,As).delete(t.pageIndex)}async updateMode(t,e=null,i=!1){var s,r,o;if(f(this,rs)!==t&&!(f(this,Wr)&&(await f(this,Wr).promise,!f(this,Wr)))){if(M(this,Wr,Promise.withResolvers()),(s=f(this,bh))==null||s.commitOrRemove(),M(this,rs,t),t===Fe.NONE){this.setEditingState(!1),B(this,ie,H_).call(this),(r=this._editorUndoBar)==null||r.hide(),f(this,Wr).resolve();return}t===Fe.SIGNATURE&&await((o=f(this,xh))==null?void 0:o.loadSignatures()),this.setEditingState(!0),await B(this,ie,U_).call(this),this.unselectAll();for(const c of f(this,As).values())c.updateMode(t);if(!e){i&&this.addNewEditorFromKeyboard(),f(this,Wr).resolve();return}for(const c of f(this,Wn).values())c.annotationElementId===e||c.id===e?(this.setSelected(c),c.enterInEditMode()):c.unselect();f(this,Wr).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==f(this,rs)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){var i;if(f(this,Ro)){switch(t){case ai.CREATE:this.currentLayer.addNewEditor(e);return;case ai.HIGHLIGHT_DEFAULT_COLOR:(i=f(this,sd))==null||i.updateColor(e);break;case ai.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(f(this,om)||M(this,om,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const s of f(this,_i))s.updateParams(t,e);for(const s of f(this,Ro))s.updateDefaultParams(t,e)}}showAllEditors(t,e,i=!1){var r;for(const o of f(this,Wn).values())o.editorType===t&&o.show(e);(((r=f(this,om))==null?void 0:r.get(ai.HIGHLIGHT_SHOW_ALL))??!0)!==e&&B(this,ie,Tu).call(this,[[ai.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(f(this,am)!==t){M(this,am,t);for(const e of f(this,As).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const i of f(this,Wn).values())i.pageIndex===t&&e.push(i);return e}getEditor(t){return f(this,Wn).get(t)}addEditor(t){f(this,Wn).set(t.id,t)}removeEditor(t){var e,i;t.div.contains(document.activeElement)&&(f(this,Ll)&&clearTimeout(f(this,Ll)),M(this,Ll,setTimeout(()=>{this.focusMainContainer(),M(this,Ll,null)},0))),f(this,Wn).delete(t.id),t.annotationElementId&&((e=f(this,_h))==null||e.delete(t.annotationElementId)),this.unselect(t),(!t.annotationElementId||!f(this,ed).has(t.annotationElementId))&&((i=f(this,Du))==null||i.remove(t.id))}addDeletedAnnotationElement(t){f(this,ed).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return f(this,ed).has(t)}removeDeletedAnnotationElement(t){f(this,ed).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){f(this,cr)!==t&&(M(this,cr,t),t&&B(this,ie,Tu).call(this,t.propertiesToUpdate))}updateUI(t){f(this,ie,G_)===t&&B(this,ie,Tu).call(this,t.propertiesToUpdate)}updateUIForDefaultProperties(t){B(this,ie,Tu).call(this,t.defaultPropertiesToUpdate)}toggleSelected(t){if(f(this,_i).has(t)){f(this,_i).delete(t),t.unselect(),B(this,ie,ua).call(this,{hasSelectedEditor:this.hasSelection});return}f(this,_i).add(t),t.select(),B(this,ie,Tu).call(this,t.propertiesToUpdate),B(this,ie,ua).call(this,{hasSelectedEditor:!0})}setSelected(t){var e;(e=f(this,bh))==null||e.commitOrRemove();for(const i of f(this,_i))i!==t&&i.unselect();f(this,_i).clear(),f(this,_i).add(t),t.select(),B(this,ie,Tu).call(this,t.propertiesToUpdate),B(this,ie,ua).call(this,{hasSelectedEditor:!0})}isSelected(t){return f(this,_i).has(t)}get firstSelectedEditor(){return f(this,_i).values().next().value}unselect(t){t.unselect(),f(this,_i).delete(t),B(this,ie,ua).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return f(this,_i).size!==0}get isEnterHandled(){return f(this,_i).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var t;f(this,Xr).undo(),B(this,ie,ua).call(this,{hasSomethingToUndo:f(this,Xr).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:B(this,ie,L0).call(this)}),(t=this._editorUndoBar)==null||t.hide()}redo(){f(this,Xr).redo(),B(this,ie,ua).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:f(this,Xr).hasSomethingToRedo(),isEmpty:B(this,ie,L0).call(this)})}addCommands(t){f(this,Xr).add(t),B(this,ie,ua).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:B(this,ie,L0).call(this)})}cleanUndoStack(t){f(this,Xr).cleanType(t)}delete(){var r;this.commitOrRemove();const t=(r=this.currentLayer)==null?void 0:r.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...f(this,_i)],i=()=>{var o;(o=this._editorUndoBar)==null||o.show(s,e.length===1?e[0].editorType:e.length);for(const c of e)c.remove()},s=()=>{for(const o of e)B(this,ie,gw).call(this,o)};this.addCommands({cmd:i,undo:s,mustExec:!0})}commitOrRemove(){var t;(t=f(this,cr))==null||t.commitOrRemove()}hasSomethingToControl(){return f(this,cr)||this.hasSelection}selectAll(){for(const t of f(this,_i))t.commit();B(this,ie,mw).call(this,f(this,Wn).values())}unselectAll(){var t;if(!(f(this,cr)&&(f(this,cr).commitOrRemove(),f(this,rs)!==Fe.NONE))&&!((t=f(this,bh))!=null&&t.commitOrRemove())&&this.hasSelection){for(const e of f(this,_i))e.unselect();f(this,_i).clear(),B(this,ie,ua).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;f(this,Eh)[0]+=t,f(this,Eh)[1]+=e;const[s,r]=f(this,Eh),o=[...f(this,_i)],c=1e3;f(this,Tl)&&clearTimeout(f(this,Tl)),M(this,Tl,setTimeout(()=>{M(this,Tl,null),f(this,Eh)[0]=f(this,Eh)[1]=0,this.addCommands({cmd:()=>{for(const h of o)f(this,Wn).has(h.id)&&(h.translateInPage(s,r),h.translationDone())},undo:()=>{for(const h of o)f(this,Wn).has(h.id)&&(h.translateInPage(-s,-r),h.translationDone())},mustExec:!1})},c));for(const h of o)h.translateInPage(t,e),h.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),M(this,Nl,new Map);for(const t of f(this,_i))f(this,Nl).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!f(this,Nl))return!1;this.disableUserSelect(!1);const t=f(this,Nl);M(this,Nl,null);let e=!1;for(const[{x:s,y:r,pageIndex:o},c]of t)c.newX=s,c.newY=r,c.newPageIndex=o,e||(e=s!==c.savedX||r!==c.savedY||o!==c.savedPageIndex);if(!e)return!1;const i=(s,r,o,c)=>{if(f(this,Wn).has(s.id)){const h=f(this,As).get(c);h?s._setParentAndPosition(h,r,o):(s.pageIndex=c,s.x=r,s.y=o)}};return this.addCommands({cmd:()=>{for(const[s,{newX:r,newY:o,newPageIndex:c}]of t)i(s,r,o,c)},undo:()=>{for(const[s,{savedX:r,savedY:o,savedPageIndex:c}]of t)i(s,r,o,c)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(f(this,Nl))for(const i of f(this,Nl).keys())i.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||f(this,_i).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return f(this,cr)===t}getActive(){return f(this,cr)}getMode(){return f(this,rs)}get imageManager(){return ei(this,"imageManager",new uw)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let p=0,m=e.rangeCount;p<m;p++)if(!t.contains(e.getRangeAt(p).commonAncestorContainer))return null;const{x:i,y:s,width:r,height:o}=t.getBoundingClientRect();let c;switch(t.getAttribute("data-main-rotation")){case"90":c=(p,m,y,A)=>({x:(m-s)/o,y:1-(p+y-i)/r,width:A/o,height:y/r});break;case"180":c=(p,m,y,A)=>({x:1-(p+y-i)/r,y:1-(m+A-s)/o,width:y/r,height:A/o});break;case"270":c=(p,m,y,A)=>({x:1-(m+A-s)/o,y:(p-i)/r,width:A/o,height:y/r});break;default:c=(p,m,y,A)=>({x:(p-i)/r,y:(m-s)/o,width:y/r,height:A/o});break}const h=[];for(let p=0,m=e.rangeCount;p<m;p++){const y=e.getRangeAt(p);if(!y.collapsed)for(const{x:A,y:b,width:N,height:E}of y.getClientRects())N===0||E===0||h.push(c(A,b,N,E))}return h.length===0?null:h}addChangedExistingAnnotation({annotationElementId:t,id:e}){(f(this,_g)||M(this,_g,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=f(this,_g))==null||e.delete(t)}renderAnnotationElement(t){var s;const e=(s=f(this,_g))==null?void 0:s.get(t.data.id);if(!e)return;const i=f(this,Du).getRawValue(e);i&&(f(this,rs)===Fe.NONE&&!i.hasBeenModified||i.renderAnnotationElement(t))}setMissingCanvas(t,e,i){var r;const s=(r=f(this,_h))==null?void 0:r.get(t);s&&(s.setCanvas(e,i),f(this,_h).delete(t))}addMissingCanvas(t,e){(f(this,_h)||M(this,_h,new Map)).set(t,e)}};Ag=new WeakMap,cr=new WeakMap,Wn=new WeakMap,As=new WeakMap,Sg=new WeakMap,Du=new WeakMap,_g=new WeakMap,Xr=new WeakMap,vh=new WeakMap,bh=new WeakMap,xg=new WeakMap,ed=new WeakMap,Nl=new WeakMap,Ro=new WeakMap,id=new WeakMap,im=new WeakMap,nm=new WeakMap,Eg=new WeakMap,sm=new WeakMap,Ll=new WeakMap,yh=new WeakMap,Ng=new WeakMap,wh=new WeakMap,Cl=new WeakMap,Fv=new WeakMap,Ah=new WeakMap,am=new WeakMap,Sh=new WeakMap,nd=new WeakMap,sd=new WeakMap,_h=new WeakMap,rm=new WeakMap,rs=new WeakMap,_i=new WeakMap,Pu=new WeakMap,xh=new WeakMap,ad=new WeakMap,om=new WeakMap,lm=new WeakMap,Eh=new WeakMap,Tl=new WeakMap,Ou=new WeakMap,um=new WeakMap,Wr=new WeakMap,ie=new WeakSet,X5=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},hw=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const i of f(this,As).values())if(i.hasTextLayer(t))return i;return null},O_=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const i=B(this,ie,X5).call(this,t).closest(".textLayer"),s=this.getSelectionBoxes(i);s&&(f(this,Cl)||M(this,Cl,new IC(this)),f(this,Cl).show(i,s,this.direction==="ltr"))},F_=function(){var r,o,c;const t=document.getSelection();if(!t||t.isCollapsed){f(this,Pu)&&((r=f(this,Cl))==null||r.hide(),M(this,Pu,null),B(this,ie,ua).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===f(this,Pu))return;const s=B(this,ie,X5).call(this,t).closest(".textLayer");if(!s){f(this,Pu)&&((o=f(this,Cl))==null||o.hide(),M(this,Pu,null),B(this,ie,ua).call(this,{hasSelectedText:!1}));return}if((c=f(this,Cl))==null||c.hide(),M(this,Pu,e),B(this,ie,ua).call(this,{hasSelectedText:!0}),!(f(this,rs)!==Fe.HIGHLIGHT&&f(this,rs)!==Fe.NONE)&&(f(this,rs)===Fe.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),M(this,wh,this.isShiftKeyDown),!this.isShiftKeyDown)){const h=f(this,rs)===Fe.HIGHLIGHT?B(this,ie,hw).call(this,s):null;h==null||h.toggleDrawing();const p=new AbortController,m=this.combinedSignal(p),y=A=>{A.type==="pointerup"&&A.button!==0||(p.abort(),h==null||h.toggleDrawing(!0),A.type==="pointerup"&&B(this,ie,W5).call(this,"main_toolbar"))};window.addEventListener("pointerup",y,{signal:m}),window.addEventListener("blur",y,{signal:m})}},W5=function(t=""){f(this,rs)===Fe.HIGHLIGHT?this.highlightSelection(t):f(this,im)&&B(this,ie,O_).call(this)},I_=function(){document.addEventListener("selectionchange",B(this,ie,F_).bind(this),{signal:this._signal})},B_=function(){if(f(this,yh))return;M(this,yh,new AbortController);const t=this.combinedSignal(f(this,yh));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},j_=function(){var t;(t=f(this,yh))==null||t.abort(),M(this,yh,null)},fw=function(){if(f(this,Sh))return;M(this,Sh,new AbortController);const t=this.combinedSignal(f(this,Sh));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},z_=function(){var t;(t=f(this,Sh))==null||t.abort(),M(this,Sh,null)},dw=function(){if(f(this,vh))return;M(this,vh,new AbortController);const t=this.combinedSignal(f(this,vh));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},pw=function(){var t;(t=f(this,vh))==null||t.abort(),M(this,vh,null)},q_=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},ua=function(t){Object.entries(t).some(([i,s])=>f(this,lm)[i]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(f(this,lm),t)}),f(this,rs)===Fe.HIGHLIGHT&&t.hasSelectedEditor===!1&&B(this,ie,Tu).call(this,[[ai.HIGHLIGHT_FREE,!0]]))},Tu=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},U_=async function(){if(!f(this,Ah)){M(this,Ah,!0);const t=[];for(const e of f(this,As).values())t.push(e.enable());await Promise.all(t);for(const e of f(this,Wn).values())e.enable()}},H_=function(){if(this.unselectAll(),f(this,Ah)){M(this,Ah,!1);for(const t of f(this,As).values())t.disable();for(const t of f(this,Wn).values())t.disable()}},gw=function(t){const e=f(this,As).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},G_=function(){let t=null;for(t of f(this,_i));return t},L0=function(){if(f(this,Wn).size===0)return!0;if(f(this,Wn).size===1)for(const t of f(this,Wn).values())return t.isEmpty();return!1},mw=function(t){for(const e of f(this,_i))e.unselect();f(this,_i).clear();for(const e of t)e.isEmpty()||(f(this,_i).add(e),e.select());B(this,ie,ua).call(this,{hasSelectedEditor:this.hasSelection})},Kt(hg,"TRANSLATE_SMALL",1),Kt(hg,"TRANSLATE_BIG",10);let rp=hg;var os,Rl,Mo,Lg,Ml,hr,Cg,kl,Pa,Fu,rd,Dl,Nh,Ho,C0,$5;const ca=class ca{constructor(t){I(this,Ho);I(this,os,null);I(this,Rl,!1);I(this,Mo,null);I(this,Lg,null);I(this,Ml,null);I(this,hr,null);I(this,Cg,!1);I(this,kl,null);I(this,Pa,null);I(this,Fu,null);I(this,rd,null);I(this,Dl,!1);M(this,Pa,t),M(this,Dl,t._uiManager.useNewAltTextFlow),f(ca,Nh)||M(ca,Nh,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){ca._l10n??(ca._l10n=t)}async render(){const t=M(this,Mo,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=M(this,Lg,document.createElement("span"));t.append(e),f(this,Dl)?(t.classList.add("new"),t.setAttribute("data-l10n-id",f(ca,Nh).missing),e.setAttribute("data-l10n-id",f(ca,Nh)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=f(this,Pa)._uiManager._signal;t.addEventListener("contextmenu",Go,{signal:i}),t.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:i});const s=r=>{r.preventDefault(),f(this,Pa)._uiManager.editAltText(f(this,Pa)),f(this,Dl)&&f(this,Pa)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:f(this,Ho,C0)}})};return t.addEventListener("click",s,{capture:!0,signal:i}),t.addEventListener("keydown",r=>{r.target===t&&r.key==="Enter"&&(M(this,Cg,!0),s(r))},{signal:i}),await B(this,Ho,$5).call(this),t}finish(){f(this,Mo)&&(f(this,Mo).focus({focusVisible:f(this,Cg)}),M(this,Cg,!1))}isEmpty(){return f(this,Dl)?f(this,os)===null:!f(this,os)&&!f(this,Rl)}hasData(){return f(this,Dl)?f(this,os)!==null||!!f(this,Fu):this.isEmpty()}get guessedText(){return f(this,Fu)}async setGuessedText(t){f(this,os)===null&&(M(this,Fu,t),M(this,rd,await ca._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),B(this,Ho,$5).call(this))}toggleAltTextBadge(t=!1){var e;if(!f(this,Dl)||f(this,os)){(e=f(this,kl))==null||e.remove(),M(this,kl,null);return}if(!f(this,kl)){const i=M(this,kl,document.createElement("div"));i.className="noAltTextBadge",f(this,Pa).div.append(i)}f(this,kl).classList.toggle("hidden",!t)}serialize(t){let e=f(this,os);return!t&&f(this,Fu)===e&&(e=f(this,rd)),{altText:e,decorative:f(this,Rl),guessedText:f(this,Fu),textWithDisclaimer:f(this,rd)}}get data(){return{altText:f(this,os),decorative:f(this,Rl)}}set data({altText:t,decorative:e,guessedText:i,textWithDisclaimer:s,cancel:r=!1}){i&&(M(this,Fu,i),M(this,rd,s)),!(f(this,os)===t&&f(this,Rl)===e)&&(r||(M(this,os,t),M(this,Rl,e)),B(this,Ho,$5).call(this))}toggle(t=!1){f(this,Mo)&&(!t&&f(this,hr)&&(clearTimeout(f(this,hr)),M(this,hr,null)),f(this,Mo).disabled=!t)}shown(){f(this,Pa)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:f(this,Ho,C0)}})}destroy(){var t,e;(t=f(this,Mo))==null||t.remove(),M(this,Mo,null),M(this,Lg,null),M(this,Ml,null),(e=f(this,kl))==null||e.remove(),M(this,kl,null)}};os=new WeakMap,Rl=new WeakMap,Mo=new WeakMap,Lg=new WeakMap,Ml=new WeakMap,hr=new WeakMap,Cg=new WeakMap,kl=new WeakMap,Pa=new WeakMap,Fu=new WeakMap,rd=new WeakMap,Dl=new WeakMap,Nh=new WeakMap,Ho=new WeakSet,C0=function(){return f(this,os)&&"added"||f(this,os)===null&&this.guessedText&&"review"||"missing"},$5=async function(){var s,r,o;const t=f(this,Mo);if(!t)return;if(f(this,Dl)){if(t.classList.toggle("done",!!f(this,os)),t.setAttribute("data-l10n-id",f(ca,Nh)[f(this,Ho,C0)]),(s=f(this,Lg))==null||s.setAttribute("data-l10n-id",f(ca,Nh)[`${f(this,Ho,C0)}-label`]),!f(this,os)){(r=f(this,Ml))==null||r.remove();return}}else{if(!f(this,os)&&!f(this,Rl)){t.classList.remove("done"),(o=f(this,Ml))==null||o.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=f(this,Ml);if(!e){M(this,Ml,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${f(this,Pa).id}`;const c=100,h=f(this,Pa)._uiManager._signal;h.addEventListener("abort",()=>{clearTimeout(f(this,hr)),M(this,hr,null)},{once:!0}),t.addEventListener("mouseenter",()=>{M(this,hr,setTimeout(()=>{M(this,hr,null),f(this,Ml).classList.add("show"),f(this,Pa)._reportTelemetry({action:"alt_text_tooltip"})},c))},{signal:h}),t.addEventListener("mouseleave",()=>{var p;f(this,hr)&&(clearTimeout(f(this,hr)),M(this,hr,null)),(p=f(this,Ml))==null||p.classList.remove("show")},{signal:h})}f(this,Rl)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=f(this,os)),e.parentNode||t.append(e);const i=f(this,Pa).getElementForAltText();i==null||i.setAttribute("aria-describedby",e.id)},I(ca,Nh,null),Kt(ca,"_l10n",null);let Ev=ca;var Tg,od,cm,hm,fm,dm,pm,Iu,ld,Bu,ud,ju,sf,V_,Y_,X_;const GA=class GA{constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:i=null,onPinchStart:s=null,onPinching:r=null,onPinchEnd:o=null,signal:c}){I(this,sf);I(this,Tg);I(this,od,!1);I(this,cm,null);I(this,hm);I(this,fm);I(this,dm);I(this,pm);I(this,Iu,null);I(this,ld);I(this,Bu,null);I(this,ud);I(this,ju,null);M(this,Tg,t),M(this,cm,i),M(this,hm,e),M(this,fm,s),M(this,dm,r),M(this,pm,o),M(this,ud,new AbortController),M(this,ld,AbortSignal.any([c,f(this,ud).signal])),t.addEventListener("touchstart",B(this,sf,V_).bind(this),{passive:!1,signal:f(this,ld)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Vl.pixelRatio}destroy(){var t,e;(t=f(this,ud))==null||t.abort(),M(this,ud,null),(e=f(this,Iu))==null||e.abort(),M(this,Iu,null)}};Tg=new WeakMap,od=new WeakMap,cm=new WeakMap,hm=new WeakMap,fm=new WeakMap,dm=new WeakMap,pm=new WeakMap,Iu=new WeakMap,ld=new WeakMap,Bu=new WeakMap,ud=new WeakMap,ju=new WeakMap,sf=new WeakSet,V_=function(t){var s,r,o;if((s=f(this,hm))!=null&&s.call(this))return;if(t.touches.length===1){if(f(this,Iu))return;const c=M(this,Iu,new AbortController),h=AbortSignal.any([f(this,ld),c.signal]),p=f(this,Tg),m={capture:!0,signal:h,passive:!1},y=A=>{var b;A.pointerType==="touch"&&((b=f(this,Iu))==null||b.abort(),M(this,Iu,null))};p.addEventListener("pointerdown",A=>{A.pointerType==="touch"&&(Bn(A),y(A))},m),p.addEventListener("pointerup",y,m),p.addEventListener("pointercancel",y,m);return}if(!f(this,ju)){M(this,ju,new AbortController);const c=AbortSignal.any([f(this,ld),f(this,ju).signal]),h=f(this,Tg),p={signal:c,capture:!1,passive:!1};h.addEventListener("touchmove",B(this,sf,Y_).bind(this),p);const m=B(this,sf,X_).bind(this);h.addEventListener("touchend",m,p),h.addEventListener("touchcancel",m,p),p.capture=!0,h.addEventListener("pointerdown",Bn,p),h.addEventListener("pointermove",Bn,p),h.addEventListener("pointercancel",Bn,p),h.addEventListener("pointerup",Bn,p),(r=f(this,fm))==null||r.call(this)}if(Bn(t),t.touches.length!==2||(o=f(this,cm))!=null&&o.call(this)){M(this,Bu,null);return}let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]),M(this,Bu,{touch0X:e.screenX,touch0Y:e.screenY,touch1X:i.screenX,touch1Y:i.screenY})},Y_=function(t){var j;if(!f(this,Bu)||t.touches.length!==2)return;Bn(t);let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]);const{screenX:s,screenY:r}=e,{screenX:o,screenY:c}=i,h=f(this,Bu),{touch0X:p,touch0Y:m,touch1X:y,touch1Y:A}=h,b=y-p,N=A-m,E=o-s,T=c-r,L=Math.hypot(E,T)||1,R=Math.hypot(b,N)||1;if(!f(this,od)&&Math.abs(R-L)<=GA.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(h.touch0X=s,h.touch0Y=r,h.touch1X=o,h.touch1Y=c,!f(this,od)){M(this,od,!0);return}const k=[(s+o)/2,(r+c)/2];(j=f(this,dm))==null||j.call(this,k,R,L)},X_=function(t){var e;t.touches.length>=2||(f(this,ju)&&(f(this,ju).abort(),M(this,ju,null),(e=f(this,pm))==null||e.call(this)),f(this,Bu)&&(Bn(t),M(this,Bu,null),M(this,od,!1)))};let Nv=GA;var cd,ko,Xi,Rg,Lh,gm,hd,Ss,fd,zu,Ch,mm,dd,fr,vm,pd,qu,Pl,Mg,kg,$r,gd,bm,Iv,xe,vw,ym,bw,K5,W_,$_,yw,Q5,ww,K_,Q_,Z_,Aw,J_,Sw,tx,ex,ix,_w,T0;const Ge=class Ge{constructor(t){I(this,xe);I(this,cd,null);I(this,ko,null);I(this,Xi,null);I(this,Rg,!1);I(this,Lh,null);I(this,gm,"");I(this,hd,!1);I(this,Ss,null);I(this,fd,null);I(this,zu,null);I(this,Ch,null);I(this,mm,"");I(this,dd,!1);I(this,fr,null);I(this,vm,!1);I(this,pd,!1);I(this,qu,!1);I(this,Pl,null);I(this,Mg,0);I(this,kg,0);I(this,$r,null);I(this,gd,null);Kt(this,"isSelected",!1);Kt(this,"_isCopy",!1);Kt(this,"_editToolbar",null);Kt(this,"_initialOptions",Object.create(null));Kt(this,"_initialData",null);Kt(this,"_isVisible",!0);Kt(this,"_uiManager",null);Kt(this,"_focusEventsAllowed",!0);I(this,bm,!1);I(this,Iv,Ge._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:i,pageHeight:s,pageX:r,pageY:o}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,s],this.pageTranslation=[r,o];const[c,h]=this.parentDimensions;this.x=t.x/c,this.y=t.y/h,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=Ge.prototype._resizeWithKeyboard,e=rp.TRANSLATE_SMALL,i=rp.TRANSLATE_BIG;return ei(this,"_resizerKeyboardManager",new T2([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],Ge.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return ei(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new zC({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(Ge._l10n??(Ge._l10n=t),Ge._l10nResizer||(Ge._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Ge._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);Ge._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Ti("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return f(this,bm)}set _isDraggable(t){var e;M(this,bm,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=f(this,Iv)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):B(this,xe,T0).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(f(this,dd)?M(this,dd,!1):this.parent.setSelected(this))}focusout(t){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,i,s){const[r,o]=this.parentDimensions;[i,s]=this.screenToPageTranslation(i,s),this.x=(t+i)/r,this.y=(e+s)/o,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[i,s]=this.parentDimensions;this.setAt(t*i,e*s,this.width*i,this.height*s),this._onTranslated()}translate(t,e){B(this,xe,vw).call(this,this.parentDimensions,t,e)}translateInPage(t,e){f(this,fr)||M(this,fr,[this.x,this.y,this.width,this.height]),B(this,xe,vw).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){f(this,fr)||M(this,fr,[this.x,this.y,this.width,this.height]);const{div:i,parentDimensions:[s,r]}=this;if(this.x+=t/s,this.y+=e/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:y,y:A}=this.div.getBoundingClientRect();this.parent.findNewParent(this,y,A)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:c}=this;const[h,p]=this.getBaseTranslation();o+=h,c+=p;const{style:m}=i;m.left=`${(100*o).toFixed(2)}%`,m.top=`${(100*c).toFixed(2)}%`,this._onTranslating(o,c),i.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!f(this,fr)&&(f(this,fr)[0]!==this.x||f(this,fr)[1]!==this.y)}get _hasBeenResized(){return!!f(this,fr)&&(f(this,fr)[2]!==this.width||f(this,fr)[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:i}=Ge,s=i/t,r=i/e;switch(this.rotation){case 90:return[-s,r];case 180:return[s,r];case 270:return[s,-r];default:return[-s,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[i,s]}=this;let{x:r,y:o,width:c,height:h}=this;if(c*=i,h*=s,r*=i,o*=s,this._mustFixPosition)switch(t){case 0:r=ga(r,0,i-c),o=ga(o,0,s-h);break;case 90:r=ga(r,0,i-h),o=ga(o,c,s);break;case 180:r=ga(r,c,i),o=ga(o,h,s);break;case 270:r=ga(r,h,i),o=ga(o,0,s-c);break}this.x=r/=i,this.y=o/=s;const[p,m]=this.getBaseTranslation();r+=p,o+=m,e.left=`${(100*r).toFixed(2)}%`,e.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var i;return B(i=Ge,ym,bw).call(i,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var i;return B(i=Ge,ym,bw).call(i,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,i]}=this;return[e*t,i*t]}setDims(t,e){const[i,s]=this.parentDimensions,{style:r}=this.div;r.width=`${(100*t/i).toFixed(2)}%`,f(this,hd)||(r.height=`${(100*e/s).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:i}=t,s=i.endsWith("%"),r=!f(this,hd)&&e.endsWith("%");if(s&&r)return;const[o,c]=this.parentDimensions;s||(t.width=`${(100*parseFloat(i)/o).toFixed(2)}%`),!f(this,hd)&&!r&&(t.height=`${(100*parseFloat(e)/c).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(t){return Math.round(t*1e4)/1e4}_onResizing(){}altTextFinish(){var t;(t=f(this,Xi))==null||t.finish()}async addEditToolbar(){return this._editToolbar||f(this,pd)?this._editToolbar:(this._editToolbar=new lw(this),this.div.append(this._editToolbar.render()),f(this,Xi)&&await this._editToolbar.addAltText(f(this,Xi)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=f(this,Xi))==null||t.destroy())}addContainer(t){var i;const e=(i=this._editToolbar)==null?void 0:i.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){f(this,Xi)||(Ev.initialize(Ge._l10n),M(this,Xi,new Ev(this)),f(this,cd)&&(f(this,Xi).data=f(this,cd),M(this,cd,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=f(this,Xi))==null?void 0:t.data}set altTextData(t){f(this,Xi)&&(f(this,Xi).data=t)}get guessedAltText(){var t;return(t=f(this,Xi))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=f(this,Xi))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=f(this,Xi))==null?void 0:e.serialize(t)}hasAltText(){return!!f(this,Xi)&&!f(this,Xi).isEmpty()}hasAltTextData(){var t;return((t=f(this,Xi))==null?void 0:t.hasData())??!1}render(){var o;const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=f(this,Rg)?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),B(this,xe,Sw).call(this);const[e,i]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*i/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/i).toFixed(2)}%`);const[s,r]=this.getInitialTranslation();return this.translate(s,r),D_(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(f(this,gd)||M(this,gd,new Nv({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:B(this,xe,K_).bind(this),onPinching:B(this,xe,Q_).bind(this),onPinchEnd:B(this,xe,Z_).bind(this),signal:this._uiManager._signal}))),(o=this._uiManager._editorUndoBar)==null||o.hide(),t}pointerdown(t){const{isMac:e}=Ts.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(M(this,dd,!0),this._isDraggable){B(this,xe,J_).call(this,t);return}B(this,xe,Aw).call(this,t)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){f(this,Pl)&&clearTimeout(f(this,Pl)),M(this,Pl,setTimeout(()=>{var t;M(this,Pl,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,i){t.changeParent(this),this.x=e,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,i=this.rotation){const s=this.parentScale,[r,o]=this.pageDimensions,[c,h]=this.pageTranslation,p=t/s,m=e/s,y=this.x*r,A=this.y*o,b=this.width*r,N=this.height*o;switch(i){case 0:return[y+p+c,o-A-m-N+h,y+p+b+c,o-A-m+h];case 90:return[y+m+c,o-A+p+h,y+m+N+c,o-A+p+b+h];case 180:return[y-p-b+c,o-A+m+h,y-p+c,o-A+m+N+h];case 270:return[y-m-N+c,o-A-p-b+h,y-m+c,o-A-p+h];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[i,s,r,o]=t,c=r-i,h=o-s;switch(this.rotation){case 0:return[i,e-o,c,h];case 90:return[i,e-s,h,c];case 180:return[r,e-s,c,h];case 270:return[r,e-o,h,c];default:throw new Error("Invalid rotation")}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),M(this,pd,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),M(this,pd,!1),!0):!1}isInEditMode(){return f(this,pd)}shouldGetKeyboardEvents(){return f(this,qu)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:i,right:s}=this.getClientDimensions(),{innerHeight:r,innerWidth:o}=window;return e<o&&s>0&&t<r&&i>0}rebuild(){B(this,xe,Sw).call(this)}rotate(t){}resize(){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){Ti("An editor must be serializable")}static async deserialize(t,e,i){const s=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:i});s.rotation=t.rotation,M(s,cd,t.accessibilityData),s._isCopy=t.isCopy||!1;const[r,o]=s.pageDimensions,[c,h,p,m]=s.getRectInCurrentCoords(t.rect,o);return s.x=c/r,s.y=h/o,s.width=p/r,s.height=m/o,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t,e;if((t=f(this,Ch))==null||t.abort(),M(this,Ch,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),f(this,Pl)&&(clearTimeout(f(this,Pl)),M(this,Pl,null)),B(this,xe,T0).call(this),this.removeEditToolbar(),f(this,$r)){for(const i of f(this,$r).values())clearTimeout(i);M(this,$r,null)}this.parent=null,(e=f(this,gd))==null||e.destroy(),M(this,gd,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(B(this,xe,W_).call(this),f(this,Ss).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),M(this,zu,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=f(this,Ss).children;if(!f(this,ko)){M(this,ko,Array.from(e));const o=B(this,xe,tx).bind(this),c=B(this,xe,ex).bind(this),h=this._uiManager._signal;for(const p of f(this,ko)){const m=p.getAttribute("data-resizer-name");p.setAttribute("role","spinbutton"),p.addEventListener("keydown",o,{signal:h}),p.addEventListener("blur",c,{signal:h}),p.addEventListener("focus",B(this,xe,ix).bind(this,m),{signal:h}),p.setAttribute("data-l10n-id",Ge._l10nResizer[m])}}const i=f(this,ko)[0];let s=0;for(const o of e){if(o===i)break;s++}const r=(360-this.rotation+this.parentRotation)%360/90*(f(this,ko).length/4);if(r!==s){if(r<s)for(let c=0;c<s-r;c++)f(this,Ss).append(f(this,Ss).firstChild);else if(r>s)for(let c=0;c<r-s;c++)f(this,Ss).firstChild.before(f(this,Ss).lastChild);let o=0;for(const c of e){const p=f(this,ko)[o++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",Ge._l10nResizer[p])}}B(this,xe,_w).call(this,0),M(this,qu,!0),f(this,Ss).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){f(this,qu)&&B(this,xe,ww).call(this,f(this,mm),{deltaX:t,deltaY:e,fromKeyboard:!0})}_stopResizingWithKeyboard(){B(this,xe,T0).call(this),this.div.focus()}select(){var t,e,i;if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var s,r;(s=this.div)!=null&&s.classList.contains("selectedEditor")&&((r=this._editToolbar)==null||r.show())});return}(e=this._editToolbar)==null||e.show(),(i=f(this,Xi))==null||i.toggleAltTextBadge(!1)}}unselect(){var t,e,i,s,r;this.isSelected&&(this.isSelected=!1,(t=f(this,Ss))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=this._editToolbar)==null||s.hide(),(r=f(this,Xi))==null||r.toggleAltTextBadge(!0))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return f(this,vm)}set isEditing(t){M(this,vm,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){M(this,hd,!0);const i=t/e,{style:s}=this.div;s.aspectRatio=i,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){f(this,$r)||M(this,$r,new Map);const{action:i}=t;let s=f(this,$r).get(i);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(t),f(this,$r).delete(i),f(this,$r).size===0&&M(this,$r,null)},Ge._telemetryTimeout),f(this,$r).set(i,s);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),M(this,Rg,!1)}disable(){this.div&&(this.div.tabIndex=-1),M(this,Rg,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const i=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),i.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};cd=new WeakMap,ko=new WeakMap,Xi=new WeakMap,Rg=new WeakMap,Lh=new WeakMap,gm=new WeakMap,hd=new WeakMap,Ss=new WeakMap,fd=new WeakMap,zu=new WeakMap,Ch=new WeakMap,mm=new WeakMap,dd=new WeakMap,fr=new WeakMap,vm=new WeakMap,pd=new WeakMap,qu=new WeakMap,Pl=new WeakMap,Mg=new WeakMap,kg=new WeakMap,$r=new WeakMap,gd=new WeakMap,bm=new WeakMap,Iv=new WeakMap,xe=new WeakSet,vw=function([t,e],i,s){[i,s]=this.screenToPageTranslation(i,s),this.x+=i/t,this.y+=s/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},ym=new WeakSet,bw=function(t,e,i){switch(i){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},K5=function(t){switch(t){case 90:{const[e,i]=this.pageDimensions;return[0,-e/i,i/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,i]=this.pageDimensions;return[0,e/i,-i/e,0]}default:return[1,0,0,1]}},W_=function(){if(f(this,Ss))return;M(this,Ss,document.createElement("div")),f(this,Ss).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const i of t){const s=document.createElement("div");f(this,Ss).append(s),s.classList.add("resizer",i),s.setAttribute("data-resizer-name",i),s.addEventListener("pointerdown",B(this,xe,$_).bind(this,i),{signal:e}),s.addEventListener("contextmenu",Go,{signal:e}),s.tabIndex=-1}this.div.prepend(f(this,Ss))},$_=function(t,e){var m;e.preventDefault();const{isMac:i}=Ts.platform;if(e.button!==0||e.ctrlKey&&i)return;(m=f(this,Xi))==null||m.toggle(!1);const s=this._isDraggable;this._isDraggable=!1,M(this,fd,[e.screenX,e.screenY]);const r=new AbortController,o=this._uiManager.combinedSignal(r);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",B(this,xe,ww).bind(this,t),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",Bn,{passive:!1,signal:o}),window.addEventListener("contextmenu",Go,{signal:o}),M(this,zu,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const c=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const p=()=>{var y;r.abort(),this.parent.togglePointerEvents(!0),(y=f(this,Xi))==null||y.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=c,this.div.style.cursor=h,B(this,xe,Q5).call(this)};window.addEventListener("pointerup",p,{signal:o}),window.addEventListener("blur",p,{signal:o})},yw=function(t,e,i,s){this.width=i,this.height=s,this.x=t,this.y=e;const[r,o]=this.parentDimensions;this.setDims(r*i,o*s),this.fixAndSetPosition(),this._onResized()},Q5=function(){if(!f(this,zu))return;const{savedX:t,savedY:e,savedWidth:i,savedHeight:s}=f(this,zu);M(this,zu,null);const r=this.x,o=this.y,c=this.width,h=this.height;r===t&&o===e&&c===i&&h===s||this.addCommands({cmd:B(this,xe,yw).bind(this,r,o,c,h),undo:B(this,xe,yw).bind(this,t,e,i,s),mustExec:!0})},ww=function(t,e){const[i,s]=this.parentDimensions,r=this.x,o=this.y,c=this.width,h=this.height,p=Ge.MIN_SIZE/i,m=Ge.MIN_SIZE/s,y=B(this,xe,K5).call(this,this.rotation),A=(it,ct)=>[y[0]*it+y[2]*ct,y[1]*it+y[3]*ct],b=B(this,xe,K5).call(this,360-this.rotation),N=(it,ct)=>[b[0]*it+b[2]*ct,b[1]*it+b[3]*ct];let E,T,L=!1,R=!1;switch(t){case"topLeft":L=!0,E=(it,ct)=>[0,0],T=(it,ct)=>[it,ct];break;case"topMiddle":E=(it,ct)=>[it/2,0],T=(it,ct)=>[it/2,ct];break;case"topRight":L=!0,E=(it,ct)=>[it,0],T=(it,ct)=>[0,ct];break;case"middleRight":R=!0,E=(it,ct)=>[it,ct/2],T=(it,ct)=>[0,ct/2];break;case"bottomRight":L=!0,E=(it,ct)=>[it,ct],T=(it,ct)=>[0,0];break;case"bottomMiddle":E=(it,ct)=>[it/2,ct],T=(it,ct)=>[it/2,0];break;case"bottomLeft":L=!0,E=(it,ct)=>[0,ct],T=(it,ct)=>[it,0];break;case"middleLeft":R=!0,E=(it,ct)=>[0,ct/2],T=(it,ct)=>[it,ct/2];break}const k=E(c,h),j=T(c,h);let H=A(...j);const tt=Ge._round(r+H[0]),Z=Ge._round(o+H[1]);let Q=1,et=1,ft,q;if(e.fromKeyboard)({deltaX:ft,deltaY:q}=e);else{const{screenX:it,screenY:ct}=e,[dt,Lt]=f(this,fd);[ft,q]=this.screenToPageTranslation(it-dt,ct-Lt),f(this,fd)[0]=it,f(this,fd)[1]=ct}if([ft,q]=N(ft/i,q/s),L){const it=Math.hypot(c,h);Q=et=Math.max(Math.min(Math.hypot(j[0]-k[0]-ft,j[1]-k[1]-q)/it,1/c,1/h),p/c,m/h)}else R?Q=ga(Math.abs(j[0]-k[0]-ft),p,1)/c:et=ga(Math.abs(j[1]-k[1]-q),m,1)/h;const W=Ge._round(c*Q),lt=Ge._round(h*et);H=A(...T(W,lt));const nt=tt-H[0],Tt=Z-H[1];f(this,fr)||M(this,fr,[this.x,this.y,this.width,this.height]),this.width=W,this.height=lt,this.x=nt,this.y=Tt,this.setDims(i*W,s*lt),this.fixAndSetPosition(),this._onResizing()},K_=function(){var t;M(this,zu,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(t=f(this,Xi))==null||t.toggle(!1),this.parent.togglePointerEvents(!1)},Q_=function(t,e,i){let r=.7*(i/e)+1-.7;if(r===1)return;const o=B(this,xe,K5).call(this,this.rotation),c=(tt,Z)=>[o[0]*tt+o[2]*Z,o[1]*tt+o[3]*Z],[h,p]=this.parentDimensions,m=this.x,y=this.y,A=this.width,b=this.height,N=Ge.MIN_SIZE/h,E=Ge.MIN_SIZE/p;r=Math.max(Math.min(r,1/A,1/b),N/A,E/b);const T=Ge._round(A*r),L=Ge._round(b*r);if(T===A&&L===b)return;f(this,fr)||M(this,fr,[m,y,A,b]);const R=c(A/2,b/2),k=Ge._round(m+R[0]),j=Ge._round(y+R[1]),H=c(T/2,L/2);this.x=k-H[0],this.y=j-H[1],this.width=T,this.height=L,this.setDims(h*T,p*L),this.fixAndSetPosition(),this._onResizing()},Z_=function(){var t;(t=f(this,Xi))==null||t.toggle(!0),this.parent.togglePointerEvents(!0),B(this,xe,Q5).call(this)},Aw=function(t){const{isMac:e}=Ts.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},J_=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let i=!1;const s=new AbortController,r=this._uiManager.combinedSignal(s),o={capture:!0,passive:!1,signal:r},c=p=>{s.abort(),M(this,Lh,null),M(this,dd,!1),this._uiManager.endDragSession()||B(this,xe,Aw).call(this,p),i&&this._onStopDragging()};e&&(M(this,Mg,t.clientX),M(this,kg,t.clientY),M(this,Lh,t.pointerId),M(this,gm,t.pointerType),window.addEventListener("pointermove",p=>{i||(i=!0,this._onStartDragging());const{clientX:m,clientY:y,pointerId:A}=p;if(A!==f(this,Lh)){Bn(p);return}const[b,N]=this.screenToPageTranslation(m-f(this,Mg),y-f(this,kg));M(this,Mg,m),M(this,kg,y),this._uiManager.dragSelectedEditors(b,N)},o),window.addEventListener("touchmove",Bn,o),window.addEventListener("pointerdown",p=>{p.pointerType===f(this,gm)&&(f(this,gd)||p.isPrimary)&&c(p),Bn(p)},o));const h=p=>{if(!f(this,Lh)||f(this,Lh)===p.pointerId){c(p);return}Bn(p)};window.addEventListener("pointerup",h,{signal:r}),window.addEventListener("blur",h,{signal:r})},Sw=function(){if(f(this,Ch)||!this.div)return;M(this,Ch,new AbortController);const t=this._uiManager.combinedSignal(f(this,Ch));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},tx=function(t){Ge._resizerKeyboardManager.exec(this,t)},ex=function(t){var e;f(this,qu)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==f(this,Ss)&&B(this,xe,T0).call(this)},ix=function(t){M(this,mm,f(this,qu)?t:"")},_w=function(t){if(f(this,ko))for(const e of f(this,ko))e.tabIndex=t},T0=function(){M(this,qu,!1),B(this,xe,_w).call(this,-1),B(this,xe,Q5).call(this)},I(Ge,ym),Kt(Ge,"_l10n",null),Kt(Ge,"_l10nResizer",null),Kt(Ge,"_borderLineWidth",-1),Kt(Ge,"_colorManager",new cw),Kt(Ge,"_zIndex",1),Kt(Ge,"_telemetryTimeout",1e3);let qi=Ge;class zC extends qi{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const b4=3285377520,Vr=4294901760,_l=65535;class nx{constructor(t){this.h1=t?t&4294967295:b4,this.h2=t?t&4294967295:b4}update(t){let e,i;if(typeof t=="string"){e=new Uint8Array(t.length*2),i=0;for(let E=0,T=t.length;E<T;E++){const L=t.charCodeAt(E);L<=255?e[i++]=L:(e[i++]=L>>>8,e[i++]=L&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),i=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=i>>2,r=i-s*4,o=new Uint32Array(e.buffer,0,s);let c=0,h=0,p=this.h1,m=this.h2;const y=3432918353,A=461845907,b=y&_l,N=A&_l;for(let E=0;E<s;E++)E&1?(c=o[E],c=c*y&Vr|c*b&_l,c=c<<15|c>>>17,c=c*A&Vr|c*N&_l,p^=c,p=p<<13|p>>>19,p=p*5+3864292196):(h=o[E],h=h*y&Vr|h*b&_l,h=h<<15|h>>>17,h=h*A&Vr|h*N&_l,m^=h,m=m<<13|m>>>19,m=m*5+3864292196);switch(c=0,r){case 3:c^=e[s*4+2]<<16;case 2:c^=e[s*4+1]<<8;case 1:c^=e[s*4],c=c*y&Vr|c*b&_l,c=c<<15|c>>>17,c=c*A&Vr|c*N&_l,s&1?p^=c:m^=c}this.h1=p,this.h2=m}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Vr|t*36045&_l,e=e*4283543511&Vr|((e<<16|t>>>16)*2950163797&Vr)>>>16,t^=e>>>1,t=t*444984403&Vr|t*60499&_l,e=e*3301882366&Vr|((e<<16|t>>>16)*3120437893&Vr)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const xw=Object.freeze({map:null,hash:"",transfer:void 0});var md,vd,_s,Bv,sx;class IA{constructor(){I(this,Bv);I(this,md,!1);I(this,vd,null);I(this,_s,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const i=f(this,_s).get(t);return i===void 0?e:Object.assign(e,i)}getRawValue(t){return f(this,_s).get(t)}remove(t){if(f(this,_s).delete(t),f(this,_s).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of f(this,_s).values())if(e instanceof qi)return;this.onAnnotationEditor(null)}}setValue(t,e){const i=f(this,_s).get(t);let s=!1;if(i!==void 0)for(const[r,o]of Object.entries(e))i[r]!==o&&(s=!0,i[r]=o);else s=!0,f(this,_s).set(t,e);s&&B(this,Bv,sx).call(this),e instanceof qi&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return f(this,_s).has(t)}get size(){return f(this,_s).size}resetModified(){f(this,md)&&(M(this,md,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new ax(this)}get serializable(){if(f(this,_s).size===0)return xw;const t=new Map,e=new nx,i=[],s=Object.create(null);let r=!1;for(const[o,c]of f(this,_s)){const h=c instanceof qi?c.serialize(!1,s):c;h&&(t.set(o,h),e.update(`${o}:${JSON.stringify(h)}`),r||(r=!!h.bitmap))}if(r)for(const o of t.values())o.bitmap&&i.push(o.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:i}:xw}get editorStats(){let t=null;const e=new Map;for(const i of f(this,_s).values()){if(!(i instanceof qi))continue;const s=i.telemetryFinalData;if(!s)continue;const{type:r}=s;e.has(r)||e.set(r,Object.getPrototypeOf(i).constructor),t||(t=Object.create(null));const o=t[r]||(t[r]=new Map);for(const[c,h]of Object.entries(s)){if(c==="type")continue;let p=o.get(c);p||(p=new Map,o.set(c,p));const m=p.get(h)??0;p.set(h,m+1)}}for(const[i,s]of e)t[i]=s.computeTelemetryFinalData(t[i]);return t}resetModifiedIds(){M(this,vd,null)}get modifiedIds(){if(f(this,vd))return f(this,vd);const t=[];for(const e of f(this,_s).values())!(e instanceof qi)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return M(this,vd,{ids:new Set(t),hash:t.join(",")})}[Symbol.iterator](){return f(this,_s).entries()}}md=new WeakMap,vd=new WeakMap,_s=new WeakMap,Bv=new WeakSet,sx=function(){f(this,md)||(M(this,md,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var wm;class ax extends IA{constructor(e){super();I(this,wm);const{map:i,hash:s,transfer:r}=e.serializable,o=structuredClone(i,r?{transfer:r}:null);M(this,wm,{map:o,hash:s,transfer:r})}get print(){Ti("Should not call PrintAnnotationStorage.print")}get serializable(){return f(this,wm)}get modifiedIds(){return ei(this,"modifiedIds",{ids:new Set,hash:""})}}wm=new WeakMap;var Dg;class qC{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){I(this,Dg,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),f(this,Dg).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:i}){if(!(!t||f(this,Dg).has(t.loadedName))){if(jn(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:r,style:o}=t,c=new FontFace(s,r,o);this.addNativeFontFace(c);try{await c.load(),f(this,Dg).add(s),i==null||i(t)}catch{Ie(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}Ti("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const i=t.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(s){throw Ie(`Failed to load font '${i.family}': '${s}'.`),t.disableFontFace=!0,s}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const s=this._queueLoadingCallback(i);this._prepareFontLoadEvent(t,s)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return ei(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return ei(this,"isSyncFontLoadingSupported",pa||Ts.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(jn(!s.done,"completeRequest() cannot be called twice."),s.done=!0;i.length>0&&i[0].done;){const r=i.shift();setTimeout(r.callback,0)}}const{loadingRequests:i}=this,s={done:!1,complete:e,callback:t};return i.push(s),s}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return ei(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function i(j,H){return j.charCodeAt(H)<<24|j.charCodeAt(H+1)<<16|j.charCodeAt(H+2)<<8|j.charCodeAt(H+3)&255}function s(j,H,tt,Z){const Q=j.substring(0,H),et=j.substring(H+tt);return Q+Z+et}let r,o;const c=this._document.createElement("canvas");c.width=1,c.height=1;const h=c.getContext("2d");let p=0;function m(j,H){if(++p>30){Ie("Load test font never loaded."),H();return}if(h.font="30px "+j,h.fillText(".",0,20),h.getImageData(0,0,1,1).data[3]>0){H();return}setTimeout(m.bind(null,j,H))}const y=`lt${Date.now()}${this.loadTestFontId++}`;let A=this._loadTestFont;A=s(A,976,y.length,y);const N=16,E=1482184792;let T=i(A,N);for(r=0,o=y.length-3;r<o;r+=4)T=T-E+i(y,r)|0;r<y.length&&(T=T-E+i(y+"XXX",r)|0),A=s(A,N,4,EC(T));const L=`url(data:font/opentype;base64,${btoa(A)});`,R=`@font-face {font-family:"${y}";src:${L}}`;this.insertRule(R);const k=this._document.createElement("div");k.style.visibility="hidden",k.style.width=k.style.height="10px",k.style.position="absolute",k.style.top=k.style.left="0px";for(const j of[t.loadedName,y]){const H=this._document.createElement("span");H.textContent="Hi",H.style.fontFamily=j,k.append(H)}this._document.body.append(k),m(y,()=>{k.remove(),e.complete()})}}Dg=new WeakMap;class UC{constructor(t,e=null){this.compiledGlyphs=Object.create(null);for(const i in t)this[i]=t[i];this._inspectFont=e}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${E_(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${t}}`}return(i=this._inspectFont)==null||i.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const i=this.loadedName+"_path_"+e;let s;try{s=t.get(i)}catch(o){Ie(`getPathGenerator - ignoring character: "${o}".`)}const r=new Path2D(s||"");return this.fontExtraProperties||t.delete(i),this.compiledGlyphs[e]=r}}function HC(l){if(l instanceof URL)return l.href;if(typeof l=="string"){if(pa)return l;const t=URL.parse(l,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function GC(l){if(pa&&typeof Buffer<"u"&&l instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength)return l;if(typeof l=="string")return N2(l);if(l instanceof ArrayBuffer||ArrayBuffer.isView(l)||typeof l=="object"&&!isNaN(l==null?void 0:l.length))return new Uint8Array(l);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function M5(l){if(typeof l!="string")return null;if(l.endsWith("/"))return l;throw new Error(`Invalid factory url: "${l}" must include trailing slash.`)}const Ew=l=>typeof l=="object"&&Number.isInteger(l==null?void 0:l.num)&&l.num>=0&&Number.isInteger(l==null?void 0:l.gen)&&l.gen>=0,VC=l=>typeof l=="object"&&typeof(l==null?void 0:l.name)=="string",YC=RC.bind(null,Ew,VC);var Uu,jv;class XC{constructor(){I(this,Uu,new Map);I(this,jv,Promise.resolve())}postMessage(t,e){const i={data:structuredClone(t,e?{transfer:e}:null)};f(this,jv).then(()=>{for(const[s]of f(this,Uu))s.call(this,i)})}addEventListener(t,e,i=null){let s=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:r}=i;if(r.aborted){Ie("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(t,e);s=()=>r.removeEventListener("abort",o),r.addEventListener("abort",o)}f(this,Uu).set(e,s)}removeEventListener(t,e){const i=f(this,Uu).get(e);i==null||i(),f(this,Uu).delete(e)}terminate(){for(const[,t]of f(this,Uu))t==null||t();f(this,Uu).clear()}}Uu=new WeakMap,jv=new WeakMap;const k5={DATA:1,ERROR:2},Fn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function y4(){}function ka(l){if(l instanceof tf||l instanceof aw||l instanceof g4||l instanceof xv||l instanceof Fy)return l;switch(l instanceof Error||typeof l=="object"&&l!==null||Ti('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),l.name){case"AbortException":return new tf(l.message);case"InvalidPDFException":return new aw(l.message);case"PasswordException":return new g4(l.message,l.code);case"ResponseException":return new xv(l.message,l.status,l.missing);case"UnknownErrorException":return new Fy(l.message,l.details)}return new Fy(l.message,l.toString())}var Pg,eo,rx,ox,lx,Z5;class R0{constructor(t,e,i){I(this,eo);I(this,Pg,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",B(this,eo,rx).bind(this),{signal:f(this,Pg).signal})}on(t,e){const i=this.actionHandler;if(i[t])throw new Error(`There is already an actionName called "${t}"`);i[t]=e}send(t,e,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},i)}sendWithPromise(t,e,i){const s=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[s]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:s,data:e},i)}catch(o){r.reject(o)}return r.promise}sendWithStream(t,e,i,s){const r=this.streamId++,o=this.sourceName,c=this.targetName,h=this.comObj;return new ReadableStream({start:p=>{const m=Promise.withResolvers();return this.streamControllers[r]={controller:p,startCall:m,pullCall:null,cancelCall:null,isClosed:!1},h.postMessage({sourceName:o,targetName:c,action:t,streamId:r,data:e,desiredSize:p.desiredSize},s),m.promise},pull:p=>{const m=Promise.withResolvers();return this.streamControllers[r].pullCall=m,h.postMessage({sourceName:o,targetName:c,stream:Fn.PULL,streamId:r,desiredSize:p.desiredSize}),m.promise},cancel:p=>{jn(p instanceof Error,"cancel must have a valid reason");const m=Promise.withResolvers();return this.streamControllers[r].cancelCall=m,this.streamControllers[r].isClosed=!0,h.postMessage({sourceName:o,targetName:c,stream:Fn.CANCEL,streamId:r,reason:ka(p)}),m.promise}},i)}destroy(){var t;(t=f(this,Pg))==null||t.abort(),M(this,Pg,null)}}Pg=new WeakMap,eo=new WeakSet,rx=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){B(this,eo,lx).call(this,t);return}if(t.callback){const i=t.callbackId,s=this.callbackCapabilities[i];if(!s)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],t.callback===k5.DATA)s.resolve(t.data);else if(t.callback===k5.ERROR)s.reject(ka(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const i=this.sourceName,s=t.sourceName,r=this.comObj;Promise.try(e,t.data).then(function(o){r.postMessage({sourceName:i,targetName:s,callback:k5.DATA,callbackId:t.callbackId,data:o})},function(o){r.postMessage({sourceName:i,targetName:s,callback:k5.ERROR,callbackId:t.callbackId,reason:ka(o)})});return}if(t.streamId){B(this,eo,ox).call(this,t);return}e(t.data)},ox=function(t){const e=t.streamId,i=this.sourceName,s=t.sourceName,r=this.comObj,o=this,c=this.actionHandler[t.action],h={enqueue(p,m=1,y){if(this.isCancelled)return;const A=this.desiredSize;this.desiredSize-=m,A>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:i,targetName:s,stream:Fn.ENQUEUE,streamId:e,chunk:p},y)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:i,targetName:s,stream:Fn.CLOSE,streamId:e}),delete o.streamSinks[e])},error(p){jn(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:i,targetName:s,stream:Fn.ERROR,streamId:e,reason:ka(p)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[e]=h,Promise.try(c,t.data,h).then(function(){r.postMessage({sourceName:i,targetName:s,stream:Fn.START_COMPLETE,streamId:e,success:!0})},function(p){r.postMessage({sourceName:i,targetName:s,stream:Fn.START_COMPLETE,streamId:e,reason:ka(p)})})},lx=function(t){const e=t.streamId,i=this.sourceName,s=t.sourceName,r=this.comObj,o=this.streamControllers[e],c=this.streamSinks[e];switch(t.stream){case Fn.START_COMPLETE:t.success?o.startCall.resolve():o.startCall.reject(ka(t.reason));break;case Fn.PULL_COMPLETE:t.success?o.pullCall.resolve():o.pullCall.reject(ka(t.reason));break;case Fn.PULL:if(!c){r.postMessage({sourceName:i,targetName:s,stream:Fn.PULL_COMPLETE,streamId:e,success:!0});break}c.desiredSize<=0&&t.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=t.desiredSize,Promise.try(c.onPull||y4).then(function(){r.postMessage({sourceName:i,targetName:s,stream:Fn.PULL_COMPLETE,streamId:e,success:!0})},function(p){r.postMessage({sourceName:i,targetName:s,stream:Fn.PULL_COMPLETE,streamId:e,reason:ka(p)})});break;case Fn.ENQUEUE:if(jn(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(t.chunk);break;case Fn.CLOSE:if(jn(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),B(this,eo,Z5).call(this,o,e);break;case Fn.ERROR:jn(o,"error should have stream controller"),o.controller.error(ka(t.reason)),B(this,eo,Z5).call(this,o,e);break;case Fn.CANCEL_COMPLETE:t.success?o.cancelCall.resolve():o.cancelCall.reject(ka(t.reason)),B(this,eo,Z5).call(this,o,e);break;case Fn.CANCEL:if(!c)break;const h=ka(t.reason);Promise.try(c.onCancel||y4,h).then(function(){r.postMessage({sourceName:i,targetName:s,stream:Fn.CANCEL_COMPLETE,streamId:e,success:!0})},function(p){r.postMessage({sourceName:i,targetName:s,stream:Fn.CANCEL_COMPLETE,streamId:e,reason:ka(p)})}),c.sinkCapability.reject(h),c.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},Z5=async function(t,e){var i,s,r;await Promise.allSettled([(i=t.startCall)==null?void 0:i.promise,(s=t.pullCall)==null?void 0:s.promise,(r=t.cancelCall)==null?void 0:r.promise]),delete this.streamControllers[e]};var Am;class ux{constructor({enableHWA:t=!1}){I(this,Am,!1);M(this,Am,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(t,e);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!f(this,Am)})}}reset(t,e,i){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=i}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Ti("Abstract method `_createCanvas` called.")}}Am=new WeakMap;class WC extends ux{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const i=this._document.createElement("canvas");return i.width=t,i.height=e,i}}class cx{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){Ti("Abstract method `_fetch` called.")}}class w4 extends cx{async _fetch(t){const e=await L2(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):N2(e)}}class hx{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,i,s,r){return"none"}destroy(t=!1){}}var bd,Og,Hu,Gu,Ys,yd,wd,oe,Gs,M0,ng,J5,sg,fx,Nw,ag,k0,D0,Lw,P0;class $C extends hx{constructor({docId:e,ownerDocument:i=globalThis.document}){super();I(this,oe);I(this,bd);I(this,Og);I(this,Hu);I(this,Gu);I(this,Ys);I(this,yd);I(this,wd,0);M(this,Gu,e),M(this,Ys,i)}addFilter(e){if(!e)return"none";let i=f(this,oe,Gs).get(e);if(i)return i;const[s,r,o]=B(this,oe,J5).call(this,e),c=e.length===1?s:`${s}${r}${o}`;if(i=f(this,oe,Gs).get(c),i)return f(this,oe,Gs).set(e,i),i;const h=`g_${f(this,Gu)}_transfer_map_${la(this,wd)._++}`,p=B(this,oe,sg).call(this,h);f(this,oe,Gs).set(e,p),f(this,oe,Gs).set(c,p);const m=B(this,oe,ag).call(this,h);return B(this,oe,D0).call(this,s,r,o,m),p}addHCMFilter(e,i){var N;const s=`${e}-${i}`,r="base";let o=f(this,oe,M0).get(r);if((o==null?void 0:o.key)===s||(o?((N=o.filter)==null||N.remove(),o.key=s,o.url="none",o.filter=null):(o={key:s,url:"none",filter:null},f(this,oe,M0).set(r,o)),!e||!i))return o.url;const c=B(this,oe,P0).call(this,e);e=we.makeHexColor(...c);const h=B(this,oe,P0).call(this,i);if(i=we.makeHexColor(...h),f(this,oe,ng).style.color="",e==="#000000"&&i==="#ffffff"||e===i)return o.url;const p=new Array(256);for(let E=0;E<=255;E++){const T=E/255;p[E]=T<=.03928?T/12.92:((T+.055)/1.055)**2.4}const m=p.join(","),y=`g_${f(this,Gu)}_hcm_filter`,A=o.filter=B(this,oe,ag).call(this,y);B(this,oe,D0).call(this,m,m,m,A),B(this,oe,Nw).call(this,A);const b=(E,T)=>{const L=c[E]/255,R=h[E]/255,k=new Array(T+1);for(let j=0;j<=T;j++)k[j]=L+j/T*(R-L);return k.join(",")};return B(this,oe,D0).call(this,b(0,5),b(1,5),b(2,5),A),o.url=B(this,oe,sg).call(this,y),o.url}addAlphaFilter(e){let i=f(this,oe,Gs).get(e);if(i)return i;const[s]=B(this,oe,J5).call(this,[e]),r=`alpha_${s}`;if(i=f(this,oe,Gs).get(r),i)return f(this,oe,Gs).set(e,i),i;const o=`g_${f(this,Gu)}_alpha_map_${la(this,wd)._++}`,c=B(this,oe,sg).call(this,o);f(this,oe,Gs).set(e,c),f(this,oe,Gs).set(r,c);const h=B(this,oe,ag).call(this,o);return B(this,oe,Lw).call(this,s,h),c}addLuminosityFilter(e){let i=f(this,oe,Gs).get(e||"luminosity");if(i)return i;let s,r;if(e?([s]=B(this,oe,J5).call(this,[e]),r=`luminosity_${s}`):r="luminosity",i=f(this,oe,Gs).get(r),i)return f(this,oe,Gs).set(e,i),i;const o=`g_${f(this,Gu)}_luminosity_map_${la(this,wd)._++}`,c=B(this,oe,sg).call(this,o);f(this,oe,Gs).set(e,c),f(this,oe,Gs).set(r,c);const h=B(this,oe,ag).call(this,o);return B(this,oe,fx).call(this,h),e&&B(this,oe,Lw).call(this,s,h),c}addHighlightHCMFilter(e,i,s,r,o){var R;const c=`${i}-${s}-${r}-${o}`;let h=f(this,oe,M0).get(e);if((h==null?void 0:h.key)===c||(h?((R=h.filter)==null||R.remove(),h.key=c,h.url="none",h.filter=null):(h={key:c,url:"none",filter:null},f(this,oe,M0).set(e,h)),!i||!s))return h.url;const[p,m]=[i,s].map(B(this,oe,P0).bind(this));let y=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),A=Math.round(.2126*m[0]+.7152*m[1]+.0722*m[2]),[b,N]=[r,o].map(B(this,oe,P0).bind(this));A<y&&([y,A,b,N]=[A,y,N,b]),f(this,oe,ng).style.color="";const E=(k,j,H)=>{const tt=new Array(256),Z=(A-y)/H,Q=k/255,et=(j-k)/(255*H);let ft=0;for(let q=0;q<=H;q++){const W=Math.round(y+q*Z),lt=Q+q*et;for(let nt=ft;nt<=W;nt++)tt[nt]=lt;ft=W+1}for(let q=ft;q<256;q++)tt[q]=tt[ft-1];return tt.join(",")},T=`g_${f(this,Gu)}_hcm_${e}_filter`,L=h.filter=B(this,oe,ag).call(this,T);return B(this,oe,Nw).call(this,L),B(this,oe,D0).call(this,E(b[0],N[0],5),E(b[1],N[1],5),E(b[2],N[2],5),L),h.url=B(this,oe,sg).call(this,T),h.url}destroy(e=!1){var i,s,r,o;e&&((i=f(this,yd))!=null&&i.size)||((s=f(this,Hu))==null||s.parentNode.parentNode.remove(),M(this,Hu,null),(r=f(this,Og))==null||r.clear(),M(this,Og,null),(o=f(this,yd))==null||o.clear(),M(this,yd,null),M(this,wd,0))}}bd=new WeakMap,Og=new WeakMap,Hu=new WeakMap,Gu=new WeakMap,Ys=new WeakMap,yd=new WeakMap,wd=new WeakMap,oe=new WeakSet,Gs=function(){return f(this,Og)||M(this,Og,new Map)},M0=function(){return f(this,yd)||M(this,yd,new Map)},ng=function(){if(!f(this,Hu)){const e=f(this,Ys).createElement("div"),{style:i}=e;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const s=f(this,Ys).createElementNS(Cu,"svg");s.setAttribute("width",0),s.setAttribute("height",0),M(this,Hu,f(this,Ys).createElementNS(Cu,"defs")),e.append(s),s.append(f(this,Hu)),f(this,Ys).body.append(e)}return f(this,Hu)},J5=function(e){if(e.length===1){const p=e[0],m=new Array(256);for(let A=0;A<256;A++)m[A]=p[A]/255;const y=m.join(",");return[y,y,y]}const[i,s,r]=e,o=new Array(256),c=new Array(256),h=new Array(256);for(let p=0;p<256;p++)o[p]=i[p]/255,c[p]=s[p]/255,h[p]=r[p]/255;return[o.join(","),c.join(","),h.join(",")]},sg=function(e){if(f(this,bd)===void 0){M(this,bd,"");const i=f(this,Ys).URL;i!==f(this,Ys).baseURI&&(ab(i)?Ie('#createUrl: ignore "data:"-URL for performance reasons.'):M(this,bd,S_(i,"")))}return`url(${f(this,bd)}#${e})`},fx=function(e){const i=f(this,Ys).createElementNS(Cu,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(i)},Nw=function(e){const i=f(this,Ys).createElementNS(Cu,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(i)},ag=function(e){const i=f(this,Ys).createElementNS(Cu,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",e),f(this,oe,ng).append(i),i},k0=function(e,i,s){const r=f(this,Ys).createElementNS(Cu,i);r.setAttribute("type","discrete"),r.setAttribute("tableValues",s),e.append(r)},D0=function(e,i,s,r){const o=f(this,Ys).createElementNS(Cu,"feComponentTransfer");r.append(o),B(this,oe,k0).call(this,o,"feFuncR",e),B(this,oe,k0).call(this,o,"feFuncG",i),B(this,oe,k0).call(this,o,"feFuncB",s)},Lw=function(e,i){const s=f(this,Ys).createElementNS(Cu,"feComponentTransfer");i.append(s),B(this,oe,k0).call(this,s,"feFuncA",e)},P0=function(e){return f(this,oe,ng).style.color=e,FA(getComputedStyle(f(this,oe,ng)).getPropertyValue("color"))};class dx{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){Ti("Abstract method `_fetch` called.")}}class A4 extends dx{async _fetch(t){const e=await L2(t,"arraybuffer");return new Uint8Array(e)}}class px{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){Ti("Abstract method `_fetch` called.")}}class S4 extends px{async _fetch(t){const e=await L2(t,"arraybuffer");return new Uint8Array(e)}}pa&&Ie("Please use the `legacy` build in Node.js environments.");async function BA(l){const e=await process.getBuiltinModule("fs").promises.readFile(l);return new Uint8Array(e)}class KC extends hx{}class QC extends ux{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class ZC extends cx{async _fetch(t){return BA(t)}}class JC extends dx{async _fetch(t){return BA(t)}}class t8 extends px{async _fetch(t){return BA(t)}}const Ns={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Cw(l,t){if(!t)return;const e=t[2]-t[0],i=t[3]-t[1],s=new Path2D;s.rect(t[0],t[1],e,i),l.clip(s)}class jA{isModifyingCurrentTransform(){return!1}getPattern(){Ti("Abstract method `getPattern` called.")}}class e8 extends jA{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)e.addColorStop(i[0],i[1]);return e}getPattern(t,e,i,s){let r;if(s===Ns.STROKE||s===Ns.FILL){const o=e.current.getClippedPathBoundingBox(s,hn(t))||[0,0,0,0],c=Math.ceil(o[2]-o[0])||1,h=Math.ceil(o[3]-o[1])||1,p=e.cachedCanvases.getCanvas("pattern",c,h),m=p.context;m.clearRect(0,0,m.canvas.width,m.canvas.height),m.beginPath(),m.rect(0,0,m.canvas.width,m.canvas.height),m.translate(-o[0],-o[1]),i=we.transform(i,[1,0,0,1,o[0],o[1]]),m.transform(...e.baseTransform),this.matrix&&m.transform(...this.matrix),Cw(m,this._bbox),m.fillStyle=this._createGradient(m),m.fill(),r=t.createPattern(p.canvas,"no-repeat");const y=new DOMMatrix(i);r.setTransform(y)}else Cw(t,this._bbox),r=this._createGradient(t);return r}}function jy(l,t,e,i,s,r,o,c){const h=t.coords,p=t.colors,m=l.data,y=l.width*4;let A;h[e+1]>h[i+1]&&(A=e,e=i,i=A,A=r,r=o,o=A),h[i+1]>h[s+1]&&(A=i,i=s,s=A,A=o,o=c,c=A),h[e+1]>h[i+1]&&(A=e,e=i,i=A,A=r,r=o,o=A);const b=(h[e]+t.offsetX)*t.scaleX,N=(h[e+1]+t.offsetY)*t.scaleY,E=(h[i]+t.offsetX)*t.scaleX,T=(h[i+1]+t.offsetY)*t.scaleY,L=(h[s]+t.offsetX)*t.scaleX,R=(h[s+1]+t.offsetY)*t.scaleY;if(N>=R)return;const k=p[r],j=p[r+1],H=p[r+2],tt=p[o],Z=p[o+1],Q=p[o+2],et=p[c],ft=p[c+1],q=p[c+2],W=Math.round(N),lt=Math.round(R);let nt,Tt,it,ct,dt,Lt,$,St;for(let P=W;P<=lt;P++){if(P<T){const bt=P<N?0:(N-P)/(N-T);nt=b-(b-E)*bt,Tt=k-(k-tt)*bt,it=j-(j-Z)*bt,ct=H-(H-Q)*bt}else{let bt;P>R?bt=1:T===R?bt=0:bt=(T-P)/(T-R),nt=E-(E-L)*bt,Tt=tt-(tt-et)*bt,it=Z-(Z-ft)*bt,ct=Q-(Q-q)*bt}let V;P<N?V=0:P>R?V=1:V=(N-P)/(N-R),dt=b-(b-L)*V,Lt=k-(k-et)*V,$=j-(j-ft)*V,St=H-(H-q)*V;const K=Math.round(Math.min(nt,dt)),at=Math.round(Math.max(nt,dt));let ut=y*P+K*4;for(let bt=K;bt<=at;bt++)V=(nt-bt)/(nt-dt),V<0?V=0:V>1&&(V=1),m[ut++]=Tt-(Tt-Lt)*V|0,m[ut++]=it-(it-$)*V|0,m[ut++]=ct-(ct-St)*V|0,m[ut++]=255}}function i8(l,t,e){const i=t.coords,s=t.colors;let r,o;switch(t.type){case"lattice":const c=t.verticesPerRow,h=Math.floor(i.length/c)-1,p=c-1;for(r=0;r<h;r++){let m=r*c;for(let y=0;y<p;y++,m++)jy(l,e,i[m],i[m+1],i[m+c],s[m],s[m+1],s[m+c]),jy(l,e,i[m+c+1],i[m+1],i[m+c],s[m+c+1],s[m+1],s[m+c])}break;case"triangles":for(r=0,o=i.length;r<o;r+=3)jy(l,e,i[r],i[r+1],i[r+2],s[r],s[r+1],s[r+2]);break;default:throw new Error("illegal figure")}}class n8 extends jA{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,i){const c=Math.floor(this._bounds[0]),h=Math.floor(this._bounds[1]),p=Math.ceil(this._bounds[2])-c,m=Math.ceil(this._bounds[3])-h,y=Math.min(Math.ceil(Math.abs(p*t[0]*1.1)),3e3),A=Math.min(Math.ceil(Math.abs(m*t[1]*1.1)),3e3),b=p/y,N=m/A,E={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-h,scaleX:1/b,scaleY:1/N},T=y+2*2,L=A+2*2,R=i.getCanvas("mesh",T,L),k=R.context,j=k.createImageData(y,A);if(e){const tt=j.data;for(let Z=0,Q=tt.length;Z<Q;Z+=4)tt[Z]=e[0],tt[Z+1]=e[1],tt[Z+2]=e[2],tt[Z+3]=255}for(const tt of this._figures)i8(j,tt,E);return k.putImageData(j,2,2),{canvas:R.canvas,offsetX:c-2*b,offsetY:h-2*N,scaleX:b,scaleY:N}}isModifyingCurrentTransform(){return!0}getPattern(t,e,i,s){Cw(t,this._bbox);const r=new Float32Array(2);if(s===Ns.SHADING)we.singularValueDecompose2dScale(hn(t),r);else if(this.matrix){we.singularValueDecompose2dScale(this.matrix,r);const[c,h]=r;we.singularValueDecompose2dScale(e.baseTransform,r),r[0]*=c,r[1]*=h}else we.singularValueDecompose2dScale(e.baseTransform,r);const o=this._createMeshCanvas(r,s===Ns.SHADING?null:this._background,e.cachedCanvases);return s!==Ns.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(o.offsetX,o.offsetY),t.scale(o.scaleX,o.scaleY),t.createPattern(o.canvas,"no-repeat")}}class s8 extends jA{getPattern(){return"hotpink"}}function a8(l){switch(l[0]){case"RadialAxial":return new e8(l);case"Mesh":return new n8(l);case"Dummy":return new s8}throw new Error(`Unknown IR type: ${l[0]}`)}const _4={COLORED:1,UNCOLORED:2},zv=class zv{constructor(t,e,i,s){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(t){const{bbox:e,operatorList:i,paintType:s,tilingType:r,color:o,canvasGraphicsFactory:c}=this;let{xstep:h,ystep:p}=this;h=Math.abs(h),p=Math.abs(p),sb("TilingType: "+r);const m=e[0],y=e[1],A=e[2],b=e[3],N=A-m,E=b-y,T=new Float32Array(2);we.singularValueDecompose2dScale(this.matrix,T);const[L,R]=T;we.singularValueDecompose2dScale(this.baseTransform,T);const k=L*T[0],j=R*T[1];let H=N,tt=E,Z=!1,Q=!1;const et=Math.ceil(h*k),ft=Math.ceil(p*j),q=Math.ceil(N*k),W=Math.ceil(E*j);et>=q?H=h:Z=!0,ft>=W?tt=p:Q=!0;const lt=this.getSizeAndScale(H,this.ctx.canvas.width,k),nt=this.getSizeAndScale(tt,this.ctx.canvas.height,j),Tt=t.cachedCanvases.getCanvas("pattern",lt.size,nt.size),it=Tt.context,ct=c.createCanvasGraphics(it);if(ct.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(ct,s,o),it.translate(-lt.scale*m,-nt.scale*y),ct.transform(lt.scale,0,0,nt.scale,0,0),it.save(),this.clipBbox(ct,m,y,A,b),ct.baseTransform=hn(ct.ctx),ct.executeOperatorList(i),ct.endDrawing(),it.restore(),Z||Q){const dt=Tt.canvas;Z&&(H=h),Q&&(tt=p);const Lt=this.getSizeAndScale(H,this.ctx.canvas.width,k),$=this.getSizeAndScale(tt,this.ctx.canvas.height,j),St=Lt.size,P=$.size,V=t.cachedCanvases.getCanvas("pattern-workaround",St,P),K=V.context,at=Z?Math.floor(N/h):0,ut=Q?Math.floor(E/p):0;for(let bt=0;bt<=at;bt++)for(let At=0;At<=ut;At++)K.drawImage(dt,St*bt,P*At,St,P,0,0,St,P);return{canvas:V.canvas,scaleX:Lt.scale,scaleY:$.scale,offsetX:m,offsetY:y}}return{canvas:Tt.canvas,scaleX:lt.scale,scaleY:nt.scale,offsetX:m,offsetY:y}}getSizeAndScale(t,e,i){const s=Math.max(zv.MAX_PATTERN_SIZE,e);let r=Math.ceil(t*i);return r>=s?r=s:i=r/t,{scale:i,size:r}}clipBbox(t,e,i,s,r){const o=s-e,c=r-i;t.ctx.rect(e,i,o,c),we.axialAlignedBoundingBox([e,i,s,r],hn(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,i){const s=t.ctx,r=t.current;switch(e){case _4.COLORED:const{fillStyle:o,strokeStyle:c}=this.ctx;s.fillStyle=r.fillColor=o,s.strokeStyle=r.strokeColor=c;break;case _4.UNCOLORED:s.fillStyle=s.strokeStyle=i,r.fillColor=r.strokeColor=i;break;default:throw new xC(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,i,s){let r=i;s!==Ns.SHADING&&(r=we.transform(r,e.baseTransform),this.matrix&&(r=we.transform(r,this.matrix)));const o=this.createPatternCanvas(e);let c=new DOMMatrix(r);c=c.translate(o.offsetX,o.offsetY),c=c.scale(1/o.scaleX,1/o.scaleY);const h=t.createPattern(o.canvas,"repeat");return h.setTransform(c),h}};Kt(zv,"MAX_PATTERN_SIZE",3e3);let Tw=zv;function r8({src:l,srcPos:t=0,dest:e,width:i,height:s,nonBlackColor:r=4294967295,inverseDecode:o=!1}){const c=Ts.isLittleEndian?4278190080:255,[h,p]=o?[r,c]:[c,r],m=i>>3,y=i&7,A=l.length;e=new Uint32Array(e.buffer);let b=0;for(let N=0;N<s;N++){for(const T=t+m;t<T;t++){const L=t<A?l[t]:255;e[b++]=L&128?p:h,e[b++]=L&64?p:h,e[b++]=L&32?p:h,e[b++]=L&16?p:h,e[b++]=L&8?p:h,e[b++]=L&4?p:h,e[b++]=L&2?p:h,e[b++]=L&1?p:h}if(y===0)continue;const E=t<A?l[t++]:255;for(let T=0;T<y;T++)e[b++]=E&1<<7-T?p:h}return{srcPos:t,destPos:b}}const x4=16,E4=100,o8=15,N4=10,Ia=16,zy=new DOMMatrix,xr=new Float32Array(2),cg=new Float32Array([1/0,1/0,-1/0,-1/0]);function l8(l,t){if(l._removeMirroring)throw new Error("Context is already forwarding operations.");l.__originalSave=l.save,l.__originalRestore=l.restore,l.__originalRotate=l.rotate,l.__originalScale=l.scale,l.__originalTranslate=l.translate,l.__originalTransform=l.transform,l.__originalSetTransform=l.setTransform,l.__originalResetTransform=l.resetTransform,l.__originalClip=l.clip,l.__originalMoveTo=l.moveTo,l.__originalLineTo=l.lineTo,l.__originalBezierCurveTo=l.bezierCurveTo,l.__originalRect=l.rect,l.__originalClosePath=l.closePath,l.__originalBeginPath=l.beginPath,l._removeMirroring=()=>{l.save=l.__originalSave,l.restore=l.__originalRestore,l.rotate=l.__originalRotate,l.scale=l.__originalScale,l.translate=l.__originalTranslate,l.transform=l.__originalTransform,l.setTransform=l.__originalSetTransform,l.resetTransform=l.__originalResetTransform,l.clip=l.__originalClip,l.moveTo=l.__originalMoveTo,l.lineTo=l.__originalLineTo,l.bezierCurveTo=l.__originalBezierCurveTo,l.rect=l.__originalRect,l.closePath=l.__originalClosePath,l.beginPath=l.__originalBeginPath,delete l._removeMirroring},l.save=function(){t.save(),this.__originalSave()},l.restore=function(){t.restore(),this.__originalRestore()},l.translate=function(e,i){t.translate(e,i),this.__originalTranslate(e,i)},l.scale=function(e,i){t.scale(e,i),this.__originalScale(e,i)},l.transform=function(e,i,s,r,o,c){t.transform(e,i,s,r,o,c),this.__originalTransform(e,i,s,r,o,c)},l.setTransform=function(e,i,s,r,o,c){t.setTransform(e,i,s,r,o,c),this.__originalSetTransform(e,i,s,r,o,c)},l.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},l.rotate=function(e){t.rotate(e),this.__originalRotate(e)},l.clip=function(e){t.clip(e),this.__originalClip(e)},l.moveTo=function(e,i){t.moveTo(e,i),this.__originalMoveTo(e,i)},l.lineTo=function(e,i){t.lineTo(e,i),this.__originalLineTo(e,i)},l.bezierCurveTo=function(e,i,s,r,o,c){t.bezierCurveTo(e,i,s,r,o,c),this.__originalBezierCurveTo(e,i,s,r,o,c)},l.rect=function(e,i,s,r){t.rect(e,i,s,r),this.__originalRect(e,i,s,r)},l.closePath=function(){t.closePath(),this.__originalClosePath()},l.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class u8{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,i){let s;return this.cache[t]!==void 0?(s=this.cache[t],this.canvasFactory.reset(s,e,i)):(s=this.canvasFactory.create(e,i),this.cache[t]=s),s}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function D5(l,t,e,i,s,r,o,c,h,p){const[m,y,A,b,N,E]=hn(l);if(y===0&&A===0){const R=o*m+N,k=Math.round(R),j=c*b+E,H=Math.round(j),tt=(o+h)*m+N,Z=Math.abs(Math.round(tt)-k)||1,Q=(c+p)*b+E,et=Math.abs(Math.round(Q)-H)||1;return l.setTransform(Math.sign(m),0,0,Math.sign(b),k,H),l.drawImage(t,e,i,s,r,0,0,Z,et),l.setTransform(m,y,A,b,N,E),[Z,et]}if(m===0&&b===0){const R=c*A+N,k=Math.round(R),j=o*y+E,H=Math.round(j),tt=(c+p)*A+N,Z=Math.abs(Math.round(tt)-k)||1,Q=(o+h)*y+E,et=Math.abs(Math.round(Q)-H)||1;return l.setTransform(0,Math.sign(y),Math.sign(A),0,k,H),l.drawImage(t,e,i,s,r,0,0,et,Z),l.setTransform(m,y,A,b,N,E),[et,Z]}l.drawImage(t,e,i,s,r,o,c,h,p);const T=Math.hypot(m,y),L=Math.hypot(A,b);return[T*h,L*p]}class L4{constructor(t,e){Kt(this,"alphaIsShape",!1);Kt(this,"fontSize",0);Kt(this,"fontSizeScale",1);Kt(this,"textMatrix",null);Kt(this,"textMatrixScale",1);Kt(this,"fontMatrix",sw);Kt(this,"leading",0);Kt(this,"x",0);Kt(this,"y",0);Kt(this,"lineX",0);Kt(this,"lineY",0);Kt(this,"charSpacing",0);Kt(this,"wordSpacing",0);Kt(this,"textHScale",1);Kt(this,"textRenderingMode",Hs.FILL);Kt(this,"textRise",0);Kt(this,"fillColor","#000000");Kt(this,"strokeColor","#000000");Kt(this,"patternFill",!1);Kt(this,"patternStroke",!1);Kt(this,"fillAlpha",1);Kt(this,"strokeAlpha",1);Kt(this,"lineWidth",1);Kt(this,"activeSMask",null);Kt(this,"transferMaps","none");this.clipBox=new Float32Array([0,0,t,e]),this.minMax=cg.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=Ns.FILL,e=null){const i=this.minMax.slice();if(t===Ns.STROKE){e||Ti("Stroke bounding box must include transform."),we.singularValueDecompose2dScale(e,xr);const s=xr[0]*this.lineWidth/2,r=xr[1]*this.lineWidth/2;i[0]-=s,i[1]-=r,i[2]+=s,i[3]+=r}return i}updateClipFromPath(){const t=we.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(cg,0)}getClippedPathBoundingBox(t=Ns.FILL,e=null){return we.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function C4(l,t){if(t instanceof ImageData){l.putImageData(t,0,0);return}const e=t.height,i=t.width,s=e%Ia,r=(e-s)/Ia,o=s===0?r:r+1,c=l.createImageData(i,Ia);let h=0,p;const m=t.data,y=c.data;let A,b,N,E;if(t.kind===H5.GRAYSCALE_1BPP){const T=m.byteLength,L=new Uint32Array(y.buffer,0,y.byteLength>>2),R=L.length,k=i+7>>3,j=4294967295,H=Ts.isLittleEndian?4278190080:255;for(A=0;A<o;A++){for(N=A<r?Ia:s,p=0,b=0;b<N;b++){const tt=T-h;let Z=0;const Q=tt>k?i:tt*8-7,et=Q&-8;let ft=0,q=0;for(;Z<et;Z+=8)q=m[h++],L[p++]=q&128?j:H,L[p++]=q&64?j:H,L[p++]=q&32?j:H,L[p++]=q&16?j:H,L[p++]=q&8?j:H,L[p++]=q&4?j:H,L[p++]=q&2?j:H,L[p++]=q&1?j:H;for(;Z<Q;Z++)ft===0&&(q=m[h++],ft=128),L[p++]=q&ft?j:H,ft>>=1}for(;p<R;)L[p++]=0;l.putImageData(c,0,A*Ia)}}else if(t.kind===H5.RGBA_32BPP){for(b=0,E=i*Ia*4,A=0;A<r;A++)y.set(m.subarray(h,h+E)),h+=E,l.putImageData(c,0,b),b+=Ia;A<o&&(E=i*s*4,y.set(m.subarray(h,h+E)),l.putImageData(c,0,b))}else if(t.kind===H5.RGB_24BPP)for(N=Ia,E=i*N,A=0;A<o;A++){for(A>=r&&(N=s,E=i*N),p=0,b=E;b--;)y[p++]=m[h++],y[p++]=m[h++],y[p++]=m[h++],y[p++]=255;l.putImageData(c,0,A*Ia)}else throw new Error(`bad image kind: ${t.kind}`)}function T4(l,t){if(t.bitmap){l.drawImage(t.bitmap,0,0);return}const e=t.height,i=t.width,s=e%Ia,r=(e-s)/Ia,o=s===0?r:r+1,c=l.createImageData(i,Ia);let h=0;const p=t.data,m=c.data;for(let y=0;y<o;y++){const A=y<r?Ia:s;({srcPos:h}=r8({src:p,srcPos:h,dest:m,width:i,height:A,nonBlackColor:0})),l.putImageData(c,0,y*Ia)}}function A0(l,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of e)l[i]!==void 0&&(t[i]=l[i]);l.setLineDash!==void 0&&(t.setLineDash(l.getLineDash()),t.lineDashOffset=l.lineDashOffset)}function P5(l){l.strokeStyle=l.fillStyle="#000000",l.fillRule="nonzero",l.globalAlpha=1,l.lineWidth=1,l.lineCap="butt",l.lineJoin="miter",l.miterLimit=10,l.globalCompositeOperation="source-over",l.font="10px sans-serif",l.setLineDash!==void 0&&(l.setLineDash([]),l.lineDashOffset=0);const{filter:t}=l;t!=="none"&&t!==""&&(l.filter="none")}function R4(l,t){if(t)return!0;we.singularValueDecompose2dScale(l,xr);const e=Math.fround(Vl.pixelRatio*ef.PDF_TO_CSS_UNITS);return xr[0]<=e&&xr[1]<=e}const c8=["butt","round","square"],h8=["miter","round","bevel"],f8={},M4={};var Vo,Rw,Mw,kw;const VA=class VA{constructor(t,e,i,s,r,{optionalContentConfig:o,markedContentStack:c=null},h,p){I(this,Vo);this.ctx=t,this.current=new L4(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=i,this.canvasFactory=s,this.filterFactory=r,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=o,this.cachedCanvases=new u8(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=h,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=p,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:i=!1,background:s=null}){const r=this.ctx.canvas.width,o=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,r,o),this.ctx.fillStyle=c,i){const h=this.cachedCanvases.getCanvas("transparent",r,o);this.compositeCtx=this.ctx,this.transparentCanvas=h.canvas,this.ctx=h.context,this.ctx.save(),this.ctx.transform(...hn(this.compositeCtx))}this.ctx.save(),P5(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=hn(this.ctx)}executeOperatorList(t,e,i,s){const r=t.argsArray,o=t.fnArray;let c=e||0;const h=r.length;if(h===c)return c;const p=h-c>N4&&typeof i=="function",m=p?Date.now()+o8:0;let y=0;const A=this.commonObjs,b=this.objs;let N;for(;;){if(s!==void 0&&c===s.nextBreakPoint)return s.breakIt(c,i),c;if(N=o[c],N!==_v.dependency)this[N].apply(this,r[c]);else for(const E of r[c]){const T=E.startsWith("g_")?A:b;if(!T.has(E))return T.get(E,i),c}if(c++,c===h)return c;if(p&&++y>N4){if(Date.now()>m)return i(),c;y=0}}}endDrawing(){B(this,Vo,Rw).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),B(this,Vo,Mw).call(this)}_scaleImage(t,e){const i=t.width??t.displayWidth,s=t.height??t.displayHeight;let r=Math.max(Math.hypot(e[0],e[1]),1),o=Math.max(Math.hypot(e[2],e[3]),1),c=i,h=s,p="prescale1",m,y;for(;r>2&&c>1||o>2&&h>1;){let A=c,b=h;r>2&&c>1&&(A=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),r/=c/A),o>2&&h>1&&(b=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,o/=h/b),m=this.cachedCanvases.getCanvas(p,A,b),y=m.context,y.clearRect(0,0,A,b),y.drawImage(t,0,0,c,h,0,0,A,b),t=m.canvas,c=A,h=b,p=p==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:c,paintHeight:h}}_createMaskCanvas(t){const e=this.ctx,{width:i,height:s}=t,r=this.current.fillColor,o=this.current.patternFill,c=hn(e);let h,p,m,y;if((t.bitmap||t.data)&&t.count>1){const et=t.bitmap||t.data.buffer;p=JSON.stringify(o?c:[c.slice(0,4),r]),h=this._cachedBitmapsMap.get(et),h||(h=new Map,this._cachedBitmapsMap.set(et,h));const ft=h.get(p);if(ft&&!o){const q=Math.round(Math.min(c[0],c[2])+c[4]),W=Math.round(Math.min(c[1],c[3])+c[5]);return{canvas:ft,offsetX:q,offsetY:W}}m=ft}m||(y=this.cachedCanvases.getCanvas("maskCanvas",i,s),T4(y.context,t));let A=we.transform(c,[1/i,0,0,-1/s,0,0]);A=we.transform(A,[1,0,0,1,0,-s]);const b=cg.slice();we.axialAlignedBoundingBox([0,0,i,s],A,b);const[N,E,T,L]=b,R=Math.round(T-N)||1,k=Math.round(L-E)||1,j=this.cachedCanvases.getCanvas("fillCanvas",R,k),H=j.context,tt=N,Z=E;H.translate(-tt,-Z),H.transform(...A),m||(m=this._scaleImage(y.canvas,Sl(H)),m=m.img,h&&o&&h.set(p,m)),H.imageSmoothingEnabled=R4(hn(H),t.interpolate),D5(H,m,0,0,m.width,m.height,0,0,i,s),H.globalCompositeOperation="source-in";const Q=we.transform(Sl(H),[1,0,0,1,-tt,-Z]);return H.fillStyle=o?r.getPattern(e,this,Q,Ns.FILL):r,H.fillRect(0,0,i,s),h&&!o&&(this.cachedCanvases.delete("fillCanvas"),h.set(p,j.canvas)),{canvas:j.canvas,offsetX:Math.round(tt),offsetY:Math.round(Z)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=c8[t]}setLineJoin(t){this.ctx.lineJoin=h8[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,i]of t)switch(e){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(i,t,e);this.suspendedCtx=this.ctx;const r=this.ctx=s.context;r.setTransform(this.suspendedCtx.getTransform()),A0(this.suspendedCtx,r),l8(r,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),A0(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,i,s){const r=s[0],o=s[1],c=s[2]-r,h=s[3]-o;c===0||h===0||(this.genericComposeSMask(e.context,i,c,h,e.subtype,e.backdrop,e.transferMap,r,o,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(i.canvas,0,0),t.restore())}genericComposeSMask(t,e,i,s,r,o,c,h,p,m,y){let A=t.canvas,b=h-m,N=p-y;if(o)if(b<0||N<0||b+i>A.width||N+s>A.height){const T=this.cachedCanvases.getCanvas("maskExtension",i,s),L=T.context;L.drawImage(A,-b,-N),L.globalCompositeOperation="destination-atop",L.fillStyle=o,L.fillRect(0,0,i,s),L.globalCompositeOperation="source-over",A=T.canvas,b=N=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const T=new Path2D;T.rect(b,N,i,s),t.clip(T),t.globalCompositeOperation="destination-atop",t.fillStyle=o,t.fillRect(b,N,i,s),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),r==="Alpha"&&c?e.filter=this.filterFactory.addAlphaFilter(c):r==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(c));const E=new Path2D;E.rect(h,p,i,s),e.clip(E),e.globalCompositeOperation="destination-in",e.drawImage(A,b,N,i,s,h,p,i,s),e.restore()}save(){this.inSMaskMode&&A0(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&A0(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,i,s,r,o){this.ctx.transform(t,e,i,s,r,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,i){let[s]=e;if(!i){s||(s=e[0]=new Path2D),this[t](s);return}if(!(s instanceof Path2D)){const r=e[0]=new Path2D;for(let o=0,c=s.length;o<c;)switch(s[o++]){case R5.moveTo:r.moveTo(s[o++],s[o++]);break;case R5.lineTo:r.lineTo(s[o++],s[o++]);break;case R5.curveTo:r.bezierCurveTo(s[o++],s[o++],s[o++],s[o++],s[o++],s[o++]);break;case R5.closePath:r.closePath();break;default:Ie(`Unrecognized drawing path operator: ${s[o-1]}`);break}s=r}we.axialAlignedBoundingBox(i,hn(this.ctx),this.current.minMax),this[t](s)}closePath(){this.ctx.closePath()}stroke(t,e=!0){const i=this.ctx,s=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&(s!=null&&s.getPattern)){const r=s.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=s.getPattern(i,this,Sl(i),Ns.STROKE),r){const o=new Path2D;o.addPath(t,i.getTransform().invertSelf().multiplySelf(r)),t=o}this.rescaleAndStroke(t,!1),i.restore()}else this.rescaleAndStroke(t,!0);e&&this.consumePath(t,this.current.getClippedPathBoundingBox(Ns.STROKE,hn(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(t){this.stroke(t)}fill(t,e=!0){const i=this.ctx,s=this.current.fillColor,r=this.current.patternFill;let o=!1;if(r){const h=s.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.fillStyle=s.getPattern(i,this,Sl(i),Ns.FILL),h){const p=new Path2D;p.addPath(t,i.getTransform().invertSelf().multiplySelf(h)),t=p}o=!0}const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(i.fill(t,"evenodd"),this.pendingEOFill=!1):i.fill(t)),o&&i.restore(),e&&this.consumePath(t,c)}eoFill(t){this.pendingEOFill=!0,this.fill(t)}fillStroke(t){this.fill(t,!1),this.stroke(t,!1),this.consumePath(t)}eoFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}closeFillStroke(t){this.fillStroke(t)}closeEOFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}endPath(t){this.consumePath(t)}rawFillPath(t){this.ctx.fill(t)}clip(){this.pendingClip=f8}eoClip(){this.pendingClip=M4}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0)return;const i=new Path2D,s=e.getTransform().invertSelf();for(const{transform:r,x:o,y:c,fontSize:h,path:p}of t)i.addPath(p,new DOMMatrix(r).preMultiplySelf(s).translate(o,c).scale(h,-h));e.clip(i),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var m;const i=this.commonObjs.get(t),s=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=i.fontMatrix||sw,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&Ie("Invalid font matrix for font "+t),e<0?(e=-e,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=e,i.isType3Font)return;const r=i.loadedName||"sans-serif",o=((m=i.systemFontInfo)==null?void 0:m.css)||`"${r}", ${i.fallbackName}`;let c="normal";i.black?c="900":i.bold&&(c="bold");const h=i.italic?"italic":"normal";let p=e;e<x4?p=x4:e>E4&&(p=E4),this.current.fontSizeScale=e/p,this.ctx.font=`${h} ${c} ${p}px ${o}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t){const{current:e}=this;e.textMatrix=t,e.textMatrixScale=Math.hypot(t[0],t[1]),e.x=e.lineX=0,e.y=e.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,i,s,r){const o=this.ctx,c=this.current,h=c.font,p=c.textRenderingMode,m=c.fontSize/c.fontSizeScale,y=p&Hs.FILL_STROKE_MASK,A=!!(p&Hs.ADD_TO_PATH_FLAG),b=c.patternFill&&!h.missingFile,N=c.patternStroke&&!h.missingFile;let E;if((h.disableFontFace||A||b||N)&&(E=h.getPathGenerator(this.commonObjs,t)),h.disableFontFace||b||N){o.save(),o.translate(e,i),o.scale(m,-m);let T;if((y===Hs.FILL||y===Hs.FILL_STROKE)&&(s?(T=o.getTransform(),o.setTransform(...s),o.fill(B(this,Vo,kw).call(this,E,T,s))):o.fill(E)),y===Hs.STROKE||y===Hs.FILL_STROKE)if(r){T||(T=o.getTransform()),o.setTransform(...r);const{a:L,b:R,c:k,d:j}=T,H=we.inverseTransform(r),tt=we.transform([L,R,k,j,0,0],H);we.singularValueDecompose2dScale(tt,xr),o.lineWidth*=Math.max(xr[0],xr[1])/m,o.stroke(B(this,Vo,kw).call(this,E,T,r))}else o.lineWidth/=m,o.stroke(E);o.restore()}else(y===Hs.FILL||y===Hs.FILL_STROKE)&&o.fillText(t,e,i),(y===Hs.STROKE||y===Hs.FILL_STROKE)&&o.strokeText(t,e,i);A&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:hn(o),x:e,y:i,fontSize:m,path:E})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let i=!1;for(let s=3;s<e.length;s+=4)if(e[s]>0&&e[s]<255){i=!0;break}return ei(this,"isFontSubpixelAAEnabled",i)}showText(t){const e=this.current,i=e.font;if(i.isType3Font)return this.showType3Text(t);const s=e.fontSize;if(s===0)return;const r=this.ctx,o=e.fontSizeScale,c=e.charSpacing,h=e.wordSpacing,p=e.fontDirection,m=e.textHScale*p,y=t.length,A=i.vertical,b=A?1:-1,N=i.defaultVMetrics,E=s*e.fontMatrix[0],T=e.textRenderingMode===Hs.FILL&&!i.disableFontFace&&!e.patternFill;r.save(),e.textMatrix&&r.transform(...e.textMatrix),r.translate(e.x,e.y+e.textRise),p>0?r.scale(m,-1):r.scale(m,1);let L,R;if(e.patternFill){r.save();const Z=e.fillColor.getPattern(r,this,Sl(r),Ns.FILL);L=hn(r),r.restore(),r.fillStyle=Z}if(e.patternStroke){r.save();const Z=e.strokeColor.getPattern(r,this,Sl(r),Ns.STROKE);R=hn(r),r.restore(),r.strokeStyle=Z}let k=e.lineWidth;const j=e.textMatrixScale;if(j===0||k===0){const Z=e.textRenderingMode&Hs.FILL_STROKE_MASK;(Z===Hs.STROKE||Z===Hs.FILL_STROKE)&&(k=this.getSinglePixelWidth())}else k/=j;if(o!==1&&(r.scale(o,o),k/=o),r.lineWidth=k,i.isInvalidPDFjsFont){const Z=[];let Q=0;for(const et of t)Z.push(et.unicode),Q+=et.width;r.fillText(Z.join(""),0,0),e.x+=Q*E*m,r.restore(),this.compose();return}let H=0,tt;for(tt=0;tt<y;++tt){const Z=t[tt];if(typeof Z=="number"){H+=b*Z*s/1e3;continue}let Q=!1;const et=(Z.isSpace?h:0)+c,ft=Z.fontChar,q=Z.accent;let W,lt,nt=Z.width;if(A){const it=Z.vmetric||N,ct=-(Z.vmetric?it[1]:nt*.5)*E,dt=it[2]*E;nt=it?-it[0]:nt,W=ct/o,lt=(H+dt)/o}else W=H/o,lt=0;if(i.remeasure&&nt>0){const it=r.measureText(ft).width*1e3/s*o;if(nt<it&&this.isFontSubpixelAAEnabled){const ct=nt/it;Q=!0,r.save(),r.scale(ct,1),W/=ct}else nt!==it&&(W+=(nt-it)/2e3*s/o)}if(this.contentVisible&&(Z.isInFont||i.missingFile)){if(T&&!q)r.fillText(ft,W,lt);else if(this.paintChar(ft,W,lt,L,R),q){const it=W+s*q.offset.x/o,ct=lt-s*q.offset.y/o;this.paintChar(q.fontChar,it,ct,L,R)}}const Tt=A?nt*E-et*p:nt*E+et*p;H+=Tt,Q&&r.restore()}A?e.y-=H:e.x+=H*m,r.restore(),this.compose()}showType3Text(t){const e=this.ctx,i=this.current,s=i.font,r=i.fontSize,o=i.fontDirection,c=s.vertical?1:-1,h=i.charSpacing,p=i.wordSpacing,m=i.textHScale*o,y=i.fontMatrix||sw,A=t.length,b=i.textRenderingMode===Hs.INVISIBLE;let N,E,T,L;if(!(b||r===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),i.textMatrix&&e.transform(...i.textMatrix),e.translate(i.x,i.y+i.textRise),e.scale(m,o),N=0;N<A;++N){if(E=t[N],typeof E=="number"){L=c*E*r/1e3,this.ctx.translate(L,0),i.x+=L*m;continue}const R=(E.isSpace?p:0)+h,k=s.charProcOperatorList[E.operatorListId];k?this.contentVisible&&(this.save(),e.scale(r,r),e.transform(...y),this.executeOperatorList(k),this.restore()):Ie(`Type3 character "${E.operatorListId}" is not available.`);const j=[E.width,0];we.applyTransform(j,y),T=j[0]*r+R,e.translate(T,0),i.x+=T*m}e.restore()}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,i,s,r,o){const c=new Path2D;c.rect(i,s,r-i,o-s),this.ctx.clip(c),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const i=this.baseTransform||hn(this.ctx),s={createCanvasGraphics:r=>new VA(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new Tw(t,this.ctx,s,i)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t){this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t){this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=a8(this.getObject(t)),this.cachedPatterns.set(t,i)),e&&(i.matrix=e),i}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const i=this._getPattern(t);e.fillStyle=i.getPattern(e,this,Sl(e),Ns.SHADING);const s=Sl(e);if(s){const{width:r,height:o}=e.canvas,c=cg.slice();we.axialAlignedBoundingBox([0,0,r,o],s,c);const[h,p,m,y]=c;this.ctx.fillRect(h,p,m-h,y-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Ti("Should not call beginInlineImage")}beginImageData(){Ti("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=hn(this.ctx),e)){we.axialAlignedBoundingBox(e,this.baseTransform,this.current.minMax);const[i,s,r,o]=e,c=new Path2D;c.rect(i,s,r-i,o-s),this.ctx.clip(c),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||sb("TODO: Support non-isolated groups."),t.knockout&&Ie("Knockout groups not supported.");const i=hn(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=cg.slice();we.axialAlignedBoundingBox(t.bbox,hn(e),s);const r=[0,0,e.canvas.width,e.canvas.height];s=we.intersect(s,r)||[0,0,0,0];const o=Math.floor(s[0]),c=Math.floor(s[1]),h=Math.max(Math.ceil(s[2])-o,1),p=Math.max(Math.ceil(s[3])-c,1);this.current.startNewPathAndClipBox([0,0,h,p]);let m="groupAt"+this.groupLevel;t.smask&&(m+="_smask_"+this.smaskCounter++%2);const y=this.cachedCanvases.getCanvas(m,h,p),A=y.context;A.translate(-o,-c),A.transform(...i);let b=new Path2D;const[N,E,T,L]=t.bbox;if(b.rect(N,E,T-N,L-E),t.matrix){const R=new Path2D;R.addPath(b,new DOMMatrix(t.matrix)),b=R}A.clip(b),t.smask?this.smaskStack.push({canvas:y.canvas,context:A,offsetX:o,offsetY:c,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(o,c),e.save()),A0(e,A),this.ctx=A,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const s=hn(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...s);const r=cg.slice();we.axialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],s,r),this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(r)}}beginAnnotation(t,e,i,s,r){if(B(this,Vo,Rw).call(this),P5(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const o=e[2]-e[0],c=e[3]-e[1];if(r&&this.annotationCanvasMap){i=i.slice(),i[4]-=e[0],i[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=o,e[3]=c,we.singularValueDecompose2dScale(hn(this.ctx),xr);const{viewportScale:h}=this,p=Math.ceil(o*this.outputScaleX*h),m=Math.ceil(c*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(p,m);const{canvas:y,context:A}=this.annotationCanvas;this.annotationCanvasMap.set(t,y),this.annotationCanvas.savedCtx=this.ctx,this.ctx=A,this.ctx.save(),this.ctx.setTransform(xr[0],0,0,-xr[1],0,c*xr[1]),P5(this.ctx)}else{P5(this.ctx),this.endPath();const h=new Path2D;h.rect(e[0],e[1],o,c),this.ctx.clip(h)}}this.current=new L4(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),B(this,Vo,Mw).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const i=this.ctx,s=this._createMaskCanvas(t),r=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(r,s.offsetX,s.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,i=0,s=0,r,o){if(!this.contentVisible)return;t=this.getObject(t.data,t);const c=this.ctx;c.save();const h=hn(c);c.transform(e,i,s,r,0,0);const p=this._createMaskCanvas(t);c.setTransform(1,0,0,1,p.offsetX-h[4],p.offsetY-h[5]);for(let m=0,y=o.length;m<y;m+=2){const A=we.transform(h,[e,i,s,r,o[m],o[m+1]]);c.drawImage(p.canvas,A[4],A[5])}c.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,i=this.current.fillColor,s=this.current.patternFill;for(const r of t){const{data:o,width:c,height:h,transform:p}=r,m=this.cachedCanvases.getCanvas("maskCanvas",c,h),y=m.context;y.save();const A=this.getObject(o,r);T4(y,A),y.globalCompositeOperation="source-in",y.fillStyle=s?i.getPattern(y,this,Sl(e),Ns.FILL):i,y.fillRect(0,0,c,h),y.restore(),e.save(),e.transform(...p),e.scale(1,-1),D5(e,m.canvas,0,0,c,h,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){Ie("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,i,s){if(!this.contentVisible)return;const r=this.getObject(t);if(!r){Ie("Dependent image isn't ready yet");return}const o=r.width,c=r.height,h=[];for(let p=0,m=s.length;p<m;p+=2)h.push({transform:[e,0,0,i,s[p],s[p+1]],x:0,y:0,w:o,h:c});this.paintInlineImageXObjectGroup(r,h)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:i,height:s}=t,r=this.cachedCanvases.getCanvas("inlineImage",i,s),o=r.context;return o.filter=this.current.transferMaps,o.drawImage(e,0,0),o.filter="none",r.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,i=t.height,s=this.ctx;this.save();const{filter:r}=s;r!=="none"&&r!==""&&(s.filter="none"),s.scale(1/e,-1/i);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const p=this.cachedCanvases.getCanvas("inlineImage",e,i).context;C4(p,t),o=this.applyTransferMapsToCanvas(p)}const c=this._scaleImage(o,Sl(s));s.imageSmoothingEnabled=R4(hn(s),t.interpolate),D5(s,c.img,0,0,c.paintWidth,c.paintHeight,0,-i,e,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const i=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const r=t.width,o=t.height,h=this.cachedCanvases.getCanvas("inlineImage",r,o).context;C4(h,t),s=this.applyTransferMapsToCanvas(h)}for(const r of e)i.save(),i.transform(...r.transform),i.scale(1,-1),D5(i,s,r.x,r.y,r.w,r.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t,e){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const s=this.ctx;this.pendingClip&&(i||(this.pendingClip===M4?s.clip(t,"evenodd"):s.clip(t)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=hn(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),i=Math.hypot(t[0],t[2]),s=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(i,s)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:i,c:s,d:r}=this.ctx.getTransform();let o,c;if(i===0&&s===0){const h=Math.abs(e),p=Math.abs(r);if(h===p)if(t===0)o=c=1/h;else{const m=h*t;o=c=m<1?1/m:1}else if(t===0)o=1/h,c=1/p;else{const m=h*t,y=p*t;o=m<1?1/m:1,c=y<1?1/y:1}}else{const h=Math.abs(e*r-i*s),p=Math.hypot(e,i),m=Math.hypot(s,r);if(t===0)o=m/h,c=p/h;else{const y=t*h;o=m>y?m/y:1,c=p>y?p/y:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:i,current:{lineWidth:s}}=this,[r,o]=this.getScaleForStroking();if(r===o){i.lineWidth=(s||1)*r,i.stroke(t);return}const c=i.getLineDash();e&&i.save(),i.scale(r,o),zy.a=1/r,zy.d=1/o;const h=new Path2D;if(h.addPath(t,zy),c.length>0){const p=Math.max(r,o);i.setLineDash(c.map(m=>m/p)),i.lineDashOffset/=p}i.lineWidth=s||1,i.stroke(h),e&&i.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};Vo=new WeakSet,Rw=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Mw=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}},kw=function(t,e,i){const s=new Path2D;return s.addPath(t,new DOMMatrix(i).invertSelf().multiplySelf(e)),s};let vg=VA;for(const l in _v)vg.prototype[l]!==void 0&&(vg.prototype[_v[l]]=vg.prototype[l]);var Sm,_m;class lc{static get workerPort(){return f(this,Sm)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");M(this,Sm,t)}static get workerSrc(){return f(this,_m)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");M(this,_m,t)}}Sm=new WeakMap,_m=new WeakMap,I(lc,Sm,null),I(lc,_m,"");var Fg,xm;class d8{constructor({parsedData:t,rawData:e}){I(this,Fg);I(this,xm);M(this,Fg,t),M(this,xm,e)}getRaw(){return f(this,xm)}get(t){return f(this,Fg).get(t)??null}[Symbol.iterator](){return f(this,Fg).entries()}}Fg=new WeakMap,xm=new WeakMap;const rg=Symbol("INTERNAL");var Em,Nm,Lm,Ig;class p8{constructor(t,{name:e,intent:i,usage:s,rbGroups:r}){I(this,Em,!1);I(this,Nm,!1);I(this,Lm,!1);I(this,Ig,!0);M(this,Em,!!(t&_r.DISPLAY)),M(this,Nm,!!(t&_r.PRINT)),this.name=e,this.intent=i,this.usage=s,this.rbGroups=r}get visible(){if(f(this,Lm))return f(this,Ig);if(!f(this,Ig))return!1;const{print:t,view:e}=this.usage;return f(this,Em)?(e==null?void 0:e.viewState)!=="OFF":f(this,Nm)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,i=!1){t!==rg&&Ti("Internal method `_setVisible` called."),M(this,Lm,i),M(this,Ig,e)}}Em=new WeakMap,Nm=new WeakMap,Lm=new WeakMap,Ig=new WeakMap;var Th,Li,Bg,jg,Cm,Dw;class g8{constructor(t,e=_r.DISPLAY){I(this,Cm);I(this,Th,null);I(this,Li,new Map);I(this,Bg,null);I(this,jg,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,M(this,jg,t.order);for(const i of t.groups)f(this,Li).set(i.id,new p8(e,i));if(t.baseState==="OFF")for(const i of f(this,Li).values())i._setVisible(rg,!1);for(const i of t.on)f(this,Li).get(i)._setVisible(rg,!0);for(const i of t.off)f(this,Li).get(i)._setVisible(rg,!1);M(this,Bg,this.getHash())}}isVisible(t){if(f(this,Li).size===0)return!0;if(!t)return sb("Optional content group not defined."),!0;if(t.type==="OCG")return f(this,Li).has(t.id)?f(this,Li).get(t.id).visible:(Ie(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return B(this,Cm,Dw).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!f(this,Li).has(e))return Ie(`Optional content group not found: ${e}`),!0;if(f(this,Li).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!f(this,Li).has(e))return Ie(`Optional content group not found: ${e}`),!0;if(!f(this,Li).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!f(this,Li).has(e))return Ie(`Optional content group not found: ${e}`),!0;if(!f(this,Li).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!f(this,Li).has(e))return Ie(`Optional content group not found: ${e}`),!0;if(f(this,Li).get(e).visible)return!1}return!0}return Ie(`Unknown optional content policy ${t.policy}.`),!0}return Ie(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,i=!0){var r;const s=f(this,Li).get(t);if(!s){Ie(`Optional content group not found: ${t}`);return}if(i&&e&&s.rbGroups.length)for(const o of s.rbGroups)for(const c of o)c!==t&&((r=f(this,Li).get(c))==null||r._setVisible(rg,!1,!0));s._setVisible(rg,!!e,!0),M(this,Th,null)}setOCGState({state:t,preserveRB:e}){let i;for(const s of t){switch(s){case"ON":case"OFF":case"Toggle":i=s;continue}const r=f(this,Li).get(s);if(r)switch(i){case"ON":this.setVisibility(s,!0,e);break;case"OFF":this.setVisibility(s,!1,e);break;case"Toggle":this.setVisibility(s,!r.visible,e);break}}M(this,Th,null)}get hasInitialVisibility(){return f(this,Bg)===null||this.getHash()===f(this,Bg)}getOrder(){return f(this,Li).size?f(this,jg)?f(this,jg).slice():[...f(this,Li).keys()]:null}getGroup(t){return f(this,Li).get(t)||null}getHash(){if(f(this,Th)!==null)return f(this,Th);const t=new nx;for(const[e,i]of f(this,Li))t.update(`${e}:${i.visible}`);return M(this,Th,t.hexdigest())}[Symbol.iterator](){return f(this,Li).entries()}}Th=new WeakMap,Li=new WeakMap,Bg=new WeakMap,jg=new WeakMap,Cm=new WeakSet,Dw=function(t){const e=t.length;if(e<2)return!0;const i=t[0];for(let s=1;s<e;s++){const r=t[s];let o;if(Array.isArray(r))o=B(this,Cm,Dw).call(this,r);else if(f(this,Li).has(r))o=f(this,Li).get(r).visible;else return Ie(`Optional content group not found: ${r}`),!0;switch(i){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return i==="And"};class m8{constructor(t,{disableRange:e=!1,disableStream:i=!1}){jn(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:r,progressiveDone:o,contentDispositionFilename:c}=t;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=c,(r==null?void 0:r.length)>0){const h=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(h)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!e,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((h,p)=>{this._onReceiveData({begin:h,chunk:p})}),t.addProgressListener((h,p)=>{this._onProgress({loaded:h,total:p})}),t.addProgressiveReadListener(h=>{this._onReceiveData({chunk:h})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const i=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const s=this._rangeReaders.some(function(r){return r._begin!==t?!1:(r._enqueue(i),!0)});jn(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,i,s,r;t.total===void 0?(i=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||i.call(e,{loaded:t.loaded}):(r=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||r.call(s,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){jn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new v8(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new b8(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeReaders.slice(0))i.cancel(t);this._pdfDataRangeTransport.abort()}}class v8{constructor(t,e,i=!1,s=null){this._stream=t,this._done=i||!1,this._filename=PA(s)?s:null,this._queuedChunks=e||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class b8{constructor(t,e,i){this._stream=t,this._begin=e,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function y8(l){let t=!0,e=i("filename\\*","i").exec(l);if(e){e=e[1];let m=c(e);return m=unescape(m),m=h(m),m=p(m),r(m)}if(e=o(l),e){const m=p(e);return r(m)}if(e=i("filename","i").exec(l),e){e=e[1];let m=c(e);return m=p(m),r(m)}function i(m,y){return new RegExp("(?:^|;)\\s*"+m+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',y)}function s(m,y){if(m){if(!/^[\x00-\xFF]+$/.test(y))return y;try{const A=new TextDecoder(m,{fatal:!0}),b=N2(y);y=A.decode(b),t=!1}catch{}}return y}function r(m){return t&&/[\x80-\xff]/.test(m)&&(m=s("utf-8",m),t&&(m=s("iso-8859-1",m))),m}function o(m){const y=[];let A;const b=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(A=b.exec(m))!==null;){let[,E,T,L]=A;if(E=parseInt(E,10),E in y){if(E===0)break;continue}y[E]=[T,L]}const N=[];for(let E=0;E<y.length&&E in y;++E){let[T,L]=y[E];L=c(L),T&&(L=unescape(L),E===0&&(L=h(L))),N.push(L)}return N.join("")}function c(m){if(m.startsWith('"')){const y=m.slice(1).split('\\"');for(let A=0;A<y.length;++A){const b=y[A].indexOf('"');b!==-1&&(y[A]=y[A].slice(0,b),y.length=A+1),y[A]=y[A].replaceAll(/\\(.)/g,"$1")}m=y.join('"')}return m}function h(m){const y=m.indexOf("'");if(y===-1)return m;const A=m.slice(0,y),N=m.slice(y+1).replace(/^[^']*'/,"");return s(A,N)}function p(m){return!m.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(m)?m:m.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(y,A,b,N){if(b==="q"||b==="Q")return N=N.replaceAll("_"," "),N=N.replaceAll(/=([0-9a-fA-F]{2})/g,function(E,T){return String.fromCharCode(parseInt(T,16))}),s(A,N);try{N=atob(N)}catch{}return s(A,N)})}return""}function gx(l,t){const e=new Headers;if(!l||!t||typeof t!="object")return e;for(const i in t){const s=t[i];s!==void 0&&e.append(i,s)}return e}function rb(l){var t;return((t=URL.parse(l))==null?void 0:t.origin)??null}function mx({responseHeaders:l,isHttp:t,rangeChunkSize:e,disableRange:i}){const s={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(l.get("Content-Length"),10);return!Number.isInteger(r)||(s.suggestedLength=r,r<=2*e)||i||!t||l.get("Accept-Ranges")!=="bytes"||(l.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function vx(l){const t=l.get("Content-Disposition");if(t){let e=y8(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(PA(e))return e}return null}function R2(l,t){return new xv(`Unexpected server response (${l}) while retrieving PDF "${t}".`,l,l===404||l===0&&t.startsWith("file:"))}function bx(l){return l===200||l===206}function yx(l,t,e){return{method:"GET",headers:l,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function wx(l){return l instanceof Uint8Array?l.buffer:l instanceof ArrayBuffer?l:(Ie(`getArrayBuffer - unexpected data format: ${l}`),new Uint8Array(l).buffer)}class w8{constructor(t){Kt(this,"_responseOrigin",null);this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=gx(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return jn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new A8(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new S8(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class A8{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const i=new Headers(t.headers),s=e.url;fetch(s,yx(i,this._withCredentials,this._abortController)).then(r=>{if(t._responseOrigin=rb(r.url),!bx(r.status))throw R2(r.status,s);this._reader=r.body.getReader(),this._headersCapability.resolve();const o=r.headers,{allowRangeRequests:c,suggestedLength:h}=mx({responseHeaders:o,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=h||this._contentLength,this._filename=vx(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new tf("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:wx(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class S8{constructor(t,e,i){this._stream=t,this._reader=null,this._loaded=0;const s=t.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const r=new Headers(t.headers);r.append("Range",`bytes=${e}-${i-1}`);const o=s.url;fetch(o,yx(r,this._withCredentials,this._abortController)).then(c=>{const h=rb(c.url);if(h!==t._responseOrigin)throw new Error(`Expected range response-origin "${h}" to match "${t._responseOrigin}".`);if(!bx(c.status))throw R2(c.status,o);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:wx(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const qy=200,Uy=206;function _8(l){const t=l.response;return typeof t!="string"?t:N2(t).buffer}class x8{constructor({url:t,httpHeaders:e,withCredentials:i}){Kt(this,"_responseOrigin",null);this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=gx(this.isHttp,e),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,i=this.currXhrId++,s=this.pendingRequests[i]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[r,o]of this.headers)e.setRequestHeader(r,o);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),s.expectedStatus=Uy):s.expectedStatus=qy,e.responseType="arraybuffer",jn(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,i),e.onprogress=this.onProgress.bind(this,i),s.onHeadersReceived=t.onHeadersReceived,s.onDone=t.onDone,s.onError=t.onError,s.onProgress=t.onProgress,e.send(null),i}onProgress(t,e){var s;const i=this.pendingRequests[t];i&&((s=i.onProgress)==null||s.call(i,e))}onStateChange(t,e){const i=this.pendingRequests[t];if(!i)return;const s=i.xhr;if(s.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),s.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],s.status===0&&this.isHttp){i.onError(s.status);return}const r=s.status||qy;if(!(r===qy&&i.expectedStatus===Uy)&&r!==i.expectedStatus){i.onError(s.status);return}const c=_8(s);if(r===Uy){const h=s.getResponseHeader("Content-Range"),p=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);p?i.onDone({begin:parseInt(p[1],10),chunk:c}):(Ie('Missing or invalid "Content-Range" header.'),i.onError(0))}else c?i.onDone({begin:0,chunk:c}):i.onError(s.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class E8{constructor(t){this._source=t,this._manager=new x8(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return jn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new N8(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const i=new L8(this._manager,t,e);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class N8{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=rb(e.responseURL);const i=e.getAllResponseHeaders(),s=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(c=>{const[h,...p]=c.split(": ");return[h,p.join(": ")]}):[]),{allowRangeRequests:r,suggestedLength:o}=mx({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=vx(s),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=R2(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class L8{constructor(t,e,i){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var e;const t=rb((e=this._manager.getRequestXhr(this._requestId))==null?void 0:e.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??(this._storedError=R2(t,this._url));for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const C8=/^[a-z][a-z0-9\-+.]+:/i;function T8(l){if(C8.test(l))return new URL(l);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(l))}class R8{constructor(t){this.source=t,this.url=T8(t.url),jn(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return jn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new M8(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new k8(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class M8{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=R2(0,this._url.href)),this._storedError=s,this._headersCapability.reject(s)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new tf("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class k8{constructor(t,e,i){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const s=t.source;this._isStreamingSupported=!s.disableStream;const r=process.getBuiltinModule("fs");this._setReadableStream(r.createReadStream(this._url,{start:e,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const S0=Symbol("INITIAL_DATA");var dr,Tm,Pw;class Ax{constructor(){I(this,Tm);I(this,dr,Object.create(null))}get(t,e=null){if(e){const s=B(this,Tm,Pw).call(this,t);return s.promise.then(()=>e(s.data)),null}const i=f(this,dr)[t];if(!i||i.data===S0)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return i.data}has(t){const e=f(this,dr)[t];return!!e&&e.data!==S0}delete(t){const e=f(this,dr)[t];return!e||e.data===S0?!1:(delete f(this,dr)[t],!0)}resolve(t,e=null){const i=B(this,Tm,Pw).call(this,t);i.data=e,i.resolve()}clear(){var t;for(const e in f(this,dr)){const{data:i}=f(this,dr)[e];(t=i==null?void 0:i.bitmap)==null||t.close()}M(this,dr,Object.create(null))}*[Symbol.iterator](){for(const t in f(this,dr)){const{data:e}=f(this,dr)[t];e!==S0&&(yield[t,e])}}}dr=new WeakMap,Tm=new WeakSet,Pw=function(t){var e;return(e=f(this,dr))[t]||(e[t]={...Promise.withResolvers(),data:S0})};const D8=1e5,k4=30;var F4,Rh,Oa,Rm,Mm,Ad,Vu,km,Dm,Sd,zg,qg,Mh,Ug,Pm,Hg,_d,Om,Fm,Gg,xd,Im,kh,Vg,pc,Sx,_x,Ow,Lr,tv,Fw,xx,Ex;const Yn=class Yn{constructor({textContentSource:t,container:e,viewport:i}){I(this,pc);I(this,Rh,Promise.withResolvers());I(this,Oa,null);I(this,Rm,!1);I(this,Mm,!!((F4=globalThis.FontInspector)!=null&&F4.enabled));I(this,Ad,null);I(this,Vu,null);I(this,km,0);I(this,Dm,0);I(this,Sd,null);I(this,zg,null);I(this,qg,0);I(this,Mh,0);I(this,Ug,Object.create(null));I(this,Pm,[]);I(this,Hg,null);I(this,_d,[]);I(this,Om,new WeakMap);I(this,Fm,null);var h;if(t instanceof ReadableStream)M(this,Hg,t);else if(typeof t=="object")M(this,Hg,new ReadableStream({start(p){p.enqueue(t),p.close()}}));else throw new Error('No "textContentSource" parameter specified.');M(this,Oa,M(this,zg,e)),M(this,Mh,i.scale*Vl.pixelRatio),M(this,qg,i.rotation),M(this,Vu,{div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:r,pageX:o,pageY:c}=i.rawDims;M(this,Fm,[1,0,0,-1,-o,c+r]),M(this,Dm,s),M(this,km,r),B(h=Yn,Lr,xx).call(h),ap(e,i),f(this,Rh).promise.finally(()=>{f(Yn,Vg).delete(this),M(this,Vu,null),M(this,Ug,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Ts.platform;return ei(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{f(this,Sd).read().then(({value:e,done:i})=>{if(i){f(this,Rh).resolve();return}f(this,Ad)??M(this,Ad,e.lang),Object.assign(f(this,Ug),e.styles),B(this,pc,Sx).call(this,e.items),t()},f(this,Rh).reject)};return M(this,Sd,f(this,Hg).getReader()),f(Yn,Vg).add(this),t(),f(this,Rh).promise}update({viewport:t,onBefore:e=null}){var r;const i=t.scale*Vl.pixelRatio,s=t.rotation;if(s!==f(this,qg)&&(e==null||e(),M(this,qg,s),ap(f(this,zg),{rotation:s})),i!==f(this,Mh)){e==null||e(),M(this,Mh,i);const o={div:null,properties:null,ctx:B(r=Yn,Lr,tv).call(r,f(this,Ad))};for(const c of f(this,_d))o.properties=f(this,Om).get(c),o.div=c,B(this,pc,Ow).call(this,o)}}cancel(){var e;const t=new tf("TextLayer task cancelled.");(e=f(this,Sd))==null||e.cancel(t).catch(()=>{}),M(this,Sd,null),f(this,Rh).reject(t)}get textDivs(){return f(this,_d)}get textContentItemsStr(){return f(this,Pm)}static cleanup(){if(!(f(this,Vg).size>0)){f(this,Gg).clear();for(const{canvas:t}of f(this,xd).values())t.remove();f(this,xd).clear()}}};Rh=new WeakMap,Oa=new WeakMap,Rm=new WeakMap,Mm=new WeakMap,Ad=new WeakMap,Vu=new WeakMap,km=new WeakMap,Dm=new WeakMap,Sd=new WeakMap,zg=new WeakMap,qg=new WeakMap,Mh=new WeakMap,Ug=new WeakMap,Pm=new WeakMap,Hg=new WeakMap,_d=new WeakMap,Om=new WeakMap,Fm=new WeakMap,Gg=new WeakMap,xd=new WeakMap,Im=new WeakMap,kh=new WeakMap,Vg=new WeakMap,pc=new WeakSet,Sx=function(t){var s,r;if(f(this,Rm))return;(r=f(this,Vu)).ctx??(r.ctx=B(s=Yn,Lr,tv).call(s,f(this,Ad)));const e=f(this,_d),i=f(this,Pm);for(const o of t){if(e.length>D8){Ie("Ignoring additional textDivs for performance reasons."),M(this,Rm,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const c=f(this,Oa);M(this,Oa,document.createElement("span")),f(this,Oa).classList.add("markedContent"),o.id!==null&&f(this,Oa).setAttribute("id",`${o.id}`),c.append(f(this,Oa))}else o.type==="endMarkedContent"&&M(this,Oa,f(this,Oa).parentNode);continue}i.push(o.str),B(this,pc,_x).call(this,o)}},_x=function(t){var E;const e=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};f(this,_d).push(e);const s=we.transform(f(this,Fm),t.transform);let r=Math.atan2(s[1],s[0]);const o=f(this,Ug)[t.fontName];o.vertical&&(r+=Math.PI/2);let c=f(this,Mm)&&o.fontSubstitution||o.fontFamily;c=Yn.fontFamilyMap.get(c)||c;const h=Math.hypot(s[2],s[3]),p=h*B(E=Yn,Lr,Ex).call(E,c,o,f(this,Ad));let m,y;r===0?(m=s[4],y=s[5]-p):(m=s[4]+p*Math.sin(r),y=s[5]-p*Math.cos(r));const A="calc(var(--total-scale-factor) *",b=e.style;f(this,Oa)===f(this,zg)?(b.left=`${(100*m/f(this,Dm)).toFixed(2)}%`,b.top=`${(100*y/f(this,km)).toFixed(2)}%`):(b.left=`${A}${m.toFixed(2)}px)`,b.top=`${A}${y.toFixed(2)}px)`),b.fontSize=`${A}${(f(Yn,kh)*h).toFixed(2)}px)`,b.fontFamily=c,i.fontSize=h,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,f(this,Mm)&&(e.dataset.fontName=o.fontSubstitutionLoadedName||t.fontName),r!==0&&(i.angle=r*(180/Math.PI));let N=!1;if(t.str.length>1)N=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const T=Math.abs(t.transform[0]),L=Math.abs(t.transform[3]);T!==L&&Math.max(T,L)/Math.min(T,L)>1.5&&(N=!0)}if(N&&(i.canvasWidth=o.vertical?t.height:t.width),f(this,Om).set(e,i),f(this,Vu).div=e,f(this,Vu).properties=i,B(this,pc,Ow).call(this,f(this,Vu)),i.hasText&&f(this,Oa).append(e),i.hasEOL){const T=document.createElement("br");T.setAttribute("role","presentation"),f(this,Oa).append(T)}},Ow=function(t){var c;const{div:e,properties:i,ctx:s}=t,{style:r}=e;let o="";if(f(Yn,kh)>1&&(o=`scale(${1/f(Yn,kh)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:h}=r,{canvasWidth:p,fontSize:m}=i;B(c=Yn,Lr,Fw).call(c,s,m*f(this,Mh),h);const{width:y}=s.measureText(e.textContent);y>0&&(o=`scaleX(${p*f(this,Mh)/y}) ${o}`)}i.angle!==0&&(o=`rotate(${i.angle}deg) ${o}`),o.length>0&&(r.transform=o)},Lr=new WeakSet,tv=function(t=null){let e=f(this,xd).get(t||(t=""));if(!e){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=t,document.body.append(i),e=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),f(this,xd).set(t,e),f(this,Im).set(e,{size:0,family:""})}return e},Fw=function(t,e,i){const s=f(this,Im).get(t);e===s.size&&i===s.family||(t.font=`${e}px ${i}`,s.size=e,s.family=i)},xx=function(){if(f(this,kh)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),M(this,kh,t.getBoundingClientRect().height),t.remove()},Ex=function(t,e,i){const s=f(this,Gg).get(t);if(s)return s;const r=B(this,Lr,tv).call(this,i);r.canvas.width=r.canvas.height=k4,B(this,Lr,Fw).call(this,r,k4,t);const o=r.measureText(""),c=o.fontBoundingBoxAscent,h=Math.abs(o.fontBoundingBoxDescent);r.canvas.width=r.canvas.height=0;let p=.8;return c?p=c/(c+h):(Ts.platform.isFirefox&&Ie("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?p=e.ascent:e.descent&&(p=1+e.descent)),f(this,Gg).set(t,p),p},I(Yn,Lr),I(Yn,Gg,new Map),I(Yn,xd,new Map),I(Yn,Im,new WeakMap),I(Yn,kh,null),I(Yn,Vg,new Set);let X0=Yn;class W0{static textContent(t){const e=[],i={items:e,styles:Object.create(null)};function s(r){var h;if(!r)return;let o=null;const c=r.name;if(c==="#text")o=r.value;else if(W0.shouldBuildText(c))(h=r==null?void 0:r.attributes)!=null&&h.textContent?o=r.attributes.textContent:r.value&&(o=r.value);else return;if(o!==null&&e.push({str:o}),!!r.children)for(const p of r.children)s(p)}return s(t),i}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const P8=100;function Nx(l={}){typeof l=="string"||l instanceof URL?l={url:l}:(l instanceof ArrayBuffer||ArrayBuffer.isView(l))&&(l={data:l});const t=new Iw,{docId:e}=t,i=l.url?HC(l.url):null,s=l.data?GC(l.data):null,r=l.httpHeaders||null,o=l.withCredentials===!0,c=l.password??null,h=l.range instanceof Lx?l.range:null,p=Number.isInteger(l.rangeChunkSize)&&l.rangeChunkSize>0?l.rangeChunkSize:2**16;let m=l.worker instanceof $0?l.worker:null;const y=l.verbosity,A=typeof l.docBaseUrl=="string"&&!ab(l.docBaseUrl)?l.docBaseUrl:null,b=M5(l.cMapUrl),N=l.cMapPacked!==!1,E=l.CMapReaderFactory||(pa?ZC:w4),T=M5(l.iccUrl),L=M5(l.standardFontDataUrl),R=l.StandardFontDataFactory||(pa?JC:A4),k=M5(l.wasmUrl),j=l.WasmFactory||(pa?t8:S4),H=l.stopAtErrors!==!0,tt=Number.isInteger(l.maxImageSize)&&l.maxImageSize>-1?l.maxImageSize:-1,Z=l.isEvalSupported!==!1,Q=typeof l.isOffscreenCanvasSupported=="boolean"?l.isOffscreenCanvasSupported:!pa,et=typeof l.isImageDecoderSupported=="boolean"?l.isImageDecoderSupported:!pa&&(Ts.platform.isFirefox||!globalThis.chrome),ft=Number.isInteger(l.canvasMaxAreaInBytes)?l.canvasMaxAreaInBytes:-1,q=typeof l.disableFontFace=="boolean"?l.disableFontFace:pa,W=l.fontExtraProperties===!0,lt=l.enableXfa===!0,nt=l.ownerDocument||globalThis.document,Tt=l.disableRange===!0,it=l.disableStream===!0,ct=l.disableAutoFetch===!0,dt=l.pdfBug===!0,Lt=l.CanvasFactory||(pa?QC:WC),$=l.FilterFactory||(pa?KC:$C),St=l.enableHWA===!0,P=l.useWasm!==!1,V=h?h.length:l.length??NaN,K=typeof l.useSystemFonts=="boolean"?l.useSystemFonts:!pa&&!q,at=typeof l.useWorkerFetch=="boolean"?l.useWorkerFetch:!!(E===w4&&R===A4&&j===S4&&b&&L&&k&&E0(b,document.baseURI)&&E0(L,document.baseURI)&&E0(k,document.baseURI)),ut=null;AC(y);const bt={canvasFactory:new Lt({ownerDocument:nt,enableHWA:St}),filterFactory:new $({docId:e,ownerDocument:nt}),cMapReaderFactory:at?null:new E({baseUrl:b,isCompressed:N}),standardFontDataFactory:at?null:new R({baseUrl:L}),wasmFactory:at?null:new j({baseUrl:k})};m||(m=$0.create({verbosity:y,port:lc.workerPort}),t._worker=m);const At={docId:e,apiVersion:"5.3.31",data:s,password:c,disableAutoFetch:ct,rangeChunkSize:p,length:V,docBaseUrl:A,enableXfa:lt,evaluatorOptions:{maxImageSize:tt,disableFontFace:q,ignoreErrors:H,isEvalSupported:Z,isOffscreenCanvasSupported:Q,isImageDecoderSupported:et,canvasMaxAreaInBytes:ft,fontExtraProperties:W,useSystemFonts:K,useWasm:P,useWorkerFetch:at,cMapUrl:b,iccUrl:T,standardFontDataUrl:L,wasmUrl:k}},Et={ownerDocument:nt,pdfBug:dt,styleElement:ut,loadingParams:{disableAutoFetch:ct,enableXfa:lt}};return m.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const Ut=m.messageHandler.sendWithPromise("GetDocRequest",At,s?[s.buffer]:null);let Vt;if(h)Vt=new m8(h,{disableRange:Tt,disableStream:it});else if(!s){if(!i)throw new Error("getDocument - no `url` parameter provided.");const Jt=E0(i)?w8:pa?R8:E8;Vt=new Jt({url:i,length:V,httpHeaders:r,withCredentials:o,rangeChunkSize:p,disableRange:Tt,disableStream:it})}return Ut.then(Jt=>{if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const Qt=new R0(e,Jt,m.port),ve=new I8(Qt,t,Vt,Et,bt);t._transport=ve,Qt.send("Ready",null)})}).catch(t._capability.reject),t}var qv;const Uv=class Uv{constructor(){Kt(this,"_capability",Promise.withResolvers());Kt(this,"_transport",null);Kt(this,"_worker",null);Kt(this,"docId",`d${la(Uv,qv)._++}`);Kt(this,"destroyed",!1);Kt(this,"onPassword",null);Kt(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var t,e,i,s;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(r){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,r}this._transport=null,(s=this._worker)==null||s.destroy(),this._worker=null}async getData(){return this._transport.getData()}};qv=new WeakMap,I(Uv,qv,0);let Iw=Uv;var Ed,Bm,jm,zm,qm;class Lx{constructor(t,e,i=!1,s=null){I(this,Ed,Promise.withResolvers());I(this,Bm,[]);I(this,jm,[]);I(this,zm,[]);I(this,qm,[]);this.length=t,this.initialData=e,this.progressiveDone=i,this.contentDispositionFilename=s}addRangeListener(t){f(this,qm).push(t)}addProgressListener(t){f(this,zm).push(t)}addProgressiveReadListener(t){f(this,jm).push(t)}addProgressiveDoneListener(t){f(this,Bm).push(t)}onDataRange(t,e){for(const i of f(this,qm))i(t,e)}onDataProgress(t,e){f(this,Ed).promise.then(()=>{for(const i of f(this,zm))i(t,e)})}onDataProgressiveRead(t){f(this,Ed).promise.then(()=>{for(const e of f(this,jm))e(t)})}onDataProgressiveDone(){f(this,Ed).promise.then(()=>{for(const t of f(this,Bm))t()})}transportReady(){f(this,Ed).resolve()}requestDataRange(t,e){Ti("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}Ed=new WeakMap,Bm=new WeakMap,jm=new WeakMap,zm=new WeakMap,qm=new WeakMap;class O8{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return ei(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Yu,Nd,O0;class F8{constructor(t,e,i,s=!1){I(this,Nd);I(this,Yu,!1);this._pageIndex=t,this._pageInfo=e,this._transport=i,this._stats=s?new v4:null,this._pdfBug=s,this.commonObjs=i.commonObjs,this.objs=new Ax,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:i=0,offsetY:s=0,dontFlip:r=!1}={}){return new C2({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:s,dontFlip:r})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return ei(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:i="display",annotationMode:s=dh.ENABLE,transform:r=null,background:o=null,optionalContentConfigPromise:c=null,annotationCanvasMap:h=null,pageColors:p=null,printAnnotationStorage:m=null,isEditing:y=!1}){var j,H;(j=this._stats)==null||j.time("Overall");const A=this._transport.getRenderingIntent(i,s,m,y),{renderingIntent:b,cacheKey:N}=A;M(this,Yu,!1),c||(c=this._transport.getOptionalContentConfig(b));let E=this._intentStates.get(N);E||(E=Object.create(null),this._intentStates.set(N,E)),E.streamReaderCancelTimeout&&(clearTimeout(E.streamReaderCancelTimeout),E.streamReaderCancelTimeout=null);const T=!!(b&_r.PRINT);E.displayReadyCapability||(E.displayReadyCapability=Promise.withResolvers(),E.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(H=this._stats)==null||H.time("Page Request"),this._pumpOperatorList(A));const L=tt=>{var Z;E.renderTasks.delete(R),T&&M(this,Yu,!0),B(this,Nd,O0).call(this),tt?(R.capability.reject(tt),this._abortOperatorList({intentState:E,reason:tt instanceof Error?tt:new Error(tt)})):R.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(Z=globalThis.Stats)!=null&&Z.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},R=new Bw({callback:L,params:{canvasContext:t,viewport:e,transform:r,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:h,operatorList:E.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!T,pdfBug:this._pdfBug,pageColors:p});(E.renderTasks||(E.renderTasks=new Set)).add(R);const k=R.task;return Promise.all([E.displayReadyCapability.promise,c]).then(([tt,Z])=>{var Q;if(this.destroyed){L();return}if((Q=this._stats)==null||Q.time("Rendering"),!(Z.renderingIntent&b))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");R.initializeGraphics({transparency:tt,optionalContentConfig:Z}),R.operatorListChanged()}).catch(L),k}getOperatorList({intent:t="display",annotationMode:e=dh.ENABLE,printAnnotationStorage:i=null,isEditing:s=!1}={}){var p;function r(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(h))}const o=this._transport.getRenderingIntent(t,e,i,s,!0);let c=this._intentStates.get(o.cacheKey);c||(c=Object.create(null),this._intentStates.set(o.cacheKey,c));let h;return c.opListReadCapability||(h=Object.create(null),h.operatorListChanged=r,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||(c.renderTasks=new Set)).add(h),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(p=this._stats)==null||p.time("Page Request"),this._pumpOperatorList(o)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>W0.textContent(i));const e=this.streamTextContent(t);return new Promise(function(i,s){function r(){o.read().then(function({value:h,done:p}){if(p){i(c);return}c.lang??(c.lang=h.lang),Object.assign(c.styles,h.styles),c.items.push(...h.items),r()},s)}const o=e.getReader(),c={items:[],styles:Object.create(null),lang:null};r()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const i of e.renderTasks)t.push(i.completed),i.cancel();return this.objs.clear(),M(this,Yu,!1),Promise.all(t)}cleanup(t=!1){M(this,Yu,!0);const e=B(this,Nd,O0).call(this);return t&&e&&this._stats&&(this._stats=new v4),e}_startRenderPage(t,e){var s,r;const i=this._intentStates.get(e);i&&((s=this._stats)==null||s.timeEnd("Page Request"),(r=i.displayReadyCapability)==null||r.resolve(t))}_renderPageChunk(t,e){for(let i=0,s=t.length;i<s;i++)e.operatorList.fnArray.push(t.fnArray[i]),e.operatorList.argsArray.push(t.argsArray[i]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const i of e.renderTasks)i.operatorListChanged();t.lastChunk&&B(this,Nd,O0).call(this)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:i,modifiedIds:s}){const{map:r,transfer:o}=i,h=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:r,modifiedIds:s},o).getReader(),p=this._intentStates.get(e);p.streamReader=h;const m=()=>{h.read().then(({value:y,done:A})=>{if(A){p.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(y,p),m())},y=>{if(p.streamReader=null,!this._transport.destroyed){if(p.operatorList){p.operatorList.lastChunk=!0;for(const A of p.renderTasks)A.operatorListChanged();B(this,Nd,O0).call(this)}if(p.displayReadyCapability)p.displayReadyCapability.reject(y);else if(p.opListReadCapability)p.opListReadCapability.reject(y);else throw y}})};m()}_abortOperatorList({intentState:t,reason:e,force:i=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(e instanceof DA){let s=P8;e.extraDelay>0&&e.extraDelay<1e3&&(s+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},s);return}}if(t.streamReader.cancel(new tf(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[s,r]of this._intentStates)if(r===t){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}Yu=new WeakMap,Nd=new WeakSet,O0=function(){if(!f(this,Yu)||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),M(this,Yu,!1),!0};var Dh,Do,Xu,Ld,Hv,Cd,Td,ma,ev,Cx,Tx,F0,Yg,iv;const tn=class tn{constructor({name:t=null,port:e=null,verbosity:i=SC()}={}){I(this,ma);I(this,Dh,Promise.withResolvers());I(this,Do,null);I(this,Xu,null);I(this,Ld,null);if(this.name=t,this.destroyed=!1,this.verbosity=i,e){if(f(tn,Td).has(e))throw new Error("Cannot use more than one PDFWorker per port.");f(tn,Td).set(e,this),B(this,ma,Cx).call(this,e)}else B(this,ma,Tx).call(this)}get promise(){return f(this,Dh).promise}get port(){return f(this,Xu)}get messageHandler(){return f(this,Do)}destroy(){var t,e;this.destroyed=!0,(t=f(this,Ld))==null||t.terminate(),M(this,Ld,null),f(tn,Td).delete(f(this,Xu)),M(this,Xu,null),(e=f(this,Do))==null||e.destroy(),M(this,Do,null)}static create(t){const e=f(this,Td).get(t==null?void 0:t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new tn(t)}static get workerSrc(){if(lc.workerSrc)return lc.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return ei(this,"_setupFakeWorkerGlobal",(async()=>f(this,Yg,iv)?f(this,Yg,iv):(await import(this.workerSrc)).WorkerMessageHandler)())}};Dh=new WeakMap,Do=new WeakMap,Xu=new WeakMap,Ld=new WeakMap,Hv=new WeakMap,Cd=new WeakMap,Td=new WeakMap,ma=new WeakSet,ev=function(){f(this,Dh).resolve(),f(this,Do).send("configure",{verbosity:this.verbosity})},Cx=function(t){M(this,Xu,t),M(this,Do,new R0("main","worker",t)),f(this,Do).on("ready",()=>{}),B(this,ma,ev).call(this)},Tx=function(){if(f(tn,Cd)||f(tn,Yg,iv)){B(this,ma,F0).call(this);return}let{workerSrc:t}=tn;try{tn._isSameOrigin(window.location,t)||(t=tn._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),i=new R0("main","worker",e),s=()=>{r.abort(),i.destroy(),e.terminate(),this.destroyed?f(this,Dh).reject(new Error("Worker was destroyed")):B(this,ma,F0).call(this)},r=new AbortController;e.addEventListener("error",()=>{f(this,Ld)||s()},{signal:r.signal}),i.on("test",c=>{if(r.abort(),this.destroyed||!c){s();return}M(this,Do,i),M(this,Xu,e),M(this,Ld,e),B(this,ma,ev).call(this)}),i.on("ready",c=>{if(r.abort(),this.destroyed){s();return}try{o()}catch{B(this,ma,F0).call(this)}});const o=()=>{const c=new Uint8Array;i.send("test",c,[c.buffer])};o();return}catch{sb("The worker has been disabled.")}B(this,ma,F0).call(this)},F0=function(){f(tn,Cd)||(Ie("Setting up fake worker."),M(tn,Cd,!0)),tn._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){f(this,Dh).reject(new Error("Worker was destroyed"));return}const e=new XC;M(this,Xu,e);const i=`fake${la(tn,Hv)._++}`,s=new R0(i+"_worker",i,e);t.setup(s,e),M(this,Do,new R0(i,i+"_worker",e)),B(this,ma,ev).call(this)}).catch(t=>{f(this,Dh).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},Yg=new WeakSet,iv=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},I(tn,Yg),I(tn,Hv,0),I(tn,Cd,!1),I(tn,Td,new WeakMap),pa&&(M(tn,Cd,!0),lc.workerSrc||(lc.workerSrc="./pdf.worker.mjs")),tn._isSameOrigin=(t,e)=>{const i=URL.parse(t);if(!(i!=null&&i.origin)||i.origin==="null")return!1;const s=new URL(e,i);return i.origin===s.origin},tn._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},tn.fromPort=t=>{if(PC("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return tn.create(t)};let $0=tn;var Wu,Ol,Xg,Wg,$u,Rd,I0;class I8{constructor(t,e,i,s,r){I(this,Rd);I(this,Wu,new Map);I(this,Ol,new Map);I(this,Xg,new Map);I(this,Wg,new Map);I(this,$u,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new Ax,this.fontLoader=new qC({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.wasmFactory=r.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return ei(this,"annotationStorage",new IA)}getRenderingIntent(t,e=dh.ENABLE,i=null,s=!1,r=!1){let o=_r.DISPLAY,c=xw;switch(t){case"any":o=_r.ANY;break;case"display":break;case"print":o=_r.PRINT;break;default:Ie(`getRenderingIntent - invalid intent: ${t}`)}const h=o&_r.PRINT&&i instanceof ax?i:this.annotationStorage;switch(e){case dh.DISABLE:o+=_r.ANNOTATIONS_DISABLE;break;case dh.ENABLE:break;case dh.ENABLE_FORMS:o+=_r.ANNOTATIONS_FORMS;break;case dh.ENABLE_STORAGE:o+=_r.ANNOTATIONS_STORAGE,c=h.serializable;break;default:Ie(`getRenderingIntent - invalid annotationMode: ${e}`)}s&&(o+=_r.IS_EDITING),r&&(o+=_r.OPLIST);const{ids:p,hash:m}=h.modifiedIds,y=[o,c.hash,m];return{renderingIntent:o,cacheKey:y.join("_"),annotationStorageSerializable:c,modifiedIds:p}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=f(this,$u))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const s of f(this,Ol).values())t.push(s._destroy());f(this,Ol).clear(),f(this,Xg).clear(),f(this,Wg).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var s,r;this.commonObjs.clear(),this.fontLoader.clear(),f(this,Wu).clear(),this.filterFactory.destroy(),X0.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new tf("Worker was terminated.")),(r=this.messageHandler)==null||r.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(i,s)=>{jn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},s.onPull=()=>{this._fullReader.read().then(function({value:r,done:o}){if(o){s.close();return}jn(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{s.error(r)})},s.onCancel=r=>{this._fullReader.cancel(r),s.ready.catch(o=>{if(!this.destroyed)throw o})}}),t.on("ReaderHeadersReady",async i=>{var c;await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:r,contentLength:o}=this._fullReader;return(!s||!r)&&(this._lastProgress&&((c=e.onProgress)==null||c.call(e,this._lastProgress)),this._fullReader.onProgress=h=>{var p;(p=e.onProgress)==null||p.call(e,{loaded:h.loaded,total:h.total})}),{isStreamingSupported:s,isRangeSupported:r,contentLength:o}}),t.on("GetRangeReader",(i,s)=>{jn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(i.begin,i.end);if(!r){s.close();return}s.onPull=()=>{r.read().then(function({value:o,done:c}){if(c){s.close();return}jn(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{s.error(o)})},s.onCancel=o=>{r.cancel(o),s.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,e._capability.resolve(new O8(i,this))}),t.on("DocException",i=>{e._capability.reject(ka(i))}),t.on("PasswordRequest",i=>{M(this,$u,Promise.withResolvers());try{if(!e.onPassword)throw ka(i);const s=r=>{r instanceof Error?f(this,$u).reject(r):f(this,$u).resolve({password:r})};e.onPassword(s,i.code)}catch(s){f(this,$u).reject(s)}return f(this,$u).promise}),t.on("DataLoaded",i=>{var s;(s=e.onProgress)==null||s.call(e,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),t.on("StartRenderPage",i=>{if(this.destroyed)return;f(this,Ol).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),t.on("commonobj",([i,s,r])=>{var o;if(this.destroyed||this.commonObjs.has(i))return null;switch(s){case"Font":if("error"in r){const m=r.error;Ie(`Error during font loading: ${m}`),this.commonObjs.resolve(i,m);break}const c=this._params.pdfBug&&((o=globalThis.FontInspector)!=null&&o.enabled)?(m,y)=>globalThis.FontInspector.fontAdded(m,y):null,h=new UC(r,c);this.fontLoader.bind(h).catch(()=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!h.fontExtraProperties&&h.data&&(h.data=null),this.commonObjs.resolve(i,h)});break;case"CopyLocalImage":const{imageRef:p}=r;jn(p,"The imageRef must be defined.");for(const m of f(this,Ol).values())for(const[,y]of m.objs)if((y==null?void 0:y.ref)===p)return y.dataLen?(this.commonObjs.resolve(i,structuredClone(y)),y.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,r);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),t.on("obj",([i,s,r,o])=>{var h;if(this.destroyed)return;const c=f(this,Ol).get(s);if(!c.objs.has(i)){if(c._intentStates.size===0){(h=o==null?void 0:o.bitmap)==null||h.close();return}switch(r){case"Image":case"Pattern":c.objs.resolve(i,o);break;default:throw new Error(`Got unknown object type ${r}`)}}}),t.on("DocProgress",i=>{var s;this.destroyed||(s=e.onProgress)==null||s.call(e,{loaded:i.loaded,total:i.total})}),t.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const s=this[i.type];if(!s)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return s.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&Ie("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((i=this._fullReader)==null?void 0:i.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,i=f(this,Xg).get(e);if(i)return i;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");r.refStr&&f(this,Wg).set(r.refStr,t);const o=new F8(e,r,this,this._params.pdfBug);return f(this,Ol).set(e,o),o});return f(this,Xg).set(e,s),s}getPageIndex(t){return Ew(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return B(this,Rd,I0).call(this,"GetFieldObjects")}hasJSActions(){return B(this,Rd,I0).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return B(this,Rd,I0).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return B(this,Rd,I0).call(this,"GetOptionalContentConfig").then(e=>new g8(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=f(this,Wu).get(t);if(e)return e;const i=this.messageHandler.sendWithPromise(t,null).then(s=>{var r,o;return{info:s[0],metadata:s[1]?new d8(s[1]):null,contentDispositionFilename:((r=this._fullReader)==null?void 0:r.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return f(this,Wu).set(t,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of f(this,Ol).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),f(this,Wu).clear(),this.filterFactory.destroy(!0),X0.cleanup()}}cachedPageNumber(t){if(!Ew(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return f(this,Wg).get(e)??null}}Wu=new WeakMap,Ol=new WeakMap,Xg=new WeakMap,Wg=new WeakMap,$u=new WeakMap,Rd=new WeakSet,I0=function(t,e=null){const i=f(this,Wu).get(t);if(i)return i;const s=this.messageHandler.sendWithPromise(t,e);return f(this,Wu).set(t,s),s};var Ph;class B8{constructor(t){I(this,Ph,null);Kt(this,"onContinue",null);Kt(this,"onError",null);M(this,Ph,t)}get promise(){return f(this,Ph).capability.promise}cancel(t=0){f(this,Ph).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=f(this,Ph).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=f(this,Ph);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}Ph=new WeakMap;var Oh,Md;const Qf=class Qf{constructor({callback:t,params:e,objs:i,commonObjs:s,annotationCanvasMap:r,operatorList:o,pageIndex:c,canvasFactory:h,filterFactory:p,useRequestAnimationFrame:m=!1,pdfBug:y=!1,pageColors:A=null}){I(this,Oh,null);this.callback=t,this.params=e,this.objs=i,this.commonObjs=s,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=c,this.canvasFactory=h,this.filterFactory=p,this._pdfBug=y,this.pageColors=A,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=m===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new B8(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var c,h;if(this.cancelled)return;if(this._canvas){if(f(Qf,Md).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");f(Qf,Md).add(this._canvas)}this._pdfBug&&((c=globalThis.StepperManager)!=null&&c.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:s,transform:r,background:o}=this.params;this.gfx=new vg(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:r,viewport:s,transparency:t,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(h=this.graphicsReadyCallback)==null||h.call(this)}cancel(t=null,e=0){var i,s,r;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),f(this,Oh)&&(window.cancelAnimationFrame(f(this,Oh)),M(this,Oh,null)),f(Qf,Md).delete(this._canvas),t||(t=new DA(`Rendering cancelled, page ${this._pageIndex+1}`,e)),this.callback(t),(r=(s=this.task).onError)==null||r.call(s,t)}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?M(this,Oh,window.requestAnimationFrame(()=>{M(this,Oh,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),f(Qf,Md).delete(this._canvas),this.callback())))}};Oh=new WeakMap,Md=new WeakMap,I(Qf,Md,new WeakSet);let Bw=Qf;const j8="5.3.31",z8="47ad820d9";function D4(l){return Math.floor(Math.max(0,Math.min(1,l))*255).toString(16).padStart(2,"0")}function _0(l){return Math.max(0,Math.min(255,255*l))}class P4{static CMYK_G([t,e,i,s]){return["G",1-Math.min(1,.3*t+.59*i+.11*e+s)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=_0(t),[t,t,t]}static G_HTML([t]){const e=D4(t);return`#${e}${e}${e}`}static RGB_G([t,e,i]){return["G",.3*t+.59*e+.11*i]}static RGB_rgb(t){return t.map(_0)}static RGB_HTML(t){return`#${t.map(D4).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,i,s]){return["RGB",1-Math.min(1,t+s),1-Math.min(1,i+s),1-Math.min(1,e+s)]}static CMYK_rgb([t,e,i,s]){return[_0(1-Math.min(1,t+s)),_0(1-Math.min(1,i+s)),_0(1-Math.min(1,e+s))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,i]){const s=1-t,r=1-e,o=1-i,c=Math.min(s,r,o);return["CMYK",s,r,o,c]}}class q8{create(t,e,i=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),i||(s.setAttribute("width",`${t}px`),s.setAttribute("height",`${e}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${t} ${e}`),s}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Ti("Abstract method `_createSVG` called.")}}class Lv extends q8{_createSVG(t){return document.createElementNS(Cu,t)}}class Rx{static setupStorage(t,e,i,s,r){const o=s.getValue(e,{value:null});switch(i.name){case"textarea":if(o.value!==null&&(t.textContent=o.value),r==="print")break;t.addEventListener("input",c=>{s.setValue(e,{value:c.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(o.value===i.attributes.xfaOn?t.setAttribute("checked",!0):o.value===i.attributes.xfaOff&&t.removeAttribute("checked"),r==="print")break;t.addEventListener("change",c=>{s.setValue(e,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&t.setAttribute("value",o.value),r==="print")break;t.addEventListener("input",c=>{s.setValue(e,{value:c.target.value})})}break;case"select":if(o.value!==null){t.setAttribute("value",o.value);for(const c of i.children)c.attributes.value===o.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}t.addEventListener("input",c=>{const h=c.target.options,p=h.selectedIndex===-1?"":h[h.selectedIndex].value;s.setValue(e,{value:p})});break}}static setAttributes({html:t,element:e,storage:i=null,intent:s,linkService:r}){const{attributes:o}=e,c=t instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${s}`);for(const[h,p]of Object.entries(o))if(p!=null)switch(h){case"class":p.length&&t.setAttribute(h,p.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",p);break;case"style":Object.assign(t.style,p);break;case"textContent":t.textContent=p;break;default:(!c||h!=="href"&&h!=="newWindow")&&t.setAttribute(h,p)}c&&r.addLinkAttributes(t,o.href,o.newWindow),i&&o.dataId&&this.setupStorage(t,o.dataId,e,i)}static render(t){var y,A;const e=t.annotationStorage,i=t.linkService,s=t.xfaHtml,r=t.intent||"display",o=document.createElement(s.name);s.attributes&&this.setAttributes({html:o,element:s,intent:r,linkService:i});const c=r!=="richText",h=t.div;if(h.append(o),t.viewport){const b=`matrix(${t.viewport.transform.join(",")})`;h.style.transform=b}c&&h.setAttribute("class","xfaLayer xfaFont");const p=[];if(s.children.length===0){if(s.value){const b=document.createTextNode(s.value);o.append(b),c&&W0.shouldBuildText(s.name)&&p.push(b)}return{textDivs:p}}const m=[[s,-1,o]];for(;m.length>0;){const[b,N,E]=m.at(-1);if(N+1===b.children.length){m.pop();continue}const T=b.children[++m.at(-1)[1]];if(T===null)continue;const{name:L}=T;if(L==="#text"){const k=document.createTextNode(T.value);p.push(k),E.append(k);continue}const R=(y=T==null?void 0:T.attributes)!=null&&y.xmlns?document.createElementNS(T.attributes.xmlns,L):document.createElement(L);if(E.append(R),T.attributes&&this.setAttributes({html:R,element:T,storage:e,intent:r,linkService:i}),((A=T.children)==null?void 0:A.length)>0)m.push([T,-1,R]);else if(T.value){const k=document.createTextNode(T.value);c&&W0.shouldBuildText(L)&&p.push(k),R.append(k)}}for(const b of h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))b.setAttribute("readOnly",!0);return{textDivs:p}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const M2=1e3,U8=9,op=new WeakSet;class O4{static create(t){switch(t.data.annotationType){case In.LINK:return new Mx(t);case In.TEXT:return new H8(t);case In.WIDGET:switch(t.data.fieldType){case"Tx":return new G8(t);case"Btn":return t.data.radioButton?new Px(t):t.data.checkBox?new Y8(t):new X8(t);case"Ch":return new W8(t);case"Sig":return new V8(t)}return new hp(t);case In.POPUP:return new zw(t);case In.FREETEXT:return new jx(t);case In.LINE:return new K8(t);case In.SQUARE:return new Q8(t);case In.CIRCLE:return new Z8(t);case In.POLYLINE:return new zx(t);case In.CARET:return new tT(t);case In.INK:return new zA(t);case In.POLYGON:return new J8(t);case In.HIGHLIGHT:return new qx(t);case In.UNDERLINE:return new eT(t);case In.SQUIGGLY:return new iT(t);case In.STRIKEOUT:return new nT(t);case In.STAMP:return new Ux(t);case In.FILEATTACHMENT:return new sT(t);default:return new Rn(t)}}}var kd,$g,Kg,Um,jw;const YA=class YA{constructor(t,{isRenderable:e=!1,ignoreBorder:i=!1,createQuadrilaterals:s=!1}={}){I(this,Um);I(this,kd,null);I(this,$g,!1);I(this,Kg,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(i)),s&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:i}){return!!(t!=null&&t.str||e!=null&&e.str||i!=null&&i.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return YA._hasPopupData(this.data)}updateEdited(t){var i;if(!this.container)return;f(this,kd)||M(this,kd,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&B(this,Um,jw).call(this,e),(i=f(this,Kg))==null||i.popup.updateEdited(t)}resetEdited(){var t;f(this,kd)&&(B(this,Um,jw).call(this,f(this,kd).rect),(t=f(this,Kg))==null||t.popup.resetEdited(),M(this,kd,null))}_createContainer(t){const{data:e,parent:{page:i,viewport:s}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",e.id),this instanceof hp||(r.tabIndex=M2);const{style:o}=r;if(o.zIndex=this.parent.zIndex++,e.alternativeText&&(r.title=e.alternativeText),e.noRotate&&r.classList.add("norotate"),!e.rect||this instanceof zw){const{rotation:E}=e;return!e.hasOwnCanvas&&E!==0&&this.setRotation(E,r),r}const{width:c,height:h}=this;if(!t&&e.borderStyle.width>0){o.borderWidth=`${e.borderStyle.width}px`;const E=e.borderStyle.horizontalCornerRadius,T=e.borderStyle.verticalCornerRadius;if(E>0||T>0){const R=`calc(${E}px * var(--total-scale-factor)) / calc(${T}px * var(--total-scale-factor))`;o.borderRadius=R}else if(this instanceof Px){const R=`calc(${c}px * var(--total-scale-factor)) / calc(${h}px * var(--total-scale-factor))`;o.borderRadius=R}switch(e.borderStyle.style){case ig.SOLID:o.borderStyle="solid";break;case ig.DASHED:o.borderStyle="dashed";break;case ig.BEVELED:Ie("Unimplemented border style: beveled");break;case ig.INSET:Ie("Unimplemented border style: inset");break;case ig.UNDERLINE:o.borderBottomStyle="solid";break}const L=e.borderColor||null;L?(M(this,$g,!0),o.borderColor=we.makeHexColor(L[0]|0,L[1]|0,L[2]|0)):o.borderWidth=0}const p=we.normalizeRect([e.rect[0],i.view[3]-e.rect[1]+i.view[1],e.rect[2],i.view[3]-e.rect[3]+i.view[1]]),{pageWidth:m,pageHeight:y,pageX:A,pageY:b}=s.rawDims;o.left=`${100*(p[0]-A)/m}%`,o.top=`${100*(p[1]-b)/y}%`;const{rotation:N}=e;return e.hasOwnCanvas||N===0?(o.width=`${100*c/m}%`,o.height=`${100*h/y}%`):this.setRotation(N,r),r}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:s}=this.parent.viewport.rawDims;let{width:r,height:o}=this;t%180!==0&&([r,o]=[o,r]),e.style.width=`${100*r/i}%`,e.style.height=`${100*o/s}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,i,s)=>{const r=s.detail[e],o=r[0],c=r.slice(1);s.target.style[i]=P4[`${o}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[i]:P4[`${o}_rgb`](c)})};return ei(this,"_commonActions",{display:e=>{const{display:i}=e.detail,s=i%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:i===1||i===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:i}=e.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const i=e.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(t,e){const i=this._commonActions;for(const s of Object.keys(e.detail)){const r=t[s]||i[s];r==null||r(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const i=this._commonActions;for(const[s,r]of Object.entries(e)){const o=i[s];if(o){const c={detail:{[s]:r},target:t};o(c),delete e[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,i,s,r]=this.data.rect.map(E=>Math.fround(E));if(t.length===8){const[E,T,L,R]=t.subarray(2,6);if(s===E&&r===T&&e===L&&i===R)return}const{style:o}=this.container;let c;if(f(this,$g)){const{borderColor:E,borderWidth:T}=o;o.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${E}" stroke-width="${T}">`],this.container.classList.add("hasBorder")}const h=s-e,p=r-i,{svgFactory:m}=this,y=m.createElement("svg");y.classList.add("quadrilateralsContainer"),y.setAttribute("width",0),y.setAttribute("height",0);const A=m.createElement("defs");y.append(A);const b=m.createElement("clipPath"),N=`clippath_${this.data.id}`;b.setAttribute("id",N),b.setAttribute("clipPathUnits","objectBoundingBox"),A.append(b);for(let E=2,T=t.length;E<T;E+=8){const L=t[E],R=t[E+1],k=t[E+2],j=t[E+3],H=m.createElement("rect"),tt=(k-e)/h,Z=(r-R)/p,Q=(L-k)/h,et=(R-j)/p;H.setAttribute("x",tt),H.setAttribute("y",Z),H.setAttribute("width",Q),H.setAttribute("height",et),b.append(H),c==null||c.push(`<rect vector-effect="non-scaling-stroke" x="${tt}" y="${Z}" width="${Q}" height="${et}"/>`)}f(this,$g)&&(c.push("</g></svg>')"),o.backgroundImage=c.join("")),this.container.append(y),this.container.style.clipPath=`url(#${N})`}_createPopup(){const{data:t}=this,e=M(this,Kg,new zw({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){Ti("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const i=[];if(this._fieldObjects){const s=this._fieldObjects[t];if(s)for(const{page:r,id:o,exportValues:c}of s){if(r===-1||o===e)continue;const h=typeof c=="string"?c:null,p=document.querySelector(`[data-element-id="${o}"]`);if(p&&!op.has(p)){Ie(`_getElementsByName - element not allowed: ${o}`);continue}i.push({id:o,exportValue:h,domElement:p})}return i}for(const s of document.getElementsByName(t)){const{exportValue:r}=s,o=s.getAttribute("data-element-id");o!==e&&op.has(s)&&i.push({id:o,exportValue:r,domElement:s})}return i}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};kd=new WeakMap,$g=new WeakMap,Kg=new WeakMap,Um=new WeakSet,jw=function(t){const{container:{style:e},data:{rect:i,rotation:s},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:o,pageX:c,pageY:h}}}}=this;i==null||i.splice(0,4,...t),e.left=`${100*(t[0]-c)/r}%`,e.top=`${100*(o-t[3]+h)/o}%`,s===0?(e.width=`${100*(t[2]-t[0])/r}%`,e.height=`${100*(t[3]-t[1])/o}%`):this.setRotation(s)};let Rn=YA;var Er,Yf,kx,Dx;class Mx extends Rn{constructor(e,i=null){super(e,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});I(this,Er);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:i}=this,s=document.createElement("a");s.setAttribute("data-element-id",e.id);let r=!1;return e.url?(i.addLinkAttributes(s,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(s,e.action),r=!0):e.attachment?(B(this,Er,kx).call(this,s,e.attachment,e.attachmentDest),r=!0):e.setOCGState?(B(this,Er,Dx).call(this,s,e.setOCGState),r=!0):e.dest?(this._bindLink(s,e.dest),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,e),r=!0),e.resetForm?(this._bindResetFormAction(s,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(s,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(s),this.container}_bindLink(e,i){e.href=this.linkService.getDestinationHash(i),e.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&B(this,Er,Yf).call(this)}_bindNamedAction(e,i){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(i),!1),B(this,Er,Yf).call(this)}_bindJSAction(e,i){e.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(i.actions)){const o=s.get(r);o&&(e[o]=()=>{var c;return(c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:r}}),!1})}e.onclick||(e.onclick=()=>!1),B(this,Er,Yf).call(this)}_bindResetFormAction(e,i){const s=e.onclick;if(s||(e.href=this.linkService.getAnchorUrl("")),B(this,Er,Yf).call(this),!this._fieldObjects){Ie('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(e.onclick=()=>!1);return}e.onclick=()=>{var y;s==null||s();const{fields:r,refs:o,include:c}=i,h=[];if(r.length!==0||o.length!==0){const A=new Set(o);for(const b of r){const N=this._fieldObjects[b]||[];for(const{id:E}of N)A.add(E)}for(const b of Object.values(this._fieldObjects))for(const N of b)A.has(N.id)===c&&h.push(N)}else for(const A of Object.values(this._fieldObjects))h.push(...A);const p=this.annotationStorage,m=[];for(const A of h){const{id:b}=A;switch(m.push(b),A.type){case"text":{const E=A.defaultValue||"";p.setValue(b,{value:E});break}case"checkbox":case"radiobutton":{const E=A.defaultValue===A.exportValues;p.setValue(b,{value:E});break}case"combobox":case"listbox":{const E=A.defaultValue||"";p.setValue(b,{value:E});break}default:continue}const N=document.querySelector(`[data-element-id="${b}"]`);if(N){if(!op.has(N)){Ie(`_bindResetFormAction - element not allowed: ${b}`);continue}}else continue;N.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:m,name:"ResetForm"}})),!1}}}Er=new WeakSet,Yf=function(){this.container.setAttribute("data-internal-link","")},kx=function(e,i,s=null){e.href=this.linkService.getAnchorUrl(""),i.description&&(e.title=i.description),e.onclick=()=>{var r;return(r=this.downloadManager)==null||r.openOrDownloadData(i.content,i.filename,s),!1},B(this,Er,Yf).call(this)},Dx=function(e,i){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(i),!1),B(this,Er,Yf).call(this)};class H8 extends Rn{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class hp extends Rn{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Ts.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,i,s,r){i.includes("mouse")?t.addEventListener(i,o=>{var c;(c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:r(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):t.addEventListener(i,o=>{var c;if(i==="blur"){if(!e.focused||!o.relatedTarget)return;e.focused=!1}else if(i==="focus"){if(e.focused)return;e.focused=!0}r&&((c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:r(o)}}))})}_setEventListeners(t,e,i,s){var r,o,c;for(const[h,p]of i)(p==="Action"||(r=this.data.actions)!=null&&r[p])&&((p==="Focus"||p==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,h,p,s),p==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(t,e,"blur","Blur",null):p==="Blur"&&!((c=this.data.actions)!=null&&c.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":we.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||U8,r=t.style;let o;const c=2,h=p=>Math.round(10*p)/10;if(this.data.multiLine){const p=Math.abs(this.data.rect[3]-this.data.rect[1]-c),m=Math.round(p/(Oy*s))||1,y=p/m;o=Math.min(s,h(y/Oy))}else{const p=Math.abs(this.data.rect[3]-this.data.rect[1]-c);o=Math.min(s,h(p/Oy))}r.fontSize=`calc(${o}px * var(--total-scale-factor))`,r.color=we.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(r.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class G8 extends hp{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,i,s){const r=this.annotationStorage;for(const o of this._getElementsByName(t.name,t.id))o.domElement&&(o.domElement[e]=i),r.setValue(o.id,{[s]:i})}render(){var s,r;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const o=t.getValue(e,{value:this.data.fieldValue});let c=o.value||"";const h=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;h&&c.length>h&&(c=c.slice(0,h));let p=o.formattedValue||((s=this.data.textContent)==null?void 0:s.join(`
`))||null;p&&this.data.comb&&(p=p.replaceAll(/\s+/g,""));const m={userValue:c,formattedValue:p,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=p??c,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",p??c),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),op.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=M2,this._setRequired(i,this.data.required),h&&(i.maxLength=h),i.addEventListener("input",A=>{t.setValue(e,{value:A.target.value}),this.setPropertyOnSiblings(i,"value",A.target.value,"value"),m.formattedValue=null}),i.addEventListener("resetform",A=>{const b=this.data.defaultFieldValue??"";i.value=m.userValue=b,m.formattedValue=null});let y=A=>{const{formattedValue:b}=m;b!=null&&(A.target.value=b),A.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",b=>{var E;if(m.focused)return;const{target:N}=b;m.userValue&&(N.value=m.userValue),m.lastCommittedValue=N.value,m.commitKey=1,(E=this.data.actions)!=null&&E.Focus||(m.focused=!0)}),i.addEventListener("updatefromsandbox",b=>{this.showElementAndHideCanvas(b.target);const N={value(E){m.userValue=E.detail.value??"",t.setValue(e,{value:m.userValue.toString()}),E.target.value=m.userValue},formattedValue(E){const{formattedValue:T}=E.detail;m.formattedValue=T,T!=null&&E.target!==document.activeElement&&(E.target.value=T),t.setValue(e,{formattedValue:T})},selRange(E){E.target.setSelectionRange(...E.detail.selRange)},charLimit:E=>{var k;const{charLimit:T}=E.detail,{target:L}=E;if(T===0){L.removeAttribute("maxLength");return}L.setAttribute("maxLength",T);let R=m.userValue;!R||R.length<=T||(R=R.slice(0,T),L.value=m.userValue=R,t.setValue(e,{value:R}),(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:R,willCommit:!0,commitKey:1,selStart:L.selectionStart,selEnd:L.selectionEnd}}))}};this._dispatchEventFromSandbox(N,b)}),i.addEventListener("keydown",b=>{var T;m.commitKey=1;let N=-1;if(b.key==="Escape"?N=0:b.key==="Enter"&&!this.data.multiLine?N=2:b.key==="Tab"&&(m.commitKey=3),N===-1)return;const{value:E}=b.target;m.lastCommittedValue!==E&&(m.lastCommittedValue=E,m.userValue=E,(T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:E,willCommit:!0,commitKey:N,selStart:b.target.selectionStart,selEnd:b.target.selectionEnd}}))});const A=y;y=null,i.addEventListener("blur",b=>{var E,T;if(!m.focused||!b.relatedTarget)return;(E=this.data.actions)!=null&&E.Blur||(m.focused=!1);const{value:N}=b.target;m.userValue=N,m.lastCommittedValue!==N&&((T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:N,willCommit:!0,commitKey:m.commitKey,selStart:b.target.selectionStart,selEnd:b.target.selectionEnd}})),A(b)}),(r=this.data.actions)!=null&&r.Keystroke&&i.addEventListener("beforeinput",b=>{var H;m.lastCommittedValue=null;const{data:N,target:E}=b,{value:T,selectionStart:L,selectionEnd:R}=E;let k=L,j=R;switch(b.inputType){case"deleteWordBackward":{const tt=T.substring(0,L).match(/\w*[^\w]*$/);tt&&(k-=tt[0].length);break}case"deleteWordForward":{const tt=T.substring(L).match(/^[^\w]*\w*/);tt&&(j+=tt[0].length);break}case"deleteContentBackward":L===R&&(k-=1);break;case"deleteContentForward":L===R&&(j+=1);break}b.preventDefault(),(H=this.linkService.eventBus)==null||H.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:T,change:N||"",willCommit:!1,selStart:k,selEnd:j}})}),this._setEventListeners(i,m,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],b=>b.target.value)}if(y&&i.addEventListener("blur",y),this.data.comb){const b=(this.data.rect[2]-this.data.rect[0])/h;i.classList.add("comb"),i.style.letterSpacing=`calc(${b}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class V8 extends hp{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class Y8 extends hp{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,i=e.id;let s=t.getValue(i,{value:e.exportValue===e.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",t.setValue(i,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return op.add(r),r.setAttribute("data-element-id",i),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=e.fieldName,s&&r.setAttribute("checked",!0),r.setAttribute("exportValue",e.exportValue),r.tabIndex=M2,r.addEventListener("change",o=>{const{name:c,checked:h}=o.target;for(const p of this._getElementsByName(c,i)){const m=h&&p.exportValue===e.exportValue;p.domElement&&(p.domElement.checked=m),t.setValue(p.id,{value:m})}t.setValue(i,{value:h})}),r.addEventListener("resetform",o=>{const c=e.defaultFieldValue||"Off";o.target.checked=c===e.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",o=>{const c={value(h){h.target.checked=h.detail.value!=="Off",t.setValue(i,{value:h.target.checked})}};this._dispatchEventFromSandbox(c,o)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Px extends hp{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,i=e.id;let s=t.getValue(i,{value:e.fieldValue===e.buttonValue}).value;if(typeof s=="string"&&(s=s!==e.buttonValue,t.setValue(i,{value:s})),s)for(const o of this._getElementsByName(e.fieldName,i))t.setValue(o.id,{value:!1});const r=document.createElement("input");if(op.add(r),r.setAttribute("data-element-id",i),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=e.fieldName,s&&r.setAttribute("checked",!0),r.tabIndex=M2,r.addEventListener("change",o=>{const{name:c,checked:h}=o.target;for(const p of this._getElementsByName(c,i))t.setValue(p.id,{value:!1});t.setValue(i,{value:h})}),r.addEventListener("resetform",o=>{const c=e.defaultFieldValue;o.target.checked=c!=null&&c===e.buttonValue}),this.enableScripting&&this.hasJSActions){const o=e.buttonValue;r.addEventListener("updatefromsandbox",c=>{const h={value:p=>{const m=o===p.detail.value;for(const y of this._getElementsByName(p.target.name)){const A=m&&y.id===i;y.domElement&&(y.domElement.checked=A),t.setValue(y.id,{value:A})}}};this._dispatchEventFromSandbox(h,c)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class X8 extends Mx{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),t}}class W8 extends hp{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,i=t.getValue(e,{value:this.data.fieldValue}),s=document.createElement("select");op.add(s),s.setAttribute("data-element-id",e),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=M2;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",m=>{const y=this.data.defaultFieldValue;for(const A of s.options)A.selected=A.value===y});for(const m of this.data.options){const y=document.createElement("option");y.textContent=m.displayValue,y.value=m.exportValue,i.value.includes(m.exportValue)&&(y.setAttribute("selected",!0),r=!1),s.append(y)}let o=null;if(r){const m=document.createElement("option");m.value=" ",m.setAttribute("hidden",!0),m.setAttribute("selected",!0),s.prepend(m),o=()=>{m.remove(),s.removeEventListener("input",o),o=null},s.addEventListener("input",o)}const c=m=>{const y=m?"value":"textContent",{options:A,multiple:b}=s;return b?Array.prototype.filter.call(A,N=>N.selected).map(N=>N[y]):A.selectedIndex===-1?null:A[A.selectedIndex][y]};let h=c(!1);const p=m=>{const y=m.target.options;return Array.prototype.map.call(y,A=>({displayValue:A.textContent,exportValue:A.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",m=>{const y={value(A){o==null||o();const b=A.detail.value,N=new Set(Array.isArray(b)?b:[b]);for(const E of s.options)E.selected=N.has(E.value);t.setValue(e,{value:c(!0)}),h=c(!1)},multipleSelection(A){s.multiple=!0},remove(A){const b=s.options,N=A.detail.remove;b[N].selected=!1,s.remove(N),b.length>0&&Array.prototype.findIndex.call(b,T=>T.selected)===-1&&(b[0].selected=!0),t.setValue(e,{value:c(!0),items:p(A)}),h=c(!1)},clear(A){for(;s.length!==0;)s.remove(0);t.setValue(e,{value:null,items:[]}),h=c(!1)},insert(A){const{index:b,displayValue:N,exportValue:E}=A.detail.insert,T=s.children[b],L=document.createElement("option");L.textContent=N,L.value=E,T?T.before(L):s.append(L),t.setValue(e,{value:c(!0),items:p(A)}),h=c(!1)},items(A){const{items:b}=A.detail;for(;s.length!==0;)s.remove(0);for(const N of b){const{displayValue:E,exportValue:T}=N,L=document.createElement("option");L.textContent=E,L.value=T,s.append(L)}s.options.length>0&&(s.options[0].selected=!0),t.setValue(e,{value:c(!0),items:p(A)}),h=c(!1)},indices(A){const b=new Set(A.detail.indices);for(const N of A.target.options)N.selected=b.has(N.index);t.setValue(e,{value:c(!0)}),h=c(!1)},editable(A){A.target.disabled=!A.detail.editable}};this._dispatchEventFromSandbox(y,m)}),s.addEventListener("input",m=>{var b;const y=c(!0),A=c(!1);t.setValue(e,{value:y}),m.preventDefault(),(b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:h,change:A,changeEx:y,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],m=>m.target.value)):s.addEventListener("input",function(m){t.setValue(e,{value:c(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class zw extends Rn{constructor(t){const{data:e,elements:i}=t;super(t,{isRenderable:Rn._hasPopupData(e)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new $8({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const i of this.elements)i.popup=t,i.container.ariaHasPopup="dialog",e.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(i=>`${kA}${i}`).join(",")),this.container}}var Qg,Gv,Vv,Zg,Jg,yn,Ku,t1,Hm,Gm,e1,Qu,Po,Zu,Vm,Ju,Ym,Dd,Pd,Ri,nv,qw,Ox,Fx,Ix,Bx,sv,av,Uw;class $8{constructor({container:t,color:e,elements:i,titleObj:s,modificationDate:r,contentsObj:o,richText:c,parent:h,rect:p,parentRect:m,open:y}){I(this,Ri);I(this,Qg,B(this,Ri,Ix).bind(this));I(this,Gv,B(this,Ri,Uw).bind(this));I(this,Vv,B(this,Ri,av).bind(this));I(this,Zg,B(this,Ri,sv).bind(this));I(this,Jg,null);I(this,yn,null);I(this,Ku,null);I(this,t1,null);I(this,Hm,null);I(this,Gm,null);I(this,e1,null);I(this,Qu,!1);I(this,Po,null);I(this,Zu,null);I(this,Vm,null);I(this,Ju,null);I(this,Ym,null);I(this,Dd,null);I(this,Pd,!1);var A;M(this,yn,t),M(this,Ym,s),M(this,Ku,o),M(this,Ju,c),M(this,Gm,h),M(this,Jg,e),M(this,Vm,p),M(this,e1,m),M(this,Hm,i),M(this,t1,OA.toDateObject(r)),this.trigger=i.flatMap(b=>b.getElementsToTriggerPopup());for(const b of this.trigger)b.addEventListener("click",f(this,Zg)),b.addEventListener("mouseenter",f(this,Vv)),b.addEventListener("mouseleave",f(this,Gv)),b.classList.add("popupTriggerArea");for(const b of i)(A=b.container)==null||A.addEventListener("keydown",f(this,Qg));f(this,yn).hidden=!0,y&&B(this,Ri,sv).call(this)}render(){if(f(this,Po))return;const t=M(this,Po,document.createElement("div"));if(t.className="popup",f(this,Jg)){const r=t.style.outlineColor=we.makeHexColor(...f(this,Jg));t.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`}const e=document.createElement("span");e.className="header";const i=document.createElement("h1");if(e.append(i),{dir:i.dir,str:i.textContent}=f(this,Ym),t.append(e),f(this,t1)){const r=document.createElement("span");r.classList.add("popupDate"),r.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),r.setAttribute("data-l10n-args",JSON.stringify({dateObj:f(this,t1).valueOf()})),e.append(r)}const s=f(this,Ri,nv);if(s)Rx.render({xfaHtml:s,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const r=this._formatContents(f(this,Ku));t.append(r)}f(this,yn).append(t)}_formatContents({str:t,dir:e}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=e;const s=t.split(/(?:\r\n?|\n)/);for(let r=0,o=s.length;r<o;++r){const c=s[r];i.append(document.createTextNode(c)),r<o-1&&i.append(document.createElement("br"))}return i}updateEdited({rect:t,popupContent:e}){var i;f(this,Dd)||M(this,Dd,{contentsObj:f(this,Ku),richText:f(this,Ju)}),t&&M(this,Zu,null),e&&(M(this,Ju,B(this,Ri,Fx).call(this,e)),M(this,Ku,null)),(i=f(this,Po))==null||i.remove(),M(this,Po,null)}resetEdited(){var t;f(this,Dd)&&({contentsObj:la(this,Ku)._,richText:la(this,Ju)._}=f(this,Dd),M(this,Dd,null),(t=f(this,Po))==null||t.remove(),M(this,Po,null),M(this,Zu,null))}forceHide(){M(this,Pd,this.isVisible),f(this,Pd)&&(f(this,yn).hidden=!0)}maybeShow(){f(this,Pd)&&(f(this,Po)||B(this,Ri,av).call(this),M(this,Pd,!1),f(this,yn).hidden=!1)}get isVisible(){return f(this,yn).hidden===!1}}Qg=new WeakMap,Gv=new WeakMap,Vv=new WeakMap,Zg=new WeakMap,Jg=new WeakMap,yn=new WeakMap,Ku=new WeakMap,t1=new WeakMap,Hm=new WeakMap,Gm=new WeakMap,e1=new WeakMap,Qu=new WeakMap,Po=new WeakMap,Zu=new WeakMap,Vm=new WeakMap,Ju=new WeakMap,Ym=new WeakMap,Dd=new WeakMap,Pd=new WeakMap,Ri=new WeakSet,nv=function(){const t=f(this,Ju),e=f(this,Ku);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&f(this,Ju).html||null},qw=function(){var t,e,i;return((i=(e=(t=f(this,Ri,nv))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.fontSize)||0},Ox=function(){var t,e,i;return((i=(e=(t=f(this,Ri,nv))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.color)||null},Fx=function(t){const e=[],i={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},s={style:{color:f(this,Ri,Ox),fontSize:f(this,Ri,qw)?`calc(${f(this,Ri,qw)}px * var(--total-scale-factor))`:""}};for(const r of t.split(`
`))e.push({name:"span",value:r,attributes:s});return i},Ix=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&f(this,Qu))&&B(this,Ri,sv).call(this)},Bx=function(){if(f(this,Zu)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:i,pageX:s,pageY:r}}}=f(this,Gm);let o=!!f(this,e1),c=o?f(this,e1):f(this,Vm);for(const N of f(this,Hm))if(!c||we.intersect(N.data.rect,c)!==null){c=N.data.rect,o=!0;break}const h=we.normalizeRect([c[0],t[3]-c[1]+t[1],c[2],t[3]-c[3]+t[1]]),m=o?c[2]-c[0]+5:0,y=h[0]+m,A=h[1];M(this,Zu,[100*(y-s)/e,100*(A-r)/i]);const{style:b}=f(this,yn);b.left=`${f(this,Zu)[0]}%`,b.top=`${f(this,Zu)[1]}%`},sv=function(){M(this,Qu,!f(this,Qu)),f(this,Qu)?(B(this,Ri,av).call(this),f(this,yn).addEventListener("click",f(this,Zg)),f(this,yn).addEventListener("keydown",f(this,Qg))):(B(this,Ri,Uw).call(this),f(this,yn).removeEventListener("click",f(this,Zg)),f(this,yn).removeEventListener("keydown",f(this,Qg)))},av=function(){f(this,Po)||this.render(),this.isVisible?f(this,Qu)&&f(this,yn).classList.add("focused"):(B(this,Ri,Bx).call(this),f(this,yn).hidden=!1,f(this,yn).style.zIndex=parseInt(f(this,yn).style.zIndex)+1e3)},Uw=function(){f(this,yn).classList.remove("focused"),!(f(this,Qu)||!this.isVisible)&&(f(this,yn).hidden=!0,f(this,yn).style.zIndex=parseInt(f(this,yn).style.zIndex)-1e3)};class jx extends Rn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Fe.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const i=document.createElement("span");i.textContent=e,t.append(i)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Xm;class K8 extends Rn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});I(this,Xm,null)}render(){this.container.classList.add("lineAnnotation");const{data:e,width:i,height:s}=this,r=this.svgFactory.create(i,s,!0),o=M(this,Xm,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),o.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),o.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),o.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),o.setAttribute("stroke-width",e.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return f(this,Xm)}addHighlightArea(){this.container.classList.add("highlightArea")}}Xm=new WeakMap;var Wm;class Q8 extends Rn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});I(this,Wm,null)}render(){this.container.classList.add("squareAnnotation");const{data:e,width:i,height:s}=this,r=this.svgFactory.create(i,s,!0),o=e.borderStyle.width,c=M(this,Wm,this.svgFactory.createElement("svg:rect"));return c.setAttribute("x",o/2),c.setAttribute("y",o/2),c.setAttribute("width",i-o),c.setAttribute("height",s-o),c.setAttribute("stroke-width",o||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),r.append(c),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return f(this,Wm)}addHighlightArea(){this.container.classList.add("highlightArea")}}Wm=new WeakMap;var $m;class Z8 extends Rn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});I(this,$m,null)}render(){this.container.classList.add("circleAnnotation");const{data:e,width:i,height:s}=this,r=this.svgFactory.create(i,s,!0),o=e.borderStyle.width,c=M(this,$m,this.svgFactory.createElement("svg:ellipse"));return c.setAttribute("cx",i/2),c.setAttribute("cy",s/2),c.setAttribute("rx",i/2-o/2),c.setAttribute("ry",s/2-o/2),c.setAttribute("stroke-width",o||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),r.append(c),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return f(this,$m)}addHighlightArea(){this.container.classList.add("highlightArea")}}$m=new WeakMap;var Km;class zx extends Rn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});I(this,Km,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:i,borderStyle:s,popupRef:r},width:o,height:c}=this;if(!i)return this.container;const h=this.svgFactory.create(o,c,!0);let p=[];for(let y=0,A=i.length;y<A;y+=2){const b=i[y]-e[0],N=e[3]-i[y+1];p.push(`${b},${N}`)}p=p.join(" ");const m=M(this,Km,this.svgFactory.createElement(this.svgElementName));return m.setAttribute("points",p),m.setAttribute("stroke-width",s.width||1),m.setAttribute("stroke","transparent"),m.setAttribute("fill","transparent"),h.append(m),this.container.append(h),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return f(this,Km)}addHighlightArea(){this.container.classList.add("highlightArea")}}Km=new WeakMap;class J8 extends zx{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class tT extends Rn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Qm,Od,Zm,Hw;class zA extends Rn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});I(this,Zm);I(this,Qm,null);I(this,Od,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Fe.HIGHLIGHT:Fe.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:i,inkLists:s,borderStyle:r,popupRef:o}}=this,{transform:c,width:h,height:p}=B(this,Zm,Hw).call(this,i,e),m=this.svgFactory.create(h,p,!0),y=M(this,Qm,this.svgFactory.createElement("svg:g"));m.append(y),y.setAttribute("stroke-width",r.width||1),y.setAttribute("stroke-linecap","round"),y.setAttribute("stroke-linejoin","round"),y.setAttribute("stroke-miterlimit",10),y.setAttribute("stroke","transparent"),y.setAttribute("fill","transparent"),y.setAttribute("transform",c);for(let A=0,b=s.length;A<b;A++){const N=this.svgFactory.createElement(this.svgElementName);f(this,Od).push(N),N.setAttribute("points",s[A].join(",")),y.append(N)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(m),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:i,points:s,rect:r}=e,o=f(this,Qm);if(i>=0&&o.setAttribute("stroke-width",i||1),s)for(let c=0,h=f(this,Od).length;c<h;c++)f(this,Od)[c].setAttribute("points",s[c].join(","));if(r){const{transform:c,width:h,height:p}=B(this,Zm,Hw).call(this,this.data.rotation,r);o.parentElement.setAttribute("viewBox",`0 0 ${h} ${p}`),o.setAttribute("transform",c)}}getElementsToTriggerPopup(){return f(this,Od)}addHighlightArea(){this.container.classList.add("highlightArea")}}Qm=new WeakMap,Od=new WeakMap,Zm=new WeakSet,Hw=function(e,i){switch(e){case 90:return{transform:`rotate(90) translate(${-i[0]},${i[1]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};case 180:return{transform:`rotate(180) translate(${-i[2]},${i[1]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]};case 270:return{transform:`rotate(270) translate(${-i[2]},${i[3]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};default:return{transform:`translate(${-i[0]},${i[3]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]}}};class qx extends Rn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Fe.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class eT extends Rn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class iT extends Rn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class nT extends Rn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Ux extends Rn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Fe.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Jm,t2,Gw;class sT extends Rn{constructor(e){var s;super(e,{isRenderable:!0});I(this,t2);I(this,Jm,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(s=this.linkService.eventBus)==null||s.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:i}=this;let s;i.hasAppearance||i.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),s.addEventListener("dblclick",B(this,t2,Gw).bind(this)),M(this,Jm,s);const{isMac:r}=Ts.platform;return e.addEventListener("keydown",o=>{o.key==="Enter"&&(r?o.metaKey:o.ctrlKey)&&B(this,t2,Gw).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),e.append(s),e}getElementsToTriggerPopup(){return f(this,Jm)}addHighlightArea(){this.container.classList.add("highlightArea")}}Jm=new WeakMap,t2=new WeakSet,Gw=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var e2,Fd,Fh,i2,af,Yw,Xw;const XA=class XA{constructor({div:t,accessibilityManager:e,annotationCanvasMap:i,annotationEditorUIManager:s,page:r,viewport:o,structTreeLayer:c}){I(this,af);I(this,e2,null);I(this,Fd,null);I(this,Fh,new Map);I(this,i2,null);this.div=t,M(this,e2,e),M(this,Fd,i),M(this,i2,c||null),this.page=r,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=s}hasEditableAnnotations(){return f(this,Fh).size>0}async render(t){var o;const{annotations:e}=t,i=this.div;ap(i,this.viewport);const s=new Map,r={data:null,layer:i,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new Lv,annotationStorage:t.annotationStorage||new IA,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const c of e){if(c.noHTML)continue;const h=c.annotationType===In.POPUP;if(h){const y=s.get(c.id);if(!y)continue;r.elements=y}else if(c.rect[2]===c.rect[0]||c.rect[3]===c.rect[1])continue;r.data=c;const p=O4.create(r);if(!p.isRenderable)continue;if(!h&&c.popupRef){const y=s.get(c.popupRef);y?y.push(p):s.set(c.popupRef,[p])}const m=p.render();c.hidden&&(m.style.visibility="hidden"),await B(this,af,Yw).call(this,m,c.id),p._isEditable&&(f(this,Fh).set(p.data.id,p),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(p))}B(this,af,Xw).call(this)}async addLinkAnnotations(t,e){const i={data:null,layer:this.div,linkService:e,svgFactory:new Lv,parent:this};for(const s of t){s.borderStyle||(s.borderStyle=XA._defaultBorderStyle),i.data=s;const r=O4.create(i);if(!r.isRenderable)continue;const o=r.render();await B(this,af,Yw).call(this,o,s.id)}}update({viewport:t}){const e=this.div;this.viewport=t,ap(e,{rotation:t.rotation}),B(this,af,Xw).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(f(this,Fh).values())}getEditableAnnotation(t){return f(this,Fh).get(t)}static get _defaultBorderStyle(){return ei(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:ig.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};e2=new WeakMap,Fd=new WeakMap,Fh=new WeakMap,i2=new WeakMap,af=new WeakSet,Yw=async function(t,e){var o,c;const i=t.firstChild||t,s=i.id=`${kA}${e}`,r=await((o=f(this,i2))==null?void 0:o.getAriaAttributes(s));if(r)for(const[h,p]of r)i.setAttribute(h,p);this.div.append(t),(c=f(this,e2))==null||c.moveElementInDOM(this.div,t,i,!1)},Xw=function(){var e;if(!f(this,Fd))return;const t=this.div;for(const[i,s]of f(this,Fd)){const r=t.querySelector(`[data-annotation-id="${i}"]`);if(!r)continue;s.className="annotationContent";const{firstChild:o}=r;o?o.nodeName==="CANVAS"?o.replaceWith(s):o.classList.contains("annotationContent")?o.after(s):o.before(s):r.append(s);const c=f(this,Fh).get(i);c&&(c._hasNoCanvas?((e=this._annotationEditorUIManager)==null||e.setMissingCanvas(i,r.id,s),c._hasNoCanvas=!1):c.canvas=s)}f(this,Fd).clear()};let Vw=XA;const O5=/\r\n?|\n/g;var Oo,pr,n2,Id,gr,zn,Hx,Gx,Vx,rv,fc,ov,lv,Yx,$w,Xx;const zi=class zi extends qi{constructor(e){super({...e,name:"freeTextEditor"});I(this,zn);I(this,Oo);I(this,pr,"");I(this,n2,`${this.id}-editor`);I(this,Id,null);I(this,gr);M(this,Oo,e.color||zi._defaultColor||qi._defaultLineColor),M(this,gr,e.fontSize||zi._defaultFontSize)}static get _keyboardManager(){const e=zi.prototype,i=o=>o.isEmpty(),s=rp.TRANSLATE_SMALL,r=rp.TRANSLATE_BIG;return ei(this,"_keyboardManager",new T2([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-s,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:i}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[s,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[r,0],checker:i}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-s],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:i}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,s],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,r],checker:i}]]))}static initialize(e,i){qi.initialize(e,i);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,i){switch(e){case ai.FREETEXT_SIZE:zi._defaultFontSize=i;break;case ai.FREETEXT_COLOR:zi._defaultColor=i;break}}updateParams(e,i){switch(e){case ai.FREETEXT_SIZE:B(this,zn,Hx).call(this,i);break;case ai.FREETEXT_COLOR:B(this,zn,Gx).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[ai.FREETEXT_SIZE,zi._defaultFontSize],[ai.FREETEXT_COLOR,zi._defaultColor||qi._defaultLineColor]]}get propertiesToUpdate(){return[[ai.FREETEXT_SIZE,f(this,gr)],[ai.FREETEXT_COLOR,f(this,Oo)]]}_translateEmpty(e,i){this._uiManager.translateSelectedEditors(e,i,!0)}getInitialTranslation(){const e=this.parentScale;return[-zi._internalPadding*e,-(zi._internalPadding+f(this,gr))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),M(this,Id,new AbortController);const e=this._uiManager.combinedSignal(f(this,Id));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){var e;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",f(this,n2)),this._isDraggable=!0,(e=f(this,Id))==null||e.abort(),M(this,Id,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){var i;this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),(i=this._initialOptions)!=null&&i.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=f(this,pr),i=M(this,pr,B(this,zn,Vx).call(this).trimEnd());if(e===i)return;const s=r=>{if(M(this,pr,r),!r){this.remove();return}B(this,zn,lv).call(this),this._uiManager.rebuild(this),B(this,zn,rv).call(this)};this.addCommands({cmd:()=>{s(i)},undo:()=>{s(e)},mustExec:!1}),B(this,zn,rv).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){zi._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,i;(this._isCopy||this.annotationElementId)&&(e=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",f(this,n2)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${f(this,gr)}px * var(--total-scale-factor))`,s.color=f(this,Oo),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[r,o]=this.parentDimensions;if(this.annotationElementId){const{position:c}=this._initialData;let[h,p]=this.getInitialTranslation();[h,p]=this.pageTranslationToScreen(h,p);const[m,y]=this.pageDimensions,[A,b]=this.pageTranslation;let N,E;switch(this.rotation){case 0:N=e+(c[0]-A)/m,E=i+this.height-(c[1]-b)/y;break;case 90:N=e+(c[0]-A)/m,E=i-(c[1]-b)/y,[h,p]=[p,-h];break;case 180:N=e-this.width+(c[0]-A)/m,E=i-(c[1]-b)/y,[h,p]=[-h,-p];break;case 270:N=e+(c[0]-A-this.height*y)/m,E=i+(c[1]-b-this.width*m)/y,[h,p]=[-p,h];break}this.setAt(N*r,E*o,h,p)}else this._moveAfterPaste(e,i);B(this,zn,lv).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var N,E,T;const i=e.clipboardData||window.clipboardData,{types:s}=i;if(s.length===1&&s[0]==="text/plain")return;e.preventDefault();const r=B(N=zi,fc,$w).call(N,i.getData("text")||"").replaceAll(O5,`
`);if(!r)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const c=o.getRangeAt(0);if(!r.includes(`
`)){c.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:h,startOffset:p}=c,m=[],y=[];if(h.nodeType===Node.TEXT_NODE){const L=h.parentElement;if(y.push(h.nodeValue.slice(p).replaceAll(O5,"")),L!==this.editorDiv){let R=m;for(const k of this.editorDiv.childNodes){if(k===L){R=y;continue}R.push(B(E=zi,fc,ov).call(E,k))}}m.push(h.nodeValue.slice(0,p).replaceAll(O5,""))}else if(h===this.editorDiv){let L=m,R=0;for(const k of this.editorDiv.childNodes)R++===p&&(L=y),L.push(B(T=zi,fc,ov).call(T,k))}M(this,pr,`${m.join(`
`)}${r}${y.join(`
`)}`),B(this,zn,lv).call(this);const A=new Range;let b=Math.sumPrecise(m.map(L=>L.length));for(const{firstChild:L}of this.editorDiv.childNodes)if(L.nodeType===Node.TEXT_NODE){const R=L.nodeValue.length;if(b<=R){A.setStart(L,b),A.setEnd(L,b);break}b-=R}o.removeAllRanges(),o.addRange(A)}get contentDiv(){return this.editorDiv}static async deserialize(e,i,s){var c;let r=null;if(e instanceof jx){const{data:{defaultAppearanceData:{fontSize:h,fontColor:p},rect:m,rotation:y,id:A,popupRef:b},textContent:N,textPosition:E,parent:{page:{pageNumber:T}}}=e;if(!N||N.length===0)return null;r=e={annotationType:Fe.FREETEXT,color:Array.from(p),fontSize:h,value:N.join(`
`),position:E,pageIndex:T-1,rect:m.slice(0),rotation:y,id:A,deleted:!1,popupRef:b}}const o=await super.deserialize(e,i,s);return M(o,gr,e.fontSize),M(o,Oo,we.makeHexColor(...e.color)),M(o,pr,B(c=zi,fc,$w).call(c,e.value)),o.annotationElementId=e.id||null,o._initialData=r,o}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=zi._internalPadding*this.parentScale,s=this.getRect(i,i),r=qi._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:f(this,Oo)),o={annotationType:Fe.FREETEXT,color:r,fontSize:f(this,gr),value:B(this,zn,Yx).call(this),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(o.isCopy=!0,o):this.annotationElementId&&!B(this,zn,Xx).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(e){const i=super.renderAnnotationElement(e);if(this.deleted)return i;const{style:s}=i;s.fontSize=`calc(${f(this,gr)}px * var(--total-scale-factor))`,s.color=f(this,Oo),i.replaceChildren();for(const o of f(this,pr).split(`
`)){const c=document.createElement("div");c.append(o?document.createTextNode(o):document.createElement("br")),i.append(c)}const r=zi._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(r,r),popupContent:f(this,pr)}),i}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};Oo=new WeakMap,pr=new WeakMap,n2=new WeakMap,Id=new WeakMap,gr=new WeakMap,zn=new WeakSet,Hx=function(e){const i=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--total-scale-factor))`,this.translate(0,-(r-f(this,gr))*this.parentScale),M(this,gr,r),B(this,zn,rv).call(this)},s=f(this,gr);this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ai.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Gx=function(e){const i=r=>{M(this,Oo,this.editorDiv.style.color=r)},s=f(this,Oo);this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ai.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Vx=function(){var s;const e=[];this.editorDiv.normalize();let i=null;for(const r of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&r.nodeName==="BR"||(e.push(B(s=zi,fc,ov).call(s,r)),i=r);return e.join(`
`)},rv=function(){const[e,i]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:r,div:o}=this,c=o.style.display,h=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",r.div.append(this.div),s=o.getBoundingClientRect(),o.remove(),o.style.display=c,o.classList.toggle("hidden",h)}this.rotation%180===this.parentRotation%180?(this.width=s.width/e,this.height=s.height/i):(this.width=s.height/e,this.height=s.width/i),this.fixAndSetPosition()},fc=new WeakSet,ov=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(O5,"")},lv=function(){if(this.editorDiv.replaceChildren(),!!f(this,pr))for(const e of f(this,pr).split(`
`)){const i=document.createElement("div");i.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(i)}},Yx=function(){return f(this,pr).replaceAll(""," ")},$w=function(e){return e.replaceAll(" ","")},Xx=function(e){const{value:i,fontSize:s,color:r,pageIndex:o}=this._initialData;return this._hasBeenMoved||e.value!==i||e.fontSize!==s||e.color.some((c,h)=>c!==r[h])||e.pageIndex!==o},I(zi,fc),Kt(zi,"_freeTextDefaultContent",""),Kt(zi,"_internalPadding",0),Kt(zi,"_defaultColor",null),Kt(zi,"_defaultFontSize",10),Kt(zi,"_type","freetext"),Kt(zi,"_editorType",Fe.FREETEXT);let Ww=zi;class le{toSVGPath(){Ti("Abstract method `toSVGPath` must be implemented.")}get box(){Ti("Abstract getter `box` must be implemented.")}serialize(t,e){Ti("Abstract method `serialize` must be implemented.")}static _rescale(t,e,i,s,r,o){o||(o=new Float32Array(t.length));for(let c=0,h=t.length;c<h;c+=2)o[c]=e+t[c]*s,o[c+1]=i+t[c+1]*r;return o}static _rescaleAndSwap(t,e,i,s,r,o){o||(o=new Float32Array(t.length));for(let c=0,h=t.length;c<h;c+=2)o[c]=e+t[c+1]*s,o[c+1]=i+t[c]*r;return o}static _translate(t,e,i,s){s||(s=new Float32Array(t.length));for(let r=0,o=t.length;r<o;r+=2)s[r]=e+t[r],s[r+1]=i+t[r+1];return s}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,i,s,r){switch(r){case 90:return[1-e/i,t/s];case 180:return[1-t/i,1-e/s];case 270:return[e/i,1-t/s];default:return[t/i,e/s]}}static _normalizePagePoint(t,e,i){switch(i){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,i,s,r,o){return[(t+5*i)/6,(e+5*s)/6,(5*i+r)/6,(5*s+o)/6,(i+r)/2,(s+o)/2]}}Kt(le,"PRECISION",1e-4);var mr,Fo,i1,n1,Fl,$e,Bd,jd,s2,a2,s1,a1,Ih,r2,Yv,Xv,Kn,B0,Wx,$x,Kx,Qx,Zx,Jx;const ku=class ku{constructor({x:t,y:e},i,s,r,o,c=0){I(this,Kn);I(this,mr);I(this,Fo,[]);I(this,i1);I(this,n1);I(this,Fl,[]);I(this,$e,new Float32Array(18));I(this,Bd);I(this,jd);I(this,s2);I(this,a2);I(this,s1);I(this,a1);I(this,Ih,[]);M(this,mr,i),M(this,a1,r*s),M(this,n1,o),f(this,$e).set([NaN,NaN,NaN,NaN,t,e],6),M(this,i1,c),M(this,a2,f(ku,r2)*s),M(this,s2,f(ku,Xv)*s),M(this,s1,s),f(this,Ih).push(t,e)}isEmpty(){return isNaN(f(this,$e)[8])}add({x:t,y:e}){var et;M(this,Bd,t),M(this,jd,e);const[i,s,r,o]=f(this,mr);let[c,h,p,m]=f(this,$e).subarray(8,12);const y=t-p,A=e-m,b=Math.hypot(y,A);if(b<f(this,s2))return!1;const N=b-f(this,a2),E=N/b,T=E*y,L=E*A;let R=c,k=h;c=p,h=m,p+=T,m+=L,(et=f(this,Ih))==null||et.push(t,e);const j=-L/N,H=T/N,tt=j*f(this,a1),Z=H*f(this,a1);return f(this,$e).set(f(this,$e).subarray(2,8),0),f(this,$e).set([p+tt,m+Z],4),f(this,$e).set(f(this,$e).subarray(14,18),12),f(this,$e).set([p-tt,m-Z],16),isNaN(f(this,$e)[6])?(f(this,Fl).length===0&&(f(this,$e).set([c+tt,h+Z],2),f(this,Fl).push(NaN,NaN,NaN,NaN,(c+tt-i)/r,(h+Z-s)/o),f(this,$e).set([c-tt,h-Z],14),f(this,Fo).push(NaN,NaN,NaN,NaN,(c-tt-i)/r,(h-Z-s)/o)),f(this,$e).set([R,k,c,h,p,m],6),!this.isEmpty()):(f(this,$e).set([R,k,c,h,p,m],6),Math.abs(Math.atan2(k-h,R-c)-Math.atan2(L,T))<Math.PI/2?([c,h,p,m]=f(this,$e).subarray(2,6),f(this,Fl).push(NaN,NaN,NaN,NaN,((c+p)/2-i)/r,((h+m)/2-s)/o),[c,h,R,k]=f(this,$e).subarray(14,18),f(this,Fo).push(NaN,NaN,NaN,NaN,((R+c)/2-i)/r,((k+h)/2-s)/o),!0):([R,k,c,h,p,m]=f(this,$e).subarray(0,6),f(this,Fl).push(((R+5*c)/6-i)/r,((k+5*h)/6-s)/o,((5*c+p)/6-i)/r,((5*h+m)/6-s)/o,((c+p)/2-i)/r,((h+m)/2-s)/o),[p,m,c,h,R,k]=f(this,$e).subarray(12,18),f(this,Fo).push(((R+5*c)/6-i)/r,((k+5*h)/6-s)/o,((5*c+p)/6-i)/r,((5*h+m)/6-s)/o,((c+p)/2-i)/r,((h+m)/2-s)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const t=f(this,Fl),e=f(this,Fo);if(isNaN(f(this,$e)[6])&&!this.isEmpty())return B(this,Kn,Wx).call(this);const i=[];i.push(`M${t[4]} ${t[5]}`);for(let s=6;s<t.length;s+=6)isNaN(t[s])?i.push(`L${t[s+4]} ${t[s+5]}`):i.push(`C${t[s]} ${t[s+1]} ${t[s+2]} ${t[s+3]} ${t[s+4]} ${t[s+5]}`);B(this,Kn,Kx).call(this,i);for(let s=e.length-6;s>=6;s-=6)isNaN(e[s])?i.push(`L${e[s+4]} ${e[s+5]}`):i.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);return B(this,Kn,$x).call(this,i),i.join(" ")}newFreeDrawOutline(t,e,i,s,r,o){return new t6(t,e,i,s,r,o)}getOutlines(){var y;const t=f(this,Fl),e=f(this,Fo),i=f(this,$e),[s,r,o,c]=f(this,mr),h=new Float32Array((((y=f(this,Ih))==null?void 0:y.length)??0)+2);for(let A=0,b=h.length-2;A<b;A+=2)h[A]=(f(this,Ih)[A]-s)/o,h[A+1]=(f(this,Ih)[A+1]-r)/c;if(h[h.length-2]=(f(this,Bd)-s)/o,h[h.length-1]=(f(this,jd)-r)/c,isNaN(i[6])&&!this.isEmpty())return B(this,Kn,Qx).call(this,h);const p=new Float32Array(f(this,Fl).length+24+f(this,Fo).length);let m=t.length;for(let A=0;A<m;A+=2){if(isNaN(t[A])){p[A]=p[A+1]=NaN;continue}p[A]=t[A],p[A+1]=t[A+1]}m=B(this,Kn,Jx).call(this,p,m);for(let A=e.length-6;A>=6;A-=6)for(let b=0;b<6;b+=2){if(isNaN(e[A+b])){p[m]=p[m+1]=NaN,m+=2;continue}p[m]=e[A+b],p[m+1]=e[A+b+1],m+=2}return B(this,Kn,Zx).call(this,p,m),this.newFreeDrawOutline(p,h,f(this,mr),f(this,s1),f(this,i1),f(this,n1))}};mr=new WeakMap,Fo=new WeakMap,i1=new WeakMap,n1=new WeakMap,Fl=new WeakMap,$e=new WeakMap,Bd=new WeakMap,jd=new WeakMap,s2=new WeakMap,a2=new WeakMap,s1=new WeakMap,a1=new WeakMap,Ih=new WeakMap,r2=new WeakMap,Yv=new WeakMap,Xv=new WeakMap,Kn=new WeakSet,B0=function(){const t=f(this,$e).subarray(4,6),e=f(this,$e).subarray(16,18),[i,s,r,o]=f(this,mr);return[(f(this,Bd)+(t[0]-e[0])/2-i)/r,(f(this,jd)+(t[1]-e[1])/2-s)/o,(f(this,Bd)+(e[0]-t[0])/2-i)/r,(f(this,jd)+(e[1]-t[1])/2-s)/o]},Wx=function(){const[t,e,i,s]=f(this,mr),[r,o,c,h]=B(this,Kn,B0).call(this);return`M${(f(this,$e)[2]-t)/i} ${(f(this,$e)[3]-e)/s} L${(f(this,$e)[4]-t)/i} ${(f(this,$e)[5]-e)/s} L${r} ${o} L${c} ${h} L${(f(this,$e)[16]-t)/i} ${(f(this,$e)[17]-e)/s} L${(f(this,$e)[14]-t)/i} ${(f(this,$e)[15]-e)/s} Z`},$x=function(t){const e=f(this,Fo);t.push(`L${e[4]} ${e[5]} Z`)},Kx=function(t){const[e,i,s,r]=f(this,mr),o=f(this,$e).subarray(4,6),c=f(this,$e).subarray(16,18),[h,p,m,y]=B(this,Kn,B0).call(this);t.push(`L${(o[0]-e)/s} ${(o[1]-i)/r} L${h} ${p} L${m} ${y} L${(c[0]-e)/s} ${(c[1]-i)/r}`)},Qx=function(t){const e=f(this,$e),[i,s,r,o]=f(this,mr),[c,h,p,m]=B(this,Kn,B0).call(this),y=new Float32Array(36);return y.set([NaN,NaN,NaN,NaN,(e[2]-i)/r,(e[3]-s)/o,NaN,NaN,NaN,NaN,(e[4]-i)/r,(e[5]-s)/o,NaN,NaN,NaN,NaN,c,h,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(e[16]-i)/r,(e[17]-s)/o,NaN,NaN,NaN,NaN,(e[14]-i)/r,(e[15]-s)/o],0),this.newFreeDrawOutline(y,t,f(this,mr),f(this,s1),f(this,i1),f(this,n1))},Zx=function(t,e){const i=f(this,Fo);return t.set([NaN,NaN,NaN,NaN,i[4],i[5]],e),e+=6},Jx=function(t,e){const i=f(this,$e).subarray(4,6),s=f(this,$e).subarray(16,18),[r,o,c,h]=f(this,mr),[p,m,y,A]=B(this,Kn,B0).call(this);return t.set([NaN,NaN,NaN,NaN,(i[0]-r)/c,(i[1]-o)/h,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,y,A,NaN,NaN,NaN,NaN,(s[0]-r)/c,(s[1]-o)/h],e),e+=24},I(ku,r2,8),I(ku,Yv,2),I(ku,Xv,f(ku,r2)+f(ku,Yv));let Cv=ku;var r1,zd,tc,o2,vr,l2,Nn,Wv,e6;class t6 extends le{constructor(e,i,s,r,o,c){super();I(this,Wv);I(this,r1);I(this,zd,new Float32Array(4));I(this,tc);I(this,o2);I(this,vr);I(this,l2);I(this,Nn);M(this,Nn,e),M(this,vr,i),M(this,r1,s),M(this,l2,r),M(this,tc,o),M(this,o2,c),this.lastPoint=[NaN,NaN],B(this,Wv,e6).call(this,c);const[h,p,m,y]=f(this,zd);for(let A=0,b=e.length;A<b;A+=2)e[A]=(e[A]-h)/m,e[A+1]=(e[A+1]-p)/y;for(let A=0,b=i.length;A<b;A+=2)i[A]=(i[A]-h)/m,i[A+1]=(i[A+1]-p)/y}toSVGPath(){const e=[`M${f(this,Nn)[4]} ${f(this,Nn)[5]}`];for(let i=6,s=f(this,Nn).length;i<s;i+=6){if(isNaN(f(this,Nn)[i])){e.push(`L${f(this,Nn)[i+4]} ${f(this,Nn)[i+5]}`);continue}e.push(`C${f(this,Nn)[i]} ${f(this,Nn)[i+1]} ${f(this,Nn)[i+2]} ${f(this,Nn)[i+3]} ${f(this,Nn)[i+4]} ${f(this,Nn)[i+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,i,s,r],o){const c=s-e,h=r-i;let p,m;switch(o){case 0:p=le._rescale(f(this,Nn),e,r,c,-h),m=le._rescale(f(this,vr),e,r,c,-h);break;case 90:p=le._rescaleAndSwap(f(this,Nn),e,i,c,h),m=le._rescaleAndSwap(f(this,vr),e,i,c,h);break;case 180:p=le._rescale(f(this,Nn),s,i,-c,h),m=le._rescale(f(this,vr),s,i,-c,h);break;case 270:p=le._rescaleAndSwap(f(this,Nn),s,r,-c,-h),m=le._rescaleAndSwap(f(this,vr),s,r,-c,-h);break}return{outline:Array.from(p),points:[Array.from(m)]}}get box(){return f(this,zd)}newOutliner(e,i,s,r,o,c=0){return new Cv(e,i,s,r,o,c)}getNewOutline(e,i){const[s,r,o,c]=f(this,zd),[h,p,m,y]=f(this,r1),A=o*m,b=c*y,N=s*m+h,E=r*y+p,T=this.newOutliner({x:f(this,vr)[0]*A+N,y:f(this,vr)[1]*b+E},f(this,r1),f(this,l2),e,f(this,o2),i??f(this,tc));for(let L=2;L<f(this,vr).length;L+=2)T.add({x:f(this,vr)[L]*A+N,y:f(this,vr)[L+1]*b+E});return T.getOutlines()}}r1=new WeakMap,zd=new WeakMap,tc=new WeakMap,o2=new WeakMap,vr=new WeakMap,l2=new WeakMap,Nn=new WeakMap,Wv=new WeakSet,e6=function(e){const i=f(this,Nn);let s=i[4],r=i[5];const o=[s,r,s,r];let c=s,h=r;const p=e?Math.max:Math.min;for(let y=6,A=i.length;y<A;y+=6){const b=i[y+4],N=i[y+5];if(isNaN(i[y]))we.pointBoundingBox(b,N,o),h<N?(c=b,h=N):h===N&&(c=p(c,b));else{const E=[1/0,1/0,-1/0,-1/0];we.bezierBoundingBox(s,r,...i.slice(y,y+6),E),we.rectBoundingBox(...E,o),h<E[3]?(c=E[2],h=E[3]):h===E[3]&&(c=p(c,E[2]))}s=b,r=N}const m=f(this,zd);m[0]=o[0]-f(this,tc),m[1]=o[1]-f(this,tc),m[2]=o[2]-o[0]+2*f(this,tc),m[3]=o[3]-o[1]+2*f(this,tc),this.lastPoint=[c,h]};var u2,c2,Bh,Io,va,i6,uv,n6,s6,Qw;class Kw{constructor(t,e=0,i=0,s=!0){I(this,va);I(this,u2);I(this,c2);I(this,Bh,[]);I(this,Io,[]);const r=[1/0,1/0,-1/0,-1/0],o=10**-4;for(const{x:b,y:N,width:E,height:T}of t){const L=Math.floor((b-e)/o)*o,R=Math.ceil((b+E+e)/o)*o,k=Math.floor((N-e)/o)*o,j=Math.ceil((N+T+e)/o)*o,H=[L,k,j,!0],tt=[R,k,j,!1];f(this,Bh).push(H,tt),we.rectBoundingBox(L,k,R,j,r)}const c=r[2]-r[0]+2*i,h=r[3]-r[1]+2*i,p=r[0]-i,m=r[1]-i,y=f(this,Bh).at(s?-1:-2),A=[y[0],y[2]];for(const b of f(this,Bh)){const[N,E,T]=b;b[0]=(N-p)/c,b[1]=(E-m)/h,b[2]=(T-m)/h}M(this,u2,new Float32Array([p,m,c,h])),M(this,c2,A)}getOutlines(){f(this,Bh).sort((e,i)=>e[0]-i[0]||e[1]-i[1]||e[2]-i[2]);const t=[];for(const e of f(this,Bh))e[3]?(t.push(...B(this,va,Qw).call(this,e)),B(this,va,n6).call(this,e)):(B(this,va,s6).call(this,e),t.push(...B(this,va,Qw).call(this,e)));return B(this,va,i6).call(this,t)}}u2=new WeakMap,c2=new WeakMap,Bh=new WeakMap,Io=new WeakMap,va=new WeakSet,i6=function(t){const e=[],i=new Set;for(const o of t){const[c,h,p]=o;e.push([c,h,o],[c,p,o])}e.sort((o,c)=>o[1]-c[1]||o[0]-c[0]);for(let o=0,c=e.length;o<c;o+=2){const h=e[o][2],p=e[o+1][2];h.push(p),p.push(h),i.add(h),i.add(p)}const s=[];let r;for(;i.size>0;){const o=i.values().next().value;let[c,h,p,m,y]=o;i.delete(o);let A=c,b=h;for(r=[c,p],s.push(r);;){let N;if(i.has(m))N=m;else if(i.has(y))N=y;else break;i.delete(N),[c,h,p,m,y]=N,A!==c&&(r.push(A,b,c,b===h?h:p),A=c),b=b===h?p:h}r.push(A,b)}return new aT(s,f(this,u2),f(this,c2))},uv=function(t){const e=f(this,Io);let i=0,s=e.length-1;for(;i<=s;){const r=i+s>>1,o=e[r][0];if(o===t)return r;o<t?i=r+1:s=r-1}return s+1},n6=function([,t,e]){const i=B(this,va,uv).call(this,t);f(this,Io).splice(i,0,[t,e])},s6=function([,t,e]){const i=B(this,va,uv).call(this,t);for(let s=i;s<f(this,Io).length;s++){const[r,o]=f(this,Io)[s];if(r!==t)break;if(r===t&&o===e){f(this,Io).splice(s,1);return}}for(let s=i-1;s>=0;s--){const[r,o]=f(this,Io)[s];if(r!==t)break;if(r===t&&o===e){f(this,Io).splice(s,1);return}}},Qw=function(t){const[e,i,s]=t,r=[[e,i,s]],o=B(this,va,uv).call(this,s);for(let c=0;c<o;c++){const[h,p]=f(this,Io)[c];for(let m=0,y=r.length;m<y;m++){const[,A,b]=r[m];if(!(p<=A||b<=h)){if(A>=h){if(b>p)r[m][1]=p;else{if(y===1)return[];r.splice(m,1),m--,y--}continue}r[m][2]=h,b>p&&r.push([e,p,b])}}}return r};var h2,o1;class aT extends le{constructor(e,i,s){super();I(this,h2);I(this,o1);M(this,o1,e),M(this,h2,i),this.lastPoint=s}toSVGPath(){const e=[];for(const i of f(this,o1)){let[s,r]=i;e.push(`M${s} ${r}`);for(let o=2;o<i.length;o+=2){const c=i[o],h=i[o+1];c===s?(e.push(`V${h}`),r=h):h===r&&(e.push(`H${c}`),s=c)}e.push("Z")}return e.join(" ")}serialize([e,i,s,r],o){const c=[],h=s-e,p=r-i;for(const m of f(this,o1)){const y=new Array(m.length);for(let A=0;A<m.length;A+=2)y[A]=e+m[A]*h,y[A+1]=r-m[A+1]*p;c.push(y)}return c}get box(){return f(this,h2)}get classNamesForOutlining(){return["highlightOutline"]}}h2=new WeakMap,o1=new WeakMap;class Zw extends Cv{newFreeDrawOutline(t,e,i,s,r,o){return new rT(t,e,i,s,r,o)}}class rT extends t6{newOutliner(t,e,i,s,r,o=0){return new Zw(t,e,i,s,r,o)}}var Bo,qd,l1,$n,f2,u1,d2,p2,jh,jo,c1,g2,Ci,Jw,tA,eA,Xf,a6,fh;const Da=class Da{constructor({editor:t=null,uiManager:e=null}){I(this,Ci);I(this,Bo,null);I(this,qd,null);I(this,l1);I(this,$n,null);I(this,f2,!1);I(this,u1,!1);I(this,d2,null);I(this,p2);I(this,jh,null);I(this,jo,null);I(this,c1);var i;t?(M(this,u1,!1),M(this,c1,ai.HIGHLIGHT_COLOR),M(this,d2,t)):(M(this,u1,!0),M(this,c1,ai.HIGHLIGHT_DEFAULT_COLOR)),M(this,jo,(t==null?void 0:t._uiManager)||e),M(this,p2,f(this,jo)._eventBus),M(this,l1,(t==null?void 0:t.color)||((i=f(this,jo))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),f(Da,g2)||M(Da,g2,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return ei(this,"_keyboardManager",new T2([[["Escape","mac+Escape"],Da.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Da.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Da.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Da.prototype._moveToPrevious],[["Home","mac+Home"],Da.prototype._moveToBeginning],[["End","mac+End"],Da.prototype._moveToEnd]]))}renderButton(){const t=M(this,Bo,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=f(this,jo)._signal;t.addEventListener("click",B(this,Ci,Xf).bind(this),{signal:e}),t.addEventListener("keydown",B(this,Ci,eA).bind(this),{signal:e});const i=M(this,qd,document.createElement("span"));return i.className="swatch",i.setAttribute("aria-hidden",!0),i.style.backgroundColor=f(this,l1),t.append(i),t}renderMainDropdown(){const t=M(this,$n,B(this,Ci,Jw).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===f(this,Bo)){B(this,Ci,Xf).call(this,t);return}const e=t.target.getAttribute("data-color");e&&B(this,Ci,tA).call(this,e,t)}_moveToNext(t){var e,i;if(!f(this,Ci,fh)){B(this,Ci,Xf).call(this,t);return}if(t.target===f(this,Bo)){(e=f(this,$n).firstChild)==null||e.focus();return}(i=t.target.nextSibling)==null||i.focus()}_moveToPrevious(t){var e,i;if(t.target===((e=f(this,$n))==null?void 0:e.firstChild)||t.target===f(this,Bo)){f(this,Ci,fh)&&this._hideDropdownFromKeyboard();return}f(this,Ci,fh)||B(this,Ci,Xf).call(this,t),(i=t.target.previousSibling)==null||i.focus()}_moveToBeginning(t){var e;if(!f(this,Ci,fh)){B(this,Ci,Xf).call(this,t);return}(e=f(this,$n).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!f(this,Ci,fh)){B(this,Ci,Xf).call(this,t);return}(e=f(this,$n).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=f(this,$n))==null||t.classList.add("hidden"),(e=f(this,jh))==null||e.abort(),M(this,jh,null)}_hideDropdownFromKeyboard(){var t;if(!f(this,u1)){if(!f(this,Ci,fh)){(t=f(this,d2))==null||t.unselect();return}this.hideDropdown(),f(this,Bo).focus({preventScroll:!0,focusVisible:f(this,f2)})}}updateColor(t){if(f(this,qd)&&(f(this,qd).style.backgroundColor=t),!f(this,$n))return;const e=f(this,jo).highlightColors.values();for(const i of f(this,$n).children)i.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=f(this,Bo))==null||t.remove(),M(this,Bo,null),M(this,qd,null),(e=f(this,$n))==null||e.remove(),M(this,$n,null)}};Bo=new WeakMap,qd=new WeakMap,l1=new WeakMap,$n=new WeakMap,f2=new WeakMap,u1=new WeakMap,d2=new WeakMap,p2=new WeakMap,jh=new WeakMap,jo=new WeakMap,c1=new WeakMap,g2=new WeakMap,Ci=new WeakSet,Jw=function(){const t=document.createElement("div"),e=f(this,jo)._signal;t.addEventListener("contextmenu",Go,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[i,s]of f(this,jo).highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",s),r.title=i,r.setAttribute("data-l10n-id",f(Da,g2)[i]);const o=document.createElement("span");r.append(o),o.className="swatch",o.style.backgroundColor=s,r.setAttribute("aria-selected",s===f(this,l1)),r.addEventListener("click",B(this,Ci,tA).bind(this,s),{signal:e}),t.append(r)}return t.addEventListener("keydown",B(this,Ci,eA).bind(this),{signal:e}),t},tA=function(t,e){e.stopPropagation(),f(this,p2).dispatch("switchannotationeditorparams",{source:this,type:f(this,c1),value:t})},eA=function(t){Da._keyboardManager.exec(this,t)},Xf=function(t){if(f(this,Ci,fh)){this.hideDropdown();return}if(M(this,f2,t.detail===0),f(this,jh)||(M(this,jh,new AbortController),window.addEventListener("pointerdown",B(this,Ci,a6).bind(this),{signal:f(this,jo).combinedSignal(f(this,jh))})),f(this,$n)){f(this,$n).classList.remove("hidden");return}const e=M(this,$n,B(this,Ci,Jw).call(this));f(this,Bo).append(e)},a6=function(t){var e;(e=f(this,$n))!=null&&e.contains(t.target)||this.hideDropdown()},fh=function(){return f(this,$n)&&!f(this,$n).classList.contains("hidden")},I(Da,g2,null);let Tv=Da;var h1,m2,ec,Ud,f1,Fa,v2,b2,Hd,Kr,br,xs,d1,ic,Xs,p1,Qr,y2,je,iA,cv,r6,o6,l6,nA,Wf,to,og,u6,hv,j0,c6,h6,f6,d6,p6;const vi=class vi extends qi{constructor(e){super({...e,name:"highlightEditor"});I(this,je);I(this,h1,null);I(this,m2,0);I(this,ec);I(this,Ud,null);I(this,f1,null);I(this,Fa,null);I(this,v2,null);I(this,b2,0);I(this,Hd,null);I(this,Kr,null);I(this,br,null);I(this,xs,!1);I(this,d1,null);I(this,ic);I(this,Xs,null);I(this,p1,"");I(this,Qr);I(this,y2,"");this.color=e.color||vi._defaultColor,M(this,Qr,e.thickness||vi._defaultThickness),M(this,ic,e.opacity||vi._defaultOpacity),M(this,ec,e.boxes||null),M(this,y2,e.methodOfCreation||""),M(this,p1,e.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(M(this,xs,!0),B(this,je,cv).call(this,e),B(this,je,Wf).call(this)):f(this,ec)&&(M(this,h1,e.anchorNode),M(this,m2,e.anchorOffset),M(this,v2,e.focusNode),M(this,b2,e.focusOffset),B(this,je,iA).call(this),B(this,je,Wf).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=vi.prototype;return ei(this,"_keyboardManager",new T2([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:f(this,xs)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:f(this,Qr),methodOfCreation:f(this,y2)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,i){var s;qi.initialize(e,i),vi._defaultColor||(vi._defaultColor=((s=i.highlightColors)==null?void 0:s.values().next().value)||"#fff066")}static updateDefaultParams(e,i){switch(e){case ai.HIGHLIGHT_DEFAULT_COLOR:vi._defaultColor=i;break;case ai.HIGHLIGHT_THICKNESS:vi._defaultThickness=i;break}}translateInPage(e,i){}get toolbarPosition(){return f(this,d1)}updateParams(e,i){switch(e){case ai.HIGHLIGHT_COLOR:B(this,je,r6).call(this,i);break;case ai.HIGHLIGHT_THICKNESS:B(this,je,o6).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[ai.HIGHLIGHT_DEFAULT_COLOR,vi._defaultColor],[ai.HIGHLIGHT_THICKNESS,vi._defaultThickness]]}get propertiesToUpdate(){return[[ai.HIGHLIGHT_COLOR,this.color||vi._defaultColor],[ai.HIGHLIGHT_THICKNESS,f(this,Qr)||vi._defaultThickness],[ai.HIGHLIGHT_FREE,f(this,xs)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(M(this,f1,new Tv({editor:this})),e.addColorPicker(f(this,f1))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(B(this,je,j0).call(this))}getBaseTranslation(){return[0,0]}getRect(e,i){return super.getRect(e,i,B(this,je,j0).call(this))}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){B(this,je,nA).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(B(this,je,Wf).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var s;let i=!1;this.parent&&!e?B(this,je,nA).call(this):e&&(B(this,je,Wf).call(this,e),i=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),i&&this.select()}rotate(e){var r,o,c;const{drawLayer:i}=this.parent;let s;f(this,xs)?(e=(e-this.rotation+360)%360,s=B(r=vi,to,og).call(r,f(this,Kr).box,e)):s=B(o=vi,to,og).call(o,[this.x,this.y,this.width,this.height],e),i.updateProperties(f(this,br),{bbox:s,root:{"data-main-rotation":e}}),i.updateProperties(f(this,Xs),{bbox:B(c=vi,to,og).call(c,f(this,Fa).box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();f(this,p1)&&(e.setAttribute("aria-label",f(this,p1)),e.setAttribute("role","mark")),f(this,xs)?e.classList.add("free"):this.div.addEventListener("keydown",B(this,je,u6).bind(this),{signal:this._uiManager._signal});const i=M(this,Hd,document.createElement("div"));e.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=f(this,Ud);const[s,r]=this.parentDimensions;return this.setDims(this.width*s,this.height*r),D_(this,f(this,Hd),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(f(this,Xs),{rootClass:{hovered:!0}})}pointerleave(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(f(this,Xs),{rootClass:{hovered:!1}})}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:B(this,je,hv).call(this,!0);break;case 1:case 3:B(this,je,hv).call(this,!1);break}}select(){var e;super.select(),f(this,Xs)&&((e=this.parent)==null||e.drawLayer.updateProperties(f(this,Xs),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var e;super.unselect(),f(this,Xs)&&((e=this.parent)==null||e.drawLayer.updateProperties(f(this,Xs),{rootClass:{selected:!1}}),f(this,xs)||B(this,je,hv).call(this,!1))}get _mustFixPosition(){return!f(this,xs)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(f(this,br),{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(f(this,Xs),{rootClass:{hidden:!e}}))}static startHighlighting(e,i,{target:s,x:r,y:o}){const{x:c,y:h,width:p,height:m}=s.getBoundingClientRect(),y=new AbortController,A=e.combinedSignal(y),b=N=>{y.abort(),B(this,to,d6).call(this,e,N)};window.addEventListener("blur",b,{signal:A}),window.addEventListener("pointerup",b,{signal:A}),window.addEventListener("pointerdown",Bn,{capture:!0,passive:!1,signal:A}),window.addEventListener("contextmenu",Go,{signal:A}),s.addEventListener("pointermove",B(this,to,f6).bind(this,e),{signal:A}),this._freeHighlight=new Zw({x:r,y:o},[c,h,p,m],e.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(e,i,s){var E,T,L,R;let r=null;if(e instanceof qx){const{data:{quadPoints:k,rect:j,rotation:H,id:tt,color:Z,opacity:Q,popupRef:et},parent:{page:{pageNumber:ft}}}=e;r=e={annotationType:Fe.HIGHLIGHT,color:Array.from(Z),opacity:Q,quadPoints:k,boxes:null,pageIndex:ft-1,rect:j.slice(0),rotation:H,id:tt,deleted:!1,popupRef:et}}else if(e instanceof zA){const{data:{inkLists:k,rect:j,rotation:H,id:tt,color:Z,borderStyle:{rawWidth:Q},popupRef:et},parent:{page:{pageNumber:ft}}}=e;r=e={annotationType:Fe.HIGHLIGHT,color:Array.from(Z),thickness:Q,inkLists:k,boxes:null,pageIndex:ft-1,rect:j.slice(0),rotation:H,id:tt,deleted:!1,popupRef:et}}const{color:o,quadPoints:c,inkLists:h,opacity:p}=e,m=await super.deserialize(e,i,s);m.color=we.makeHexColor(...o),M(m,ic,p||1),h&&M(m,Qr,e.thickness),m.annotationElementId=e.id||null,m._initialData=r;const[y,A]=m.pageDimensions,[b,N]=m.pageTranslation;if(c){const k=M(m,ec,[]);for(let j=0;j<c.length;j+=8)k.push({x:(c[j]-b)/y,y:1-(c[j+1]-N)/A,width:(c[j+2]-c[j])/y,height:(c[j+1]-c[j+5])/A});B(E=m,je,iA).call(E),B(T=m,je,Wf).call(T),m.rotate(m.rotation)}else if(h){M(m,xs,!0);const k=h[0],j={x:k[0]-b,y:A-(k[1]-N)},H=new Zw(j,[0,0,y,A],1,f(m,Qr)/2,!0,.001);for(let Q=0,et=k.length;Q<et;Q+=2)j.x=k[Q]-b,j.y=A-(k[Q+1]-N),H.add(j);const{id:tt,clipPathId:Z}=i.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:m.color,"fill-opacity":m._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:H.toSVGPath()}},!0,!0);B(L=m,je,cv).call(L,{highlightOutlines:H.getOutlines(),highlightId:tt,clipPathId:Z}),B(R=m,je,Wf).call(R),m.rotate(m.parentRotation)}return m}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const i=this.getRect(0,0),s=qi._colorManager.convert(this.color),r={annotationType:Fe.HIGHLIGHT,color:s,opacity:f(this,ic),thickness:f(this,Qr),quadPoints:B(this,je,c6).call(this),outlines:B(this,je,h6).call(this,i),pageIndex:this.pageIndex,rect:i,rotation:B(this,je,j0).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!B(this,je,p6).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};h1=new WeakMap,m2=new WeakMap,ec=new WeakMap,Ud=new WeakMap,f1=new WeakMap,Fa=new WeakMap,v2=new WeakMap,b2=new WeakMap,Hd=new WeakMap,Kr=new WeakMap,br=new WeakMap,xs=new WeakMap,d1=new WeakMap,ic=new WeakMap,Xs=new WeakMap,p1=new WeakMap,Qr=new WeakMap,y2=new WeakMap,je=new WeakSet,iA=function(){const e=new Kw(f(this,ec),.001);M(this,Kr,e.getOutlines()),[this.x,this.y,this.width,this.height]=f(this,Kr).box;const i=new Kw(f(this,ec),.0025,.001,this._uiManager.direction==="ltr");M(this,Fa,i.getOutlines());const{lastPoint:s}=f(this,Fa);M(this,d1,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},cv=function({highlightOutlines:e,highlightId:i,clipPathId:s}){var y,A;if(M(this,Kr,e),M(this,Fa,e.getNewOutline(f(this,Qr)/2+1.5,.0025)),i>=0)M(this,br,i),M(this,Ud,s),this.parent.drawLayer.finalizeDraw(i,{bbox:e.box,path:{d:e.toSVGPath()}}),M(this,Xs,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:f(this,Fa).box,path:{d:f(this,Fa).toSVGPath()}},!0));else if(this.parent){const b=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(f(this,br),{bbox:B(y=vi,to,og).call(y,f(this,Kr).box,(b-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(f(this,Xs),{bbox:B(A=vi,to,og).call(A,f(this,Fa).box,b),path:{d:f(this,Fa).toSVGPath()}})}const[o,c,h,p]=e.box;switch(this.rotation){case 0:this.x=o,this.y=c,this.width=h,this.height=p;break;case 90:{const[b,N]=this.parentDimensions;this.x=c,this.y=1-o,this.width=h*N/b,this.height=p*b/N;break}case 180:this.x=1-o,this.y=1-c,this.width=h,this.height=p;break;case 270:{const[b,N]=this.parentDimensions;this.x=1-c,this.y=o,this.width=h*N/b,this.height=p*b/N;break}}const{lastPoint:m}=f(this,Fa);M(this,d1,[(m[0]-o)/h,(m[1]-c)/p])},r6=function(e){const i=(o,c)=>{var h,p;this.color=o,M(this,ic,c),(h=this.parent)==null||h.drawLayer.updateProperties(f(this,br),{root:{fill:o,"fill-opacity":c}}),(p=f(this,f1))==null||p.updateColor(o)},s=this.color,r=f(this,ic);this.addCommands({cmd:i.bind(this,e,vi._defaultOpacity),undo:i.bind(this,s,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ai.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},o6=function(e){const i=f(this,Qr),s=r=>{M(this,Qr,r),B(this,je,l6).call(this,r)};this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ai.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},l6=function(e){if(!f(this,xs))return;B(this,je,cv).call(this,{highlightOutlines:f(this,Kr).getNewOutline(e/2)}),this.fixAndSetPosition();const[i,s]=this.parentDimensions;this.setDims(this.width*i,this.height*s)},nA=function(){f(this,br)===null||!this.parent||(this.parent.drawLayer.remove(f(this,br)),M(this,br,null),this.parent.drawLayer.remove(f(this,Xs)),M(this,Xs,null))},Wf=function(e=this.parent){f(this,br)===null&&({id:la(this,br)._,clipPathId:la(this,Ud)._}=e.drawLayer.draw({bbox:f(this,Kr).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":f(this,ic)},rootClass:{highlight:!0,free:f(this,xs)},path:{d:f(this,Kr).toSVGPath()}},!1,!0),M(this,Xs,e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:f(this,xs)},bbox:f(this,Fa).box,path:{d:f(this,Fa).toSVGPath()}},f(this,xs))),f(this,Hd)&&(f(this,Hd).style.clipPath=f(this,Ud)))},to=new WeakSet,og=function([e,i,s,r],o){switch(o){case 90:return[1-i-r,e,r,s];case 180:return[1-e-s,1-i-r,s,r];case 270:return[i,1-e-s,r,s]}return[e,i,s,r]},u6=function(e){vi._keyboardManager.exec(this,e)},hv=function(e){if(!f(this,h1))return;const i=window.getSelection();e?i.setPosition(f(this,h1),f(this,m2)):i.setPosition(f(this,v2),f(this,b2))},j0=function(){return f(this,xs)?this.rotation:0},c6=function(){if(f(this,xs))return null;const[e,i]=this.pageDimensions,[s,r]=this.pageTranslation,o=f(this,ec),c=new Float32Array(o.length*8);let h=0;for(const{x:p,y:m,width:y,height:A}of o){const b=p*e+s,N=(1-m)*i+r;c[h]=c[h+4]=b,c[h+1]=c[h+3]=N,c[h+2]=c[h+6]=b+y*e,c[h+5]=c[h+7]=N-A*i,h+=8}return c},h6=function(e){return f(this,Kr).serialize(e,B(this,je,j0).call(this))},f6=function(e,i){this._freeHighlight.add(i)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},d6=function(e,i){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},p6=function(e){const{color:i}=this._initialData;return e.color.some((s,r)=>s!==i[r])},I(vi,to),Kt(vi,"_defaultColor",null),Kt(vi,"_defaultOpacity",1),Kt(vi,"_defaultThickness",12),Kt(vi,"_type","highlight"),Kt(vi,"_editorType",Fe.HIGHLIGHT),Kt(vi,"_freeHighlightId",-1),Kt(vi,"_freeHighlight",null),Kt(vi,"_freeHighlightClipId","");let Rv=vi;var Gd;class g6{constructor(){I(this,Gd,Object.create(null))}updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,i]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,i)}updateSVGProperty(t,e){f(this,Gd)[t]=e}toSVGProperties(){const t=f(this,Gd);return M(this,Gd,Object.create(null)),{root:t}}reset(){M(this,Gd,Object.create(null))}updateAll(t=this){this.updateProperties(t)}clone(){Ti("Not implemented")}}Gd=new WeakMap;var yr,g1,ls,Vd,Yd,zh,qh,Uh,Xd,fi,sA,aA,rA,z0,m6,fv,q0,lg;const ce=class ce extends qi{constructor(e){super(e);I(this,fi);I(this,yr,null);I(this,g1);Kt(this,"_drawId",null);M(this,g1,e.mustBeCommitted||!1),this._addOutlines(e)}_addOutlines(e){e.drawOutlines&&(B(this,fi,sA).call(this,e),B(this,fi,z0).call(this))}static _mergeSVGProperties(e,i){const s=new Set(Object.keys(e));for(const[r,o]of Object.entries(i))s.has(r)?Object.assign(e[r],o):e[r]=o;return e}static getDefaultDrawingOptions(e){Ti("Not implemented")}static get typesMap(){Ti("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,i){const s=this.typesMap.get(e);s&&this._defaultDrawingOptions.updateProperty(s,i),this._currentParent&&(f(ce,ls).updateProperty(s,i),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,i){const s=this.constructor.typesMap.get(e);s&&this._updateProperty(e,s,i)}static get defaultPropertiesToUpdate(){const e=[],i=this._defaultDrawingOptions;for(const[s,r]of this.typesMap)e.push([s,i[r]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:i}=this;for(const[s,r]of this.constructor.typesMap)e.push([s,i[r]]);return e}_updateProperty(e,i,s){const r=this._drawingOptions,o=r[i],c=h=>{var m;r.updateProperty(i,h);const p=f(this,yr).updateProperty(i,h);p&&B(this,fi,q0).call(this,p),(m=this.parent)==null||m.drawLayer.updateProperties(this._drawId,r.toSVGProperties())};this.addCommands({cmd:c.bind(this,s),undo:c.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,ce._mergeSVGProperties(f(this,yr).getPathResizingSVGProperties(B(this,fi,fv).call(this)),{bbox:B(this,fi,lg).call(this)}))}_onResized(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,ce._mergeSVGProperties(f(this,yr).getPathResizedSVGProperties(B(this,fi,fv).call(this)),{bbox:B(this,fi,lg).call(this)}))}_onTranslating(e,i){var s;(s=this.parent)==null||s.drawLayer.updateProperties(this._drawId,{bbox:B(this,fi,lg).call(this)})}_onTranslated(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,ce._mergeSVGProperties(f(this,yr).getPathTranslatedSVGProperties(B(this,fi,fv).call(this),this.parentDimensions),{bbox:B(this,fi,lg).call(this)}))}_onStartDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,f(this,g1)&&(M(this,g1,!1),this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){B(this,fi,rA).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(B(this,fi,z0).call(this),B(this,fi,q0).call(this,f(this,yr).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var s;let i=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),B(this,fi,rA).call(this)):e&&(this._uiManager.addShouldRescale(this),B(this,fi,z0).call(this,e),i=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(e),i&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,ce._mergeSVGProperties({bbox:B(this,fi,lg).call(this)},f(this,yr).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&B(this,fi,q0).call(this,f(this,yr).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,i;this._isCopy&&(e=this.x,i=this.y);const s=super.render();s.classList.add("draw");const r=document.createElement("div");s.append(r),r.setAttribute("aria-hidden","true"),r.className="internal";const[o,c]=this.parentDimensions;return this.setDims(this.width*o,this.height*c),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,i),s}static createDrawerInstance(e,i,s,r,o){Ti("Not implemented")}static startDrawing(e,i,s,r){var T;const{target:o,offsetX:c,offsetY:h,pointerId:p,pointerType:m}=r;if(f(ce,qh)&&f(ce,qh)!==m)return;const{viewport:{rotation:y}}=e,{width:A,height:b}=o.getBoundingClientRect(),N=M(ce,Vd,new AbortController),E=e.combinedSignal(N);if(f(ce,zh)||M(ce,zh,p),f(ce,qh)??M(ce,qh,m),window.addEventListener("pointerup",L=>{var R;f(ce,zh)===L.pointerId?this._endDraw(L):(R=f(ce,Uh))==null||R.delete(L.pointerId)},{signal:E}),window.addEventListener("pointercancel",L=>{var R;f(ce,zh)===L.pointerId?this._currentParent.endDrawingSession():(R=f(ce,Uh))==null||R.delete(L.pointerId)},{signal:E}),window.addEventListener("pointerdown",L=>{f(ce,qh)===L.pointerType&&((f(ce,Uh)||M(ce,Uh,new Set)).add(L.pointerId),f(ce,ls).isCancellable()&&(f(ce,ls).removeLastElement(),f(ce,ls).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:E}),window.addEventListener("contextmenu",Go,{signal:E}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:E}),o.addEventListener("touchmove",L=>{L.timeStamp===f(ce,Xd)&&Bn(L)},{signal:E}),e.toggleDrawing(),(T=i._editorUndoBar)==null||T.hide(),f(ce,ls)){e.drawLayer.updateProperties(this._currentDrawId,f(ce,ls).startNew(c,h,A,b,y));return}i.updateUIForDefaultProperties(this),M(ce,ls,this.createDrawerInstance(c,h,A,b,y)),M(ce,Yd,this.getDefaultDrawingOptions()),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(f(ce,Yd).toSVGProperties(),f(ce,ls).defaultSVGProperties),!0,!1)}static _drawMove(e){var o;if(M(ce,Xd,-1),!f(ce,ls))return;const{offsetX:i,offsetY:s,pointerId:r}=e;if(f(ce,zh)===r){if(((o=f(ce,Uh))==null?void 0:o.size)>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,f(ce,ls).add(i,s)),M(ce,Xd,e.timeStamp),Bn(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,M(ce,ls,null),M(ce,Yd,null),M(ce,qh,null),M(ce,Xd,NaN)),f(ce,Vd)&&(f(ce,Vd).abort(),M(ce,Vd,null),M(ce,zh,NaN),M(ce,Uh,null))}static _endDraw(e){const i=this._currentParent;if(i){if(i.toggleDrawing(!0),this._cleanup(!1),(e==null?void 0:e.target)===i.div&&i.drawLayer.updateProperties(this._currentDrawId,f(ce,ls).end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const s=f(ce,ls),r=this._currentDrawId,o=s.getLastElement();i.addCommands({cmd:()=>{i.drawLayer.updateProperties(r,s.setLastElement(o))},undo:()=>{i.drawLayer.updateProperties(r,s.removeLastElement())},mustExec:!1,type:ai.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const i=this._currentParent;if(!i)return null;if(i.toggleDrawing(!0),i.cleanUndoStack(ai.DRAW_STEP),!f(ce,ls).isEmpty()){const{pageDimensions:[s,r],scale:o}=i,c=i.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:f(ce,ls).getOutlines(s*o,r*o,o,this._INNER_MARGIN),drawingOptions:f(ce,Yd),mustBeCommitted:!e});return this._cleanup(!0),c}return i.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,i,s,r,o,c){Ti("Not implemented")}static async deserialize(e,i,s){var y,A;const{rawDims:{pageWidth:r,pageHeight:o,pageX:c,pageY:h}}=i.viewport,p=this.deserializeDraw(c,h,r,o,this._INNER_MARGIN,e),m=await super.deserialize(e,i,s);return m.createDrawingOptions(e),B(y=m,fi,sA).call(y,{drawOutlines:p}),B(A=m,fi,z0).call(A),m.onScaleChanging(),m.rotate(),m}serializeDraw(e){const[i,s]=this.pageTranslation,[r,o]=this.pageDimensions;return f(this,yr).serialize([i,s,r,o],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};yr=new WeakMap,g1=new WeakMap,ls=new WeakMap,Vd=new WeakMap,Yd=new WeakMap,zh=new WeakMap,qh=new WeakMap,Uh=new WeakMap,Xd=new WeakMap,fi=new WeakSet,sA=function({drawOutlines:e,drawId:i,drawingOptions:s}){M(this,yr,e),this._drawingOptions||(this._drawingOptions=s),i>=0?(this._drawId=i,this.parent.drawLayer.finalizeDraw(i,e.defaultProperties)):this._drawId=B(this,fi,aA).call(this,e,this.parent),B(this,fi,q0).call(this,e.box)},aA=function(e,i){const{id:s}=i.drawLayer.draw(ce._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return s},rA=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},z0=function(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=B(this,fi,aA).call(this,f(this,yr),e)}},m6=function([e,i,s,r]){const{parentDimensions:[o,c],rotation:h}=this;switch(h){case 90:return[i,1-e,s*(c/o),r*(o/c)];case 180:return[1-e,1-i,s,r];case 270:return[1-i,e,s*(c/o),r*(o/c)];default:return[e,i,s,r]}},fv=function(){const{x:e,y:i,width:s,height:r,parentDimensions:[o,c],rotation:h}=this;switch(h){case 90:return[1-i,e,s*(o/c),r*(c/o)];case 180:return[1-e,1-i,s,r];case 270:return[i,1-e,s*(o/c),r*(c/o)];default:return[e,i,s,r]}},q0=function(e){if([this.x,this.y,this.width,this.height]=B(this,fi,m6).call(this,e),this.div){this.fixAndSetPosition();const[i,s]=this.parentDimensions;this.setDims(this.width*i,this.height*s)}this._onResized()},lg=function(){const{x:e,y:i,width:s,height:r,rotation:o,parentRotation:c,parentDimensions:[h,p]}=this;switch((o*4+c)/90){case 1:return[1-i-r,e,r,s];case 2:return[1-e-s,1-i-r,s,r];case 3:return[i,1-e-s,r,s];case 4:return[e,i-s*(h/p),r*(p/h),s*(h/p)];case 5:return[1-i,e,s*(h/p),r*(p/h)];case 6:return[1-e-r*(p/h),1-i,r*(p/h),s*(h/p)];case 7:return[i-s*(h/p),1-e-r*(p/h),s*(h/p),r*(p/h)];case 8:return[e-s,i-r,s,r];case 9:return[1-i,e-s,r,s];case 10:return[1-e,1-i,s,r];case 11:return[i-r,1-e,r,s];case 12:return[e-r*(p/h),i,r*(p/h),s*(h/p)];case 13:return[1-i-s*(h/p),e-r*(p/h),s*(h/p),r*(p/h)];case 14:return[1-e,1-i-s*(h/p),r*(p/h),s*(h/p)];case 15:return[i,1-e,s*(h/p),r*(p/h)];default:return[e,i,s,r]}},Kt(ce,"_currentDrawId",-1),Kt(ce,"_currentParent",null),I(ce,ls,null),I(ce,Vd,null),I(ce,Yd,null),I(ce,zh,NaN),I(ce,qh,null),I(ce,Uh,null),I(ce,Xd,NaN),Kt(ce,"_INNER_MARGIN",3);let Mv=ce;var Il,us,cs,Wd,m1,ha,Es,Zr,$d,Kd,Qd,v1,dv;class oT{constructor(t,e,i,s,r,o){I(this,v1);I(this,Il,new Float64Array(6));I(this,us);I(this,cs);I(this,Wd);I(this,m1);I(this,ha);I(this,Es,"");I(this,Zr,0);I(this,$d,new k2);I(this,Kd);I(this,Qd);M(this,Kd,i),M(this,Qd,s),M(this,Wd,r),M(this,m1,o),[t,e]=B(this,v1,dv).call(this,t,e);const c=M(this,us,[NaN,NaN,NaN,NaN,t,e]);M(this,ha,[t,e]),M(this,cs,[{line:c,points:f(this,ha)}]),f(this,Il).set(c,0)}updateProperty(t,e){t==="stroke-width"&&M(this,m1,e)}isEmpty(){return!f(this,cs)||f(this,cs).length===0}isCancellable(){return f(this,ha).length<=10}add(t,e){[t,e]=B(this,v1,dv).call(this,t,e);const[i,s,r,o]=f(this,Il).subarray(2,6),c=t-r,h=e-o;return Math.hypot(f(this,Kd)*c,f(this,Qd)*h)<=2?null:(f(this,ha).push(t,e),isNaN(i)?(f(this,Il).set([r,o,t,e],2),f(this,us).push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(f(this,Il)[0])&&f(this,us).splice(6,6),f(this,Il).set([i,s,r,o,t,e],0),f(this,us).push(...le.createBezierPoints(i,s,r,o,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const i=this.add(t,e);return i||(f(this,ha).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,i,s,r){M(this,Kd,i),M(this,Qd,s),M(this,Wd,r),[t,e]=B(this,v1,dv).call(this,t,e);const o=M(this,us,[NaN,NaN,NaN,NaN,t,e]);M(this,ha,[t,e]);const c=f(this,cs).at(-1);return c&&(c.line=new Float32Array(c.line),c.points=new Float32Array(c.points)),f(this,cs).push({line:o,points:f(this,ha)}),f(this,Il).set(o,0),M(this,Zr,0),this.toSVGPath(),null}getLastElement(){return f(this,cs).at(-1)}setLastElement(t){return f(this,cs)?(f(this,cs).push(t),M(this,us,t.line),M(this,ha,t.points),M(this,Zr,0),{path:{d:this.toSVGPath()}}):f(this,$d).setLastElement(t)}removeLastElement(){if(!f(this,cs))return f(this,$d).removeLastElement();f(this,cs).pop(),M(this,Es,"");for(let t=0,e=f(this,cs).length;t<e;t++){const{line:i,points:s}=f(this,cs)[t];M(this,us,i),M(this,ha,s),M(this,Zr,0),this.toSVGPath()}return{path:{d:f(this,Es)}}}toSVGPath(){const t=le.svgRound(f(this,us)[4]),e=le.svgRound(f(this,us)[5]);if(f(this,ha).length===2)return M(this,Es,`${f(this,Es)} M ${t} ${e} Z`),f(this,Es);if(f(this,ha).length<=6){const s=f(this,Es).lastIndexOf("M");M(this,Es,`${f(this,Es).slice(0,s)} M ${t} ${e}`),M(this,Zr,6)}if(f(this,ha).length===4){const s=le.svgRound(f(this,us)[10]),r=le.svgRound(f(this,us)[11]);return M(this,Es,`${f(this,Es)} L ${s} ${r}`),M(this,Zr,12),f(this,Es)}const i=[];f(this,Zr)===0&&(i.push(`M ${t} ${e}`),M(this,Zr,6));for(let s=f(this,Zr),r=f(this,us).length;s<r;s+=6){const[o,c,h,p,m,y]=f(this,us).slice(s,s+6).map(le.svgRound);i.push(`C${o} ${c} ${h} ${p} ${m} ${y}`)}return M(this,Es,f(this,Es)+i.join(" ")),M(this,Zr,f(this,us).length),f(this,Es)}getOutlines(t,e,i,s){const r=f(this,cs).at(-1);return r.line=new Float32Array(r.line),r.points=new Float32Array(r.points),f(this,$d).build(f(this,cs),t,e,i,f(this,Wd),f(this,m1),s),M(this,Il,null),M(this,us,null),M(this,cs,null),M(this,Es,null),f(this,$d)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Il=new WeakMap,us=new WeakMap,cs=new WeakMap,Wd=new WeakMap,m1=new WeakMap,ha=new WeakMap,Es=new WeakMap,Zr=new WeakMap,$d=new WeakMap,Kd=new WeakMap,Qd=new WeakMap,v1=new WeakSet,dv=function(t,e){return le._normalizePoint(t,e,f(this,Kd),f(this,Qd),f(this,Wd))};var fa,w2,A2,wr,Bl,jl,b1,y1,Zd,Ls,Ru,v6,b6,y6;class k2 extends le{constructor(){super(...arguments);I(this,Ls);I(this,fa);I(this,w2,0);I(this,A2);I(this,wr);I(this,Bl);I(this,jl);I(this,b1);I(this,y1);I(this,Zd)}build(e,i,s,r,o,c,h){M(this,Bl,i),M(this,jl,s),M(this,b1,r),M(this,y1,o),M(this,Zd,c),M(this,A2,h??0),M(this,wr,e),B(this,Ls,b6).call(this)}get thickness(){return f(this,Zd)}setLastElement(e){return f(this,wr).push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return f(this,wr).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:i}of f(this,wr)){if(e.push(`M${le.svgRound(i[4])} ${le.svgRound(i[5])}`),i.length===6){e.push("Z");continue}if(i.length===12&&isNaN(i[6])){e.push(`L${le.svgRound(i[10])} ${le.svgRound(i[11])}`);continue}for(let s=6,r=i.length;s<r;s+=6){const[o,c,h,p,m,y]=i.subarray(s,s+6).map(le.svgRound);e.push(`C${o} ${c} ${h} ${p} ${m} ${y}`)}}return e.join("")}serialize([e,i,s,r],o){const c=[],h=[],[p,m,y,A]=B(this,Ls,v6).call(this);let b,N,E,T,L,R,k,j,H;switch(f(this,y1)){case 0:H=le._rescale,b=e,N=i+r,E=s,T=-r,L=e+p*s,R=i+(1-m-A)*r,k=e+(p+y)*s,j=i+(1-m)*r;break;case 90:H=le._rescaleAndSwap,b=e,N=i,E=s,T=r,L=e+m*s,R=i+p*r,k=e+(m+A)*s,j=i+(p+y)*r;break;case 180:H=le._rescale,b=e+s,N=i,E=-s,T=r,L=e+(1-p-y)*s,R=i+m*r,k=e+(1-p)*s,j=i+(m+A)*r;break;case 270:H=le._rescaleAndSwap,b=e+s,N=i+r,E=-s,T=-r,L=e+(1-m-A)*s,R=i+(1-p-y)*r,k=e+(1-m)*s,j=i+(1-p)*r;break}for(const{line:tt,points:Z}of f(this,wr))c.push(H(tt,b,N,E,T,o?new Array(tt.length):null)),h.push(H(Z,b,N,E,T,o?new Array(Z.length):null));return{lines:c,points:h,rect:[L,R,k,j]}}static deserialize(e,i,s,r,o,{paths:{lines:c,points:h},rotation:p,thickness:m}){const y=[];let A,b,N,E,T;switch(p){case 0:T=le._rescale,A=-e/s,b=i/r+1,N=1/s,E=-1/r;break;case 90:T=le._rescaleAndSwap,A=-i/r,b=-e/s,N=1/r,E=1/s;break;case 180:T=le._rescale,A=e/s+1,b=-i/r,N=-1/s,E=1/r;break;case 270:T=le._rescaleAndSwap,A=i/r+1,b=e/s+1,N=-1/r,E=-1/s;break}if(!c){c=[];for(const R of h){const k=R.length;if(k===2){c.push(new Float32Array([NaN,NaN,NaN,NaN,R[0],R[1]]));continue}if(k===4){c.push(new Float32Array([NaN,NaN,NaN,NaN,R[0],R[1],NaN,NaN,NaN,NaN,R[2],R[3]]));continue}const j=new Float32Array(3*(k-2));c.push(j);let[H,tt,Z,Q]=R.subarray(0,4);j.set([NaN,NaN,NaN,NaN,H,tt],0);for(let et=4;et<k;et+=2){const ft=R[et],q=R[et+1];j.set(le.createBezierPoints(H,tt,Z,Q,ft,q),(et-2)*3),[H,tt,Z,Q]=[Z,Q,ft,q]}}}for(let R=0,k=c.length;R<k;R++)y.push({line:T(c[R].map(j=>j??NaN),A,b,N,E),points:T(h[R].map(j=>j??NaN),A,b,N,E)});const L=new this.prototype.constructor;return L.build(y,s,r,1,p,m,o),L}get box(){return f(this,fa)}updateProperty(e,i){return e==="stroke-width"?B(this,Ls,y6).call(this,i):null}updateParentDimensions([e,i],s){const[r,o]=B(this,Ls,Ru).call(this);M(this,Bl,e),M(this,jl,i),M(this,b1,s);const[c,h]=B(this,Ls,Ru).call(this),p=c-r,m=h-o,y=f(this,fa);return y[0]-=p,y[1]-=m,y[2]+=2*p,y[3]+=2*m,y}updateRotation(e){return M(this,w2,e),{path:{transform:this.rotationTransform}}}get viewBox(){return f(this,fa).map(le.svgRound).join(" ")}get defaultProperties(){const[e,i]=f(this,fa);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${le.svgRound(e)} ${le.svgRound(i)}`}}}get rotationTransform(){const[,,e,i]=f(this,fa);let s=0,r=0,o=0,c=0,h=0,p=0;switch(f(this,w2)){case 90:r=i/e,o=-e/i,h=e;break;case 180:s=-1,c=-1,h=e,p=i;break;case 270:r=-i/e,o=e/i,p=i;break;default:return""}return`matrix(${s} ${r} ${o} ${c} ${le.svgRound(h)} ${le.svgRound(p)})`}getPathResizingSVGProperties([e,i,s,r]){const[o,c]=B(this,Ls,Ru).call(this),[h,p,m,y]=f(this,fa);if(Math.abs(m-o)<=le.PRECISION||Math.abs(y-c)<=le.PRECISION){const T=e+s/2-(h+m/2),L=i+r/2-(p+y/2);return{path:{"transform-origin":`${le.svgRound(e)} ${le.svgRound(i)}`,transform:`${this.rotationTransform} translate(${T} ${L})`}}}const A=(s-2*o)/(m-2*o),b=(r-2*c)/(y-2*c),N=m/s,E=y/r;return{path:{"transform-origin":`${le.svgRound(h)} ${le.svgRound(p)}`,transform:`${this.rotationTransform} scale(${N} ${E}) translate(${le.svgRound(o)} ${le.svgRound(c)}) scale(${A} ${b}) translate(${le.svgRound(-o)} ${le.svgRound(-c)})`}}}getPathResizedSVGProperties([e,i,s,r]){const[o,c]=B(this,Ls,Ru).call(this),h=f(this,fa),[p,m,y,A]=h;if(h[0]=e,h[1]=i,h[2]=s,h[3]=r,Math.abs(y-o)<=le.PRECISION||Math.abs(A-c)<=le.PRECISION){const L=e+s/2-(p+y/2),R=i+r/2-(m+A/2);for(const{line:k,points:j}of f(this,wr))le._translate(k,L,R,k),le._translate(j,L,R,j);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${le.svgRound(e)} ${le.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const b=(s-2*o)/(y-2*o),N=(r-2*c)/(A-2*c),E=-b*(p+o)+e+o,T=-N*(m+c)+i+c;if(b!==1||N!==1||E!==0||T!==0)for(const{line:L,points:R}of f(this,wr))le._rescale(L,E,T,b,N,L),le._rescale(R,E,T,b,N,R);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${le.svgRound(e)} ${le.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,i],s){const[r,o]=s,c=f(this,fa),h=e-c[0],p=i-c[1];if(f(this,Bl)===r&&f(this,jl)===o)for(const{line:m,points:y}of f(this,wr))le._translate(m,h,p,m),le._translate(y,h,p,y);else{const m=f(this,Bl)/r,y=f(this,jl)/o;M(this,Bl,r),M(this,jl,o);for(const{line:A,points:b}of f(this,wr))le._rescale(A,h,p,m,y,A),le._rescale(b,h,p,m,y,b);c[2]*=m,c[3]*=y}return c[0]=e,c[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${le.svgRound(e)} ${le.svgRound(i)}`}}}get defaultSVGProperties(){const e=f(this,fa);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${le.svgRound(e[0])} ${le.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}fa=new WeakMap,w2=new WeakMap,A2=new WeakMap,wr=new WeakMap,Bl=new WeakMap,jl=new WeakMap,b1=new WeakMap,y1=new WeakMap,Zd=new WeakMap,Ls=new WeakSet,Ru=function(e=f(this,Zd)){const i=f(this,A2)+e/2*f(this,b1);return f(this,y1)%180===0?[i/f(this,Bl),i/f(this,jl)]:[i/f(this,jl),i/f(this,Bl)]},v6=function(){const[e,i,s,r]=f(this,fa),[o,c]=B(this,Ls,Ru).call(this,0);return[e+o,i+c,s-2*o,r-2*c]},b6=function(){const e=M(this,fa,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:r}of f(this,wr)){if(r.length<=12){for(let h=4,p=r.length;h<p;h+=6)we.pointBoundingBox(r[h],r[h+1],e);continue}let o=r[4],c=r[5];for(let h=6,p=r.length;h<p;h+=6){const[m,y,A,b,N,E]=r.subarray(h,h+6);we.bezierBoundingBox(o,c,m,y,A,b,N,E,e),o=N,c=E}}const[i,s]=B(this,Ls,Ru).call(this);e[0]=ga(e[0]-i,0,1),e[1]=ga(e[1]-s,0,1),e[2]=ga(e[2]+i,0,1),e[3]=ga(e[3]+s,0,1),e[2]-=e[0],e[3]-=e[1]},y6=function(e){const[i,s]=B(this,Ls,Ru).call(this);M(this,Zd,e);const[r,o]=B(this,Ls,Ru).call(this),[c,h]=[r-i,o-s],p=f(this,fa);return p[0]-=c,p[1]-=h,p[2]+=2*c,p[3]+=2*h,p};class ob extends g6{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:qi._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??(e=this["stroke-width"]),e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new ob(this._viewParameters);return t.updateAll(this),t}}var $v,w6;const fg=class fg extends Mv{constructor(e){super({...e,name:"inkEditor"});I(this,$v);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,i){qi.initialize(e,i),this._defaultDrawingOptions=new ob(i.viewParameters)}static getDefaultDrawingOptions(e){const i=this._defaultDrawingOptions.clone();return i.updateProperties(e),i}static get supportMultipleDrawings(){return!0}static get typesMap(){return ei(this,"typesMap",new Map([[ai.INK_THICKNESS,"stroke-width"],[ai.INK_COLOR,"stroke"],[ai.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,i,s,r,o){return new oT(e,i,s,r,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,i,s,r,o,c){return k2.deserialize(e,i,s,r,o,c)}static async deserialize(e,i,s){let r=null;if(e instanceof zA){const{data:{inkLists:c,rect:h,rotation:p,id:m,color:y,opacity:A,borderStyle:{rawWidth:b},popupRef:N},parent:{page:{pageNumber:E}}}=e;r=e={annotationType:Fe.INK,color:Array.from(y),thickness:b,opacity:A,paths:{points:c},boxes:null,pageIndex:E-1,rect:h.slice(0),rotation:p,id:m,deleted:!1,popupRef:N}}const o=await super.deserialize(e,i,s);return o.annotationElementId=e.id||null,o._initialData=r,o}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:i,parent:s}=this;i.updateSVGProperty("stroke-width"),s.drawLayer.updateProperties(e,i.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:i,opacity:s}){this._drawingOptions=fg.getDefaultDrawingOptions({stroke:we.makeHexColor(...e),"stroke-width":i,"stroke-opacity":s})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:i,points:s,rect:r}=this.serializeDraw(e),{_drawingOptions:{stroke:o,"stroke-opacity":c,"stroke-width":h}}=this,p={annotationType:Fe.INK,color:qi._colorManager.convert(o),opacity:c,thickness:h,paths:{lines:i,points:s},pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(p.isCopy=!0,p):this.annotationElementId&&!B(this,$v,w6).call(this,p)?null:(p.id=this.annotationElementId,p)}renderAnnotationElement(e){const{points:i,rect:s}=this.serializeDraw(!1);return e.updateEdited({rect:s,thickness:this._drawingOptions["stroke-width"],points:i}),null}};$v=new WeakSet,w6=function(e){const{color:i,thickness:s,opacity:r,pageIndex:o}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||e.color.some((c,h)=>c!==i[h])||e.thickness!==s||e.opacity!==r||e.pageIndex!==o},Kt(fg,"_type","ink"),Kt(fg,"_editorType",Fe.INK),Kt(fg,"_defaultDrawingOptions",null);let oA=fg;class lA extends k2{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const F5=8,x0=3;var Jd,yi,uA,zo,A6,S6,cA,pv,_6,x6,E6,hA,fA,N6;class uc{static extractContoursFromText(t,{fontFamily:e,fontStyle:i,fontWeight:s},r,o,c,h){let p=new OffscreenCanvas(1,1),m=p.getContext("2d",{alpha:!1});const y=200,A=m.font=`${i} ${s} ${y}px ${e}`,{actualBoundingBoxLeft:b,actualBoundingBoxRight:N,actualBoundingBoxAscent:E,actualBoundingBoxDescent:T,fontBoundingBoxAscent:L,fontBoundingBoxDescent:R,width:k}=m.measureText(t),j=1.5,H=Math.ceil(Math.max(Math.abs(b)+Math.abs(N)||0,k)*j),tt=Math.ceil(Math.max(Math.abs(E)+Math.abs(T)||y,Math.abs(L)+Math.abs(R)||y)*j);p=new OffscreenCanvas(H,tt),m=p.getContext("2d",{alpha:!0,willReadFrequently:!0}),m.font=A,m.filter="grayscale(1)",m.fillStyle="white",m.fillRect(0,0,H,tt),m.fillStyle="black",m.fillText(t,H*(j-1)/2,tt*(3-j)/2);const Z=B(this,yi,hA).call(this,m.getImageData(0,0,H,tt).data),Q=B(this,yi,E6).call(this,Z),et=B(this,yi,fA).call(this,Q),ft=B(this,yi,cA).call(this,Z,H,tt,et);return this.processDrawnLines({lines:{curves:ft,width:H,height:tt},pageWidth:r,pageHeight:o,rotation:c,innerMargin:h,mustSmooth:!0,areContours:!0})}static process(t,e,i,s,r){const[o,c,h]=B(this,yi,N6).call(this,t),[p,m]=B(this,yi,x6).call(this,o,c,h,Math.hypot(c,h)*f(this,Jd).sigmaSFactor,f(this,Jd).sigmaR,f(this,Jd).kernelSize),y=B(this,yi,fA).call(this,m),A=B(this,yi,cA).call(this,p,c,h,y);return this.processDrawnLines({lines:{curves:A,width:c,height:h},pageWidth:e,pageHeight:i,rotation:s,innerMargin:r,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:i,rotation:s,innerMargin:r,mustSmooth:o,areContours:c}){s%180!==0&&([e,i]=[i,e]);const{curves:h,width:p,height:m}=t,y=t.thickness??0,A=[],b=Math.min(e/p,i/m),N=b/e,E=b/i,T=[];for(const{points:R}of h){const k=o?B(this,yi,_6).call(this,R):R;if(!k)continue;T.push(k);const j=k.length,H=new Float32Array(j),tt=new Float32Array(3*(j===2?2:j-2));if(A.push({line:tt,points:H}),j===2){H[0]=k[0]*N,H[1]=k[1]*E,tt.set([NaN,NaN,NaN,NaN,H[0],H[1]],0);continue}let[Z,Q,et,ft]=k;Z*=N,Q*=E,et*=N,ft*=E,H.set([Z,Q,et,ft],0),tt.set([NaN,NaN,NaN,NaN,Z,Q],0);for(let q=4;q<j;q+=2){const W=H[q]=k[q]*N,lt=H[q+1]=k[q+1]*E;tt.set(le.createBezierPoints(Z,Q,et,ft,W,lt),(q-2)*3),[Z,Q,et,ft]=[et,ft,W,lt]}}if(A.length===0)return null;const L=c?new lA:new k2;return L.build(A,e,i,1,s,c?0:y,r),{outline:L,newCurves:T,areContours:c,thickness:y,width:p,height:m}}static async compressSignature({outlines:t,areContours:e,thickness:i,width:s,height:r}){let o=1/0,c=-1/0,h=0;for(const k of t){h+=k.length;for(let j=2,H=k.length;j<H;j++){const tt=k[j]-k[j-2];o=Math.min(o,tt),c=Math.max(c,tt)}}let p;o>=-128&&c<=127?p=Int8Array:o>=-32768&&c<=32767?p=Int16Array:p=Int32Array;const m=t.length,y=F5+x0*m,A=new Uint32Array(y);let b=0;A[b++]=y*Uint32Array.BYTES_PER_ELEMENT+(h-2*m)*p.BYTES_PER_ELEMENT,A[b++]=0,A[b++]=s,A[b++]=r,A[b++]=e?0:1,A[b++]=Math.max(0,Math.floor(i??0)),A[b++]=m,A[b++]=p.BYTES_PER_ELEMENT;for(const k of t)A[b++]=k.length-2,A[b++]=k[0],A[b++]=k[1];const N=new CompressionStream("deflate-raw"),E=N.writable.getWriter();await E.ready,E.write(A);const T=p.prototype.constructor;for(const k of t){const j=new T(k.length-2);for(let H=2,tt=k.length;H<tt;H++)j[H-2]=k[H]-k[H-2];E.write(j)}E.close();const L=await new Response(N.readable).arrayBuffer(),R=new Uint8Array(L);return E_(R)}static async decompressSignature(t){try{const e=MC(t),{readable:i,writable:s}=new DecompressionStream("deflate-raw"),r=s.getWriter();await r.ready,r.write(e).then(async()=>{await r.ready,await r.close()}).catch(()=>{});let o=null,c=0;for await(const k of i)o||(o=new Uint8Array(new Uint32Array(k.buffer,0,4)[0])),o.set(k,c),c+=k.length;const h=new Uint32Array(o.buffer,0,o.length>>2),p=h[1];if(p!==0)throw new Error(`Invalid version: ${p}`);const m=h[2],y=h[3],A=h[4]===0,b=h[5],N=h[6],E=h[7],T=[],L=(F5+x0*N)*Uint32Array.BYTES_PER_ELEMENT;let R;switch(E){case Int8Array.BYTES_PER_ELEMENT:R=new Int8Array(o.buffer,L);break;case Int16Array.BYTES_PER_ELEMENT:R=new Int16Array(o.buffer,L);break;case Int32Array.BYTES_PER_ELEMENT:R=new Int32Array(o.buffer,L);break}c=0;for(let k=0;k<N;k++){const j=h[x0*k+F5],H=new Float32Array(j+2);T.push(H);for(let tt=0;tt<x0-1;tt++)H[tt]=h[x0*k+F5+tt+1];for(let tt=0;tt<j;tt++)H[tt+2]=H[tt]+R[c++]}return{areContours:A,thickness:b,outlines:T,width:m,height:y}}catch(e){return Ie(`decompressSignature: ${e}`),null}}}Jd=new WeakMap,yi=new WeakSet,uA=function(t,e,i,s){return i-=t,s-=e,i===0?s>0?0:4:i===1?s+6:2-s},zo=new WeakMap,A6=function(t,e,i,s,r,o,c){const h=B(this,yi,uA).call(this,i,s,r,o);for(let p=0;p<8;p++){const m=(-p+h-c+16)%8,y=f(this,zo)[2*m],A=f(this,zo)[2*m+1];if(t[(i+y)*e+(s+A)]!==0)return m}return-1},S6=function(t,e,i,s,r,o,c){const h=B(this,yi,uA).call(this,i,s,r,o);for(let p=0;p<8;p++){const m=(p+h+c+16)%8,y=f(this,zo)[2*m],A=f(this,zo)[2*m+1];if(t[(i+y)*e+(s+A)]!==0)return m}return-1},cA=function(t,e,i,s){const r=t.length,o=new Int32Array(r);for(let m=0;m<r;m++)o[m]=t[m]<=s?1:0;for(let m=1;m<i-1;m++)o[m*e]=o[m*e+e-1]=0;for(let m=0;m<e;m++)o[m]=o[e*i-1-m]=0;let c=1,h;const p=[];for(let m=1;m<i-1;m++){h=1;for(let y=1;y<e-1;y++){const A=m*e+y,b=o[A];if(b===0)continue;let N=m,E=y;if(b===1&&o[A-1]===0)c+=1,E-=1;else if(b>=1&&o[A+1]===0)c+=1,E+=1,b>1&&(h=b);else{b!==1&&(h=Math.abs(b));continue}const T=[y,m],L=E===y+1,R={isHole:L,points:T,id:c,parent:0};p.push(R);let k;for(const q of p)if(q.id===h){k=q;break}k?k.isHole?R.parent=L?k.parent:h:R.parent=L?h:k.parent:R.parent=L?h:0;const j=B(this,yi,A6).call(this,o,e,m,y,N,E,0);if(j===-1){o[A]=-c,o[A]!==1&&(h=Math.abs(o[A]));continue}let H=f(this,zo)[2*j],tt=f(this,zo)[2*j+1];const Z=m+H,Q=y+tt;N=Z,E=Q;let et=m,ft=y;for(;;){const q=B(this,yi,S6).call(this,o,e,et,ft,N,E,1);H=f(this,zo)[2*q],tt=f(this,zo)[2*q+1];const W=et+H,lt=ft+tt;T.push(lt,W);const nt=et*e+ft;if(o[nt+1]===0?o[nt]=-c:o[nt]===1&&(o[nt]=c),W===m&&lt===y&&et===Z&&ft===Q){o[A]!==1&&(h=Math.abs(o[A]));break}else N=et,E=ft,et=W,ft=lt}}}return p},pv=function(t,e,i,s){if(i-e<=4){for(let Z=e;Z<i-2;Z+=2)s.push(t[Z],t[Z+1]);return}const r=t[e],o=t[e+1],c=t[i-4]-r,h=t[i-3]-o,p=Math.hypot(c,h),m=c/p,y=h/p,A=m*o-y*r,b=h/c,N=1/p,E=Math.atan(b),T=Math.cos(E),L=Math.sin(E),R=N*(Math.abs(T)+Math.abs(L)),k=N*(1-R+R**2),j=Math.max(Math.atan(Math.abs(L+T)*k),Math.atan(Math.abs(L-T)*k));let H=0,tt=e;for(let Z=e+2;Z<i-2;Z+=2){const Q=Math.abs(A-m*t[Z+1]+y*t[Z]);Q>H&&(tt=Z,H=Q)}H>(p*j)**2?(B(this,yi,pv).call(this,t,e,tt+2,s),B(this,yi,pv).call(this,t,tt,i,s)):s.push(r,o)},_6=function(t){const e=[],i=t.length;return B(this,yi,pv).call(this,t,0,i,e),e.push(t[i-2],t[i-1]),e.length<=4?null:e},x6=function(t,e,i,s,r,o){const c=new Float32Array(o**2),h=-2*s**2,p=o>>1;for(let E=0;E<o;E++){const T=(E-p)**2;for(let L=0;L<o;L++)c[E*o+L]=Math.exp((T+(L-p)**2)/h)}const m=new Float32Array(256),y=-2*r**2;for(let E=0;E<256;E++)m[E]=Math.exp(E**2/y);const A=t.length,b=new Uint8Array(A),N=new Uint32Array(256);for(let E=0;E<i;E++)for(let T=0;T<e;T++){const L=E*e+T,R=t[L];let k=0,j=0;for(let tt=0;tt<o;tt++){const Z=E+tt-p;if(!(Z<0||Z>=i))for(let Q=0;Q<o;Q++){const et=T+Q-p;if(et<0||et>=e)continue;const ft=t[Z*e+et],q=c[tt*o+Q]*m[Math.abs(ft-R)];k+=ft*q,j+=q}}const H=b[L]=Math.round(k/j);N[H]++}return[b,N]},E6=function(t){const e=new Uint32Array(256);for(const i of t)e[i]++;return e},hA=function(t){const e=t.length,i=new Uint8ClampedArray(e>>2);let s=-1/0,r=1/0;for(let c=0,h=i.length;c<h;c++){if(t[(c<<2)+3]===0){s=i[c]=255;continue}const m=i[c]=t[c<<2];m>s&&(s=m),m<r&&(r=m)}const o=255/(s-r);for(let c=0;c<e;c++)i[c]=(i[c]-r)*o;return i},fA=function(t){let e,i=-1/0,s=-1/0;const r=t.findIndex(h=>h!==0);let o=r,c=r;for(e=r;e<256;e++){const h=t[e];h>i&&(e-o>s&&(s=e-o,c=e-1),i=h,o=e)}for(e=c-1;e>=0&&!(t[e]>t[e+1]);e--);return e},N6=function(t){const e=t,{width:i,height:s}=t,{maxDim:r}=f(this,Jd);let o=i,c=s;if(i>r||s>r){let A=i,b=s,N=Math.log2(Math.max(i,s)/r);const E=Math.floor(N);N=N===E?E-1:E;for(let L=0;L<N;L++){o=Math.ceil(A/2),c=Math.ceil(b/2);const R=new OffscreenCanvas(o,c);R.getContext("2d").drawImage(t,0,0,A,b,0,0,o,c),A=o,b=c,t!==e&&t.close(),t=R.transferToImageBitmap()}const T=Math.min(r/o,r/c);o=Math.round(o*T),c=Math.round(c*T)}const p=new OffscreenCanvas(o,c).getContext("2d",{willReadFrequently:!0});p.filter="grayscale(1)",p.drawImage(t,0,0,t.width,t.height,0,0,o,c);const m=p.getImageData(0,0,o,c).data;return[B(this,yi,hA).call(this,m),o,c]},I(uc,yi),I(uc,Jd,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),I(uc,zo,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class qA extends g6{constructor(){super(),super.updateProperties({fill:qi._defaultLineColor,"stroke-width":0})}clone(){const t=new qA;return t.updateAll(this),t}}class UA extends ob{constructor(t){super(t),super.updateProperties({stroke:qi._defaultLineColor,"stroke-width":1})}clone(){const t=new UA(this._viewParameters);return t.updateAll(this),t}}var Hh,Ar,Gh,Vh;const ur=class ur extends Mv{constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"});I(this,Hh,!1);I(this,Ar,null);I(this,Gh,null);I(this,Vh,null);this._willKeepAspectRatio=!0,M(this,Gh,e.signatureData||null),M(this,Ar,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,i){qi.initialize(e,i),this._defaultDrawingOptions=new qA,this._defaultDrawnSignatureOptions=new UA(i.viewParameters)}static getDefaultDrawingOptions(e){const i=this._defaultDrawingOptions.clone();return i.updateProperties(e),i}static get supportMultipleDrawings(){return!1}static get typesMap(){return ei(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!f(this,Ar)}}static computeTelemetryFinalData(e){const i=e.get("hasDescription");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,i;const{_isCopy:s}=this;if(s&&(this._isCopy=!1,e=this.x,i=this.y),super.render(),this._drawId===null)if(f(this,Gh)){const{lines:r,mustSmooth:o,areContours:c,description:h,uuid:p,heightInPage:m}=f(this,Gh),{rawDims:{pageWidth:y,pageHeight:A},rotation:b}=this.parent.viewport,N=uc.processDrawnLines({lines:r,pageWidth:y,pageHeight:A,rotation:b,innerMargin:ur._INNER_MARGIN,mustSmooth:o,areContours:c});this.addSignature(N,m,h,p)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return s&&(this._isCopy=!0,this._moveAfterPaste(e,i)),this.div}setUuid(e){M(this,Vh,e),this.addEditToolbar()}getUuid(){return f(this,Vh)}get description(){return f(this,Ar)}set description(e){M(this,Ar,e),super.addEditToolbar().then(i=>{i==null||i.updateEditSignatureButton(e)})}getSignaturePreview(){const{newCurves:e,areContours:i,thickness:s,width:r,height:o}=f(this,Gh),c=Math.max(r,o),h=uc.processDrawnLines({lines:{curves:e.map(p=>({points:p})),thickness:s,width:r,height:o},pageWidth:c,pageHeight:c,rotation:0,innerMargin:0,mustSmooth:!1,areContours:i});return{areContours:i,outline:h.outline}}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.signatureManager&&f(this,Ar)!==null&&(await e.addEditSignatureButton(this._uiManager.signatureManager,f(this,Vh),f(this,Ar)),e.show()),e):null}addSignature(e,i,s,r){const{x:o,y:c}=this,{outline:h}=M(this,Gh,e);M(this,Hh,h instanceof lA),M(this,Ar,s),this.div.setAttribute("data-l10n-args",JSON.stringify({description:s}));let p;f(this,Hh)?p=ur.getDefaultDrawingOptions():(p=ur._defaultDrawnSignatureOptions.clone(),p.updateProperties({"stroke-width":h.thickness})),this._addOutlines({drawOutlines:h,drawingOptions:p});const[m,y]=this.parentDimensions,[,A]=this.pageDimensions;let b=i/A;b=b>=1?.5:b,this.width*=b/this.height,this.width>=1&&(b*=.9/this.width,this.width=.9),this.height=b,this.setDims(m*this.width,y*this.height),this.x=o,this.y=c,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!s}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:i,pageHeight:s},rotation:r}=this.parent.viewport;return uc.process(e,i,s,r,ur._INNER_MARGIN)}getFromText(e,i){const{rawDims:{pageWidth:s,pageHeight:r},rotation:o}=this.parent.viewport;return uc.extractContoursFromText(e,i,s,r,o,ur._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:i,pageHeight:s},rotation:r}=this.parent.viewport;return uc.processDrawnLines({lines:e,pageWidth:i,pageHeight:s,rotation:r,innerMargin:ur._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:i}){e?this._drawingOptions=ur.getDefaultDrawingOptions():(this._drawingOptions=ur._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":i}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:i,points:s,rect:r}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":o}}=this,c={annotationType:Fe.SIGNATURE,isSignature:!0,areContours:f(this,Hh),color:[0,0,0],thickness:f(this,Hh)?0:o,pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(c.paths={lines:i,points:s},c.uuid=f(this,Vh),c.isCopy=!0):c.lines=i,f(this,Ar)&&(c.accessibilityData={type:"Figure",alt:f(this,Ar)}),c}static deserializeDraw(e,i,s,r,o,c){return c.areContours?lA.deserialize(e,i,s,r,o,c):k2.deserialize(e,i,s,r,o,c)}static async deserialize(e,i,s){var o;const r=await super.deserialize(e,i,s);return M(r,Hh,e.areContours),M(r,Ar,((o=e.accessibilityData)==null?void 0:o.alt)||""),M(r,Vh,e.uuid),r}};Hh=new WeakMap,Ar=new WeakMap,Gh=new WeakMap,Vh=new WeakMap,Kt(ur,"_type","signature"),Kt(ur,"_editorType",Fe.SIGNATURE),Kt(ur,"_defaultDrawingOptions",null);let dA=ur;var en,hs,Yh,nc,Xh,w1,sc,tp,zl,Sr,A1,di,U0,H0,gv,mv,vv,gA,bv,L6;class pA extends qi{constructor(e){super({...e,name:"stampEditor"});I(this,di);I(this,en,null);I(this,hs,null);I(this,Yh,null);I(this,nc,null);I(this,Xh,null);I(this,w1,"");I(this,sc,null);I(this,tp,!1);I(this,zl,null);I(this,Sr,!1);I(this,A1,!1);M(this,nc,e.bitmapUrl),M(this,Xh,e.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,i){qi.initialize(e,i)}static isHandlingMimeForPasting(e){return ow.includes(e)}static paste(e,i){i.pasteEditor({mode:Fe.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const i=e.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(e=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:o,height:c}=e||this.copyCanvas(null,null,!0).imageData,h=await s.guess({name:"altText",request:{data:r,width:o,height:c,channels:r.length/(o*c)}});if(!h)throw new Error("No response from the AI service.");if(h.error)throw new Error("Error from the AI service.");if(h.cancel)return null;if(!h.output)throw new Error("No valid response from the AI service.");const p=h.output;return await this.setGuessedAltText(p),i&&!this.hasAltTextData()&&(this.altTextData={alt:p,decorative:!1}),p}remove(){var e;f(this,hs)&&(M(this,en,null),this._uiManager.imageManager.deleteId(f(this,hs)),(e=f(this,sc))==null||e.remove(),M(this,sc,null),f(this,zl)&&(clearTimeout(f(this,zl)),M(this,zl,null))),super.remove()}rebuild(){if(!this.parent){f(this,hs)&&B(this,di,gv).call(this);return}super.rebuild(),this.div!==null&&(f(this,hs)&&f(this,sc)===null&&B(this,di,gv).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(f(this,Yh)||f(this,en)||f(this,nc)||f(this,Xh)||f(this,hs)||f(this,tp))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,i;return this._isCopy&&(e=this.x,i=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),f(this,tp)||(f(this,en)?B(this,di,mv).call(this):B(this,di,gv).call(this)),this._isCopy&&this._moveAfterPaste(e,i),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,i){const{id:s,bitmap:r}=this._uiManager.imageManager.getFromCanvas(e,i);i.remove(),s&&this._uiManager.imageManager.isValidId(s)&&(M(this,hs,s),r&&M(this,en,r),M(this,tp,!1),B(this,di,mv).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;f(this,zl)!==null&&clearTimeout(f(this,zl)),M(this,zl,setTimeout(()=>{M(this,zl,null),B(this,di,gA).call(this)},200))}copyCanvas(e,i,s=!1){var b;e||(e=224);const{width:r,height:o}=f(this,en),c=new Vl;let h=f(this,en),p=r,m=o,y=null;if(i){if(r>i||o>i){const Q=Math.min(i/r,i/o);p=Math.floor(r*Q),m=Math.floor(o*Q)}y=document.createElement("canvas");const N=y.width=Math.ceil(p*c.sx),E=y.height=Math.ceil(m*c.sy);f(this,Sr)||(h=B(this,di,vv).call(this,N,E));const T=y.getContext("2d");T.filter=this._uiManager.hcmFilter;let L="white",R="#cfcfd8";this._uiManager.hcmFilter!=="none"?R="black":(b=window.matchMedia)!=null&&b.call(window,"(prefers-color-scheme: dark)").matches&&(L="#8f8f9d",R="#42414d");const k=15,j=k*c.sx,H=k*c.sy,tt=new OffscreenCanvas(j*2,H*2),Z=tt.getContext("2d");Z.fillStyle=L,Z.fillRect(0,0,j*2,H*2),Z.fillStyle=R,Z.fillRect(0,0,j,H),Z.fillRect(j,H,j,H),T.fillStyle=T.createPattern(tt,"repeat"),T.fillRect(0,0,N,E),T.drawImage(h,0,0,h.width,h.height,0,0,N,E)}let A=null;if(s){let N,E;if(c.symmetric&&h.width<e&&h.height<e)N=h.width,E=h.height;else if(h=f(this,en),r>e||o>e){const R=Math.min(e/r,e/o);N=Math.floor(r*R),E=Math.floor(o*R),f(this,Sr)||(h=B(this,di,vv).call(this,N,E))}const L=new OffscreenCanvas(N,E).getContext("2d",{willReadFrequently:!0});L.drawImage(h,0,0,h.width,h.height,0,0,N,E),A={width:N,height:E,data:L.getImageData(0,0,N,E).data}}return{canvas:y,width:p,height:m,imageData:A}}static async deserialize(e,i,s){var T;let r=null,o=!1;if(e instanceof Ux){const{data:{rect:L,rotation:R,id:k,structParent:j,popupRef:H},container:tt,parent:{page:{pageNumber:Z}},canvas:Q}=e;let et,ft;Q?(delete e.canvas,{id:et,bitmap:ft}=s.imageManager.getFromCanvas(tt.id,Q),Q.remove()):(o=!0,e._hasNoCanvas=!0);const q=((T=await i._structTree.getAriaAttributes(`${kA}${k}`))==null?void 0:T.get("aria-label"))||"";r=e={annotationType:Fe.STAMP,bitmapId:et,bitmap:ft,pageIndex:Z-1,rect:L.slice(0),rotation:R,id:k,deleted:!1,accessibilityData:{decorative:!1,altText:q},isSvg:!1,structParent:j,popupRef:H}}const c=await super.deserialize(e,i,s),{rect:h,bitmap:p,bitmapUrl:m,bitmapId:y,isSvg:A,accessibilityData:b}=e;o?(s.addMissingCanvas(e.id,c),M(c,tp,!0)):y&&s.imageManager.isValidId(y)?(M(c,hs,y),p&&M(c,en,p)):M(c,nc,m),M(c,Sr,A);const[N,E]=c.pageDimensions;return c.width=(h[2]-h[0])/N,c.height=(h[3]-h[1])/E,c.annotationElementId=e.id||null,b&&(c.altTextData=b),c._initialData=r,M(c,A1,!!r),c}serialize(e=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s={annotationType:Fe.STAMP,bitmapId:f(this,hs),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:f(this,Sr),structTreeParentId:this._structTreeParentId};if(e)return s.bitmapUrl=B(this,di,bv).call(this,!0),s.accessibilityData=this.serializeAltText(!0),s.isCopy=!0,s;const{decorative:r,altText:o}=this.serializeAltText(!1);if(!r&&o&&(s.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const h=B(this,di,L6).call(this,s);if(h.isSame)return null;h.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1}if(s.id=this.annotationElementId,i===null)return s;i.stamps||(i.stamps=new Map);const c=f(this,Sr)?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!i.stamps.has(f(this,hs)))i.stamps.set(f(this,hs),{area:c,serialized:s}),s.bitmap=B(this,di,bv).call(this,!1);else if(f(this,Sr)){const h=i.stamps.get(f(this,hs));c>h.area&&(h.area=c,h.serialized.bitmap.close(),h.serialized.bitmap=B(this,di,bv).call(this,!1))}return s}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}}en=new WeakMap,hs=new WeakMap,Yh=new WeakMap,nc=new WeakMap,Xh=new WeakMap,w1=new WeakMap,sc=new WeakMap,tp=new WeakMap,zl=new WeakMap,Sr=new WeakMap,A1=new WeakMap,di=new WeakSet,U0=function(e,i=!1){if(!e){this.remove();return}M(this,en,e.bitmap),i||(M(this,hs,e.id),M(this,Sr,e.isSvg)),e.file&&M(this,w1,e.file.name),B(this,di,mv).call(this)},H0=function(){if(M(this,Yh,null),this._uiManager.enableWaiting(!1),!!f(this,sc)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&f(this,en)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&f(this,en)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},gv=function(){if(f(this,hs)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(f(this,hs)).then(s=>B(this,di,U0).call(this,s,!0)).finally(()=>B(this,di,H0).call(this));return}if(f(this,nc)){const s=f(this,nc);M(this,nc,null),this._uiManager.enableWaiting(!0),M(this,Yh,this._uiManager.imageManager.getFromUrl(s).then(r=>B(this,di,U0).call(this,r)).finally(()=>B(this,di,H0).call(this)));return}if(f(this,Xh)){const s=f(this,Xh);M(this,Xh,null),this._uiManager.enableWaiting(!0),M(this,Yh,this._uiManager.imageManager.getFromFile(s).then(r=>B(this,di,U0).call(this,r)).finally(()=>B(this,di,H0).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=ow.join(",");const i=this._uiManager._signal;M(this,Yh,new Promise(s=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),B(this,di,U0).call(this,r)}s()},{signal:i}),e.addEventListener("cancel",()=>{this.remove(),s()},{signal:i})}).finally(()=>B(this,di,H0).call(this))),e.click()},mv=function(){var y;const{div:e}=this;let{width:i,height:s}=f(this,en);const[r,o]=this.pageDimensions,c=.75;if(this.width)i=this.width*r,s=this.height*o;else if(i>c*r||s>c*o){const A=Math.min(c*r/i,c*o/s);i*=A,s*=A}const[h,p]=this.parentDimensions;this.setDims(i*h/r,s*p/o),this._uiManager.enableWaiting(!1);const m=M(this,sc,document.createElement("canvas"));m.setAttribute("role","img"),this.addContainer(m),this.width=i/r,this.height=s/o,(y=this._initialOptions)!=null&&y.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),B(this,di,gA).call(this),f(this,A1)||(this.parent.addUndoableEditor(this),M(this,A1,!0)),this._reportTelemetry({action:"inserted_image"}),f(this,w1)&&this.div.setAttribute("aria-description",f(this,w1))},vv=function(e,i){const{width:s,height:r}=f(this,en);let o=s,c=r,h=f(this,en);for(;o>2*e||c>2*i;){const p=o,m=c;o>2*e&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),c>2*i&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2));const y=new OffscreenCanvas(o,c);y.getContext("2d").drawImage(h,0,0,p,m,0,0,o,c),h=y.transferToImageBitmap()}return h},gA=function(){const[e,i]=this.parentDimensions,{width:s,height:r}=this,o=new Vl,c=Math.ceil(s*e*o.sx),h=Math.ceil(r*i*o.sy),p=f(this,sc);if(!p||p.width===c&&p.height===h)return;p.width=c,p.height=h;const m=f(this,Sr)?f(this,en):B(this,di,vv).call(this,c,h),y=p.getContext("2d");y.filter=this._uiManager.hcmFilter,y.drawImage(m,0,0,m.width,m.height,0,0,c,h)},bv=function(e){if(e){if(f(this,Sr)){const r=this._uiManager.imageManager.getSvgUrl(f(this,hs));if(r)return r}const i=document.createElement("canvas");return{width:i.width,height:i.height}=f(this,en),i.getContext("2d").drawImage(f(this,en),0,0),i.toDataURL()}if(f(this,Sr)){const[i,s]=this.pageDimensions,r=Math.round(this.width*i*ef.PDF_TO_CSS_UNITS),o=Math.round(this.height*s*ef.PDF_TO_CSS_UNITS),c=new OffscreenCanvas(r,o);return c.getContext("2d").drawImage(f(this,en),0,0,f(this,en).width,f(this,en).height,0,0,r,o),c.transferToImageBitmap()}return structuredClone(f(this,en))},L6=function(e){var c;const{pageIndex:i,accessibilityData:{altText:s}}=this._initialData,r=e.pageIndex===i,o=(((c=e.accessibilityData)==null?void 0:c.alt)||"")===s;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&r&&o,isSameAltText:o}},Kt(pA,"_type","stamp"),Kt(pA,"_editorType",Fe.STAMP);var ep,S1,ql,Wh,ac,Jr,$h,_1,ip,qo,rc,Ws,oc,ge,Kh,nn,C6,El,vA,bA,yv;const Co=class Co{constructor({uiManager:t,pageIndex:e,div:i,structTreeLayer:s,accessibilityManager:r,annotationLayer:o,drawLayer:c,textLayer:h,viewport:p,l10n:m}){I(this,nn);I(this,ep);I(this,S1,!1);I(this,ql,null);I(this,Wh,null);I(this,ac,null);I(this,Jr,new Map);I(this,$h,!1);I(this,_1,!1);I(this,ip,!1);I(this,qo,null);I(this,rc,null);I(this,Ws,null);I(this,oc,null);I(this,ge);const y=[...f(Co,Kh).values()];if(!Co._initialized){Co._initialized=!0;for(const A of y)A.initialize(m,t)}t.registerEditorTypes(y),M(this,ge,t),this.pageIndex=e,this.div=i,M(this,ep,r),M(this,ql,o),this.viewport=p,M(this,Ws,h),this.drawLayer=c,this._structTree=s,f(this,ge).addLayer(this)}get isEmpty(){return f(this,Jr).size===0}get isInvisible(){return this.isEmpty&&f(this,ge).getMode()===Fe.NONE}updateToolbar(t){f(this,ge).updateToolbar(t)}updateMode(t=f(this,ge).getMode()){switch(B(this,nn,yv).call(this),t){case Fe.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Fe.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Fe.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const i of f(Co,Kh).values())e.toggle(`${i._type}Editing`,t===i._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=f(this,Ws))==null?void 0:e.div)}setEditingState(t){f(this,ge).setEditingState(t)}addCommands(t){f(this,ge).addCommands(t)}cleanUndoStack(t){f(this,ge).cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=f(this,ql))==null||e.div.classList.toggle("disabled",!t)}async enable(){M(this,ip,!0),this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const i of f(this,Jr).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(f(this,ge).removeChangedExistingAnnotation(i),t.add(i.annotationElementId));if(!f(this,ql)){M(this,ip,!1);return}const e=f(this,ql).getEditableAnnotations();for(const i of e){if(i.hide(),f(this,ge).isDeletedAnnotationElement(i.data.id)||t.has(i.data.id))continue;const s=await this.deserialize(i);s&&(this.addOrRebuild(s),s.enableEditing())}M(this,ip,!1)}disable(){var s;M(this,_1,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const r of f(this,Jr).values())if(r.disableEditing(),!!r.annotationElementId){if(r.serialize()!==null){t.set(r.annotationElementId,r);continue}else e.set(r.annotationElementId,r);(s=this.getEditableAnnotation(r.annotationElementId))==null||s.show(),r.remove()}if(f(this,ql)){const r=f(this,ql).getEditableAnnotations();for(const o of r){const{id:c}=o.data;if(f(this,ge).isDeletedAnnotationElement(c))continue;let h=e.get(c);if(h){h.resetAnnotationElement(o),h.show(!1),o.show();continue}h=t.get(c),h&&(f(this,ge).addChangedExistingAnnotation(h),h.renderAnnotationElement(o)&&h.show(!1)),o.show()}}B(this,nn,yv).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const r of f(Co,Kh).values())i.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),M(this,_1,!1)}getEditableAnnotation(t){var e;return((e=f(this,ql))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){f(this,ge).getActive()!==t&&f(this,ge).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=f(this,Ws))!=null&&t.div&&!f(this,oc)){M(this,oc,new AbortController);const e=f(this,ge).combinedSignal(f(this,oc));f(this,Ws).div.addEventListener("pointerdown",B(this,nn,C6).bind(this),{signal:e}),f(this,Ws).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=f(this,Ws))!=null&&t.div&&f(this,oc)&&(f(this,oc).abort(),M(this,oc,null),f(this,Ws).div.classList.remove("highlighting"))}enableClick(){if(f(this,Wh))return;M(this,Wh,new AbortController);const t=f(this,ge).combinedSignal(f(this,Wh));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){var t;(t=f(this,Wh))==null||t.abort(),M(this,Wh,null)}attach(t){f(this,Jr).set(t.id,t);const{annotationElementId:e}=t;e&&f(this,ge).isDeletedAnnotationElement(e)&&f(this,ge).removeDeletedAnnotationElement(t)}detach(t){var e;f(this,Jr).delete(t.id),(e=f(this,ep))==null||e.removePointerInTextLayer(t.contentDiv),!f(this,_1)&&t.annotationElementId&&f(this,ge).addDeletedAnnotationElement(t)}remove(t){this.detach(t),f(this,ge).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(f(this,ge).addDeletedAnnotationElement(t.annotationElementId),qi.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),f(this,ge).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!f(this,ip)),f(this,ge).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var i;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!f(this,ac)&&(t._focusEventsAllowed=!1,M(this,ac,setTimeout(()=>{M(this,ac,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:f(this,ge)._signal}),e.focus())},0))),t._structTreeParentId=(i=f(this,ep))==null?void 0:i.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),i=()=>{t.remove()};this.addCommands({cmd:e,undo:i,mustExec:!1})}getNextId(){return f(this,ge).getId()}combinedSignal(t){return f(this,ge).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=f(this,nn,El))==null?void 0:t.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await f(this,ge).updateMode(t.mode);const{offsetX:i,offsetY:s}=B(this,nn,bA).call(this),r=this.getNextId(),o=B(this,nn,vA).call(this,{parent:this,id:r,x:i,y:s,uiManager:f(this,ge),isCentered:!0,...e});o&&this.add(o)}async deserialize(t){var e;return await((e=f(Co,Kh).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,f(this,ge)))||null}createAndAddNewEditor(t,e,i={}){const s=this.getNextId(),r=B(this,nn,vA).call(this,{parent:this,id:s,x:t.offsetX,y:t.offsetY,uiManager:f(this,ge),isCentered:e,...i});return r&&this.add(r),r}addNewEditor(t={}){this.createAndAddNewEditor(B(this,nn,bA).call(this),!0,t)}setSelected(t){f(this,ge).setSelected(t)}toggleSelected(t){f(this,ge).toggleSelected(t)}unselect(t){f(this,ge).unselect(t)}pointerup(t){var s;const{isMac:e}=Ts.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!f(this,$h)||(M(this,$h,!1),(s=f(this,nn,El))!=null&&s.isDrawer&&f(this,nn,El).supportMultipleDrawings))return;if(!f(this,S1)){M(this,S1,!0);return}const i=f(this,ge).getMode();if(i===Fe.STAMP||i===Fe.SIGNATURE){f(this,ge).unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){var s;if(f(this,ge).getMode()===Fe.HIGHLIGHT&&this.enableTextSelection(),f(this,$h)){M(this,$h,!1);return}const{isMac:e}=Ts.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(M(this,$h,!0),(s=f(this,nn,El))!=null&&s.isDrawer){this.startDrawingSession(t);return}const i=f(this,ge).getActive();M(this,S1,!i||i.isEmpty())}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),f(this,qo)){f(this,nn,El).startDrawing(this,f(this,ge),!1,t);return}f(this,ge).setCurrentDrawingSession(this),M(this,qo,new AbortController);const e=f(this,ge).combinedSignal(f(this,qo));this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(M(this,rc,null),this.commitOrRemove())},{signal:e}),f(this,nn,El).startDrawing(this,f(this,ge),!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&M(this,rc,e);return}f(this,rc)&&setTimeout(()=>{var e;(e=f(this,rc))==null||e.focus(),M(this,rc,null)},0)}endDrawingSession(t=!1){return f(this,qo)?(f(this,ge).setCurrentDrawingSession(null),f(this,qo).abort(),M(this,qo,null),M(this,rc,null),f(this,nn,El).endDrawing(t)):null}findNewParent(t,e,i){const s=f(this,ge).findParent(e,i);return s===null||s===this?!1:(s.changeParent(t),!0)}commitOrRemove(){return f(this,qo)?(this.endDrawingSession(),!0):!1}onScaleChanging(){f(this,qo)&&f(this,nn,El).onScaleChangingWhenDrawing(this)}destroy(){var t,e;this.commitOrRemove(),((t=f(this,ge).getActive())==null?void 0:t.parent)===this&&(f(this,ge).commitOrRemove(),f(this,ge).setActiveEditor(null)),f(this,ac)&&(clearTimeout(f(this,ac)),M(this,ac,null));for(const i of f(this,Jr).values())(e=f(this,ep))==null||e.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,f(this,Jr).clear(),f(this,ge).removeLayer(this)}render({viewport:t}){this.viewport=t,ap(this.div,t);for(const e of f(this,ge).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){f(this,ge).commitOrRemove(),B(this,nn,yv).call(this);const e=this.viewport.rotation,i=t.rotation;if(this.viewport=t,ap(this.div,{rotation:i}),e!==i)for(const s of f(this,Jr).values())s.rotate(i)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return f(this,ge).viewParameters.realScale}};ep=new WeakMap,S1=new WeakMap,ql=new WeakMap,Wh=new WeakMap,ac=new WeakMap,Jr=new WeakMap,$h=new WeakMap,_1=new WeakMap,ip=new WeakMap,qo=new WeakMap,rc=new WeakMap,Ws=new WeakMap,oc=new WeakMap,ge=new WeakMap,Kh=new WeakMap,nn=new WeakSet,C6=function(t){f(this,ge).unselectAll();const{target:e}=t;if(e===f(this,Ws).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&f(this,Ws).div.contains(e)){const{isMac:i}=Ts.platform;if(t.button!==0||t.ctrlKey&&i)return;f(this,ge).showAllEditors("highlight",!0,!0),f(this,Ws).div.classList.add("free"),this.toggleDrawing(),Rv.startHighlighting(this,f(this,ge).direction==="ltr",{target:f(this,Ws).div,x:t.x,y:t.y}),f(this,Ws).div.addEventListener("pointerup",()=>{f(this,Ws).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:f(this,ge)._signal}),t.preventDefault()}},El=function(){return f(Co,Kh).get(f(this,ge).getMode())},vA=function(t){const e=f(this,nn,El);return e?new e.prototype.constructor(t):null},bA=function(){const{x:t,y:e,width:i,height:s}=this.div.getBoundingClientRect(),r=Math.max(0,t),o=Math.max(0,e),c=Math.min(window.innerWidth,t+i),h=Math.min(window.innerHeight,e+s),p=(r+c)/2-t,m=(o+h)/2-e,[y,A]=this.viewport.rotation%180===0?[p,m]:[m,p];return{offsetX:y,offsetY:A}},yv=function(){for(const t of f(this,Jr).values())t.isEmpty()&&t.remove()},Kt(Co,"_initialized",!1),I(Co,Kh,new Map([Ww,oA,pA,Rv,dA].map(t=>[t._editorType,t])));let mA=Co;var Uo,da,np,S2,Kv,T6,Yl,wA,R6,AA;const Xn=class Xn{constructor({pageIndex:t}){I(this,Yl);I(this,Uo,null);I(this,da,new Map);I(this,np,new Map);this.pageIndex=t}setParent(t){if(!f(this,Uo)){M(this,Uo,t);return}if(f(this,Uo)!==t){if(f(this,da).size>0)for(const e of f(this,da).values())e.remove(),t.append(e);M(this,Uo,t)}}static get _svgFactory(){return ei(this,"_svgFactory",new Lv)}draw(t,e=!1,i=!1){const s=la(Xn,S2)._++,r=B(this,Yl,wA).call(this),o=Xn._svgFactory.createElement("defs");r.append(o);const c=Xn._svgFactory.createElement("path");o.append(c);const h=`path_p${this.pageIndex}_${s}`;c.setAttribute("id",h),c.setAttribute("vector-effect","non-scaling-stroke"),e&&f(this,np).set(s,c);const p=i?B(this,Yl,R6).call(this,o,h):null,m=Xn._svgFactory.createElement("use");return r.append(m),m.setAttribute("href",`#${h}`),this.updateProperties(r,t),f(this,da).set(s,r),{id:s,clipPathId:`url(#${p})`}}drawOutline(t,e){const i=la(Xn,S2)._++,s=B(this,Yl,wA).call(this),r=Xn._svgFactory.createElement("defs");s.append(r);const o=Xn._svgFactory.createElement("path");r.append(o);const c=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",c),o.setAttribute("vector-effect","non-scaling-stroke");let h;if(e){const y=Xn._svgFactory.createElement("mask");r.append(y),h=`mask_p${this.pageIndex}_${i}`,y.setAttribute("id",h),y.setAttribute("maskUnits","objectBoundingBox");const A=Xn._svgFactory.createElement("rect");y.append(A),A.setAttribute("width","1"),A.setAttribute("height","1"),A.setAttribute("fill","white");const b=Xn._svgFactory.createElement("use");y.append(b),b.setAttribute("href",`#${c}`),b.setAttribute("stroke","none"),b.setAttribute("fill","black"),b.setAttribute("fill-rule","nonzero"),b.classList.add("mask")}const p=Xn._svgFactory.createElement("use");s.append(p),p.setAttribute("href",`#${c}`),h&&p.setAttribute("mask",`url(#${h})`);const m=p.cloneNode();return s.append(m),p.classList.add("mainOutline"),m.classList.add("secondaryOutline"),this.updateProperties(s,t),f(this,da).set(i,s),i}finalizeDraw(t,e){f(this,np).delete(t),this.updateProperties(t,e)}updateProperties(t,e){var h;if(!e)return;const{root:i,bbox:s,rootClass:r,path:o}=e,c=typeof t=="number"?f(this,da).get(t):t;if(c){if(i&&B(this,Yl,AA).call(this,c,i),s&&B(h=Xn,Kv,T6).call(h,c,s),r){const{classList:p}=c;for(const[m,y]of Object.entries(r))p.toggle(m,y)}if(o){const m=c.firstChild.firstChild;B(this,Yl,AA).call(this,m,o)}}}updateParent(t,e){if(e===this)return;const i=f(this,da).get(t);i&&(f(e,Uo).append(i),f(this,da).delete(t),f(e,da).set(t,i))}remove(t){f(this,np).delete(t),f(this,Uo)!==null&&(f(this,da).get(t).remove(),f(this,da).delete(t))}destroy(){M(this,Uo,null);for(const t of f(this,da).values())t.remove();f(this,da).clear(),f(this,np).clear()}};Uo=new WeakMap,da=new WeakMap,np=new WeakMap,S2=new WeakMap,Kv=new WeakSet,T6=function(t,[e,i,s,r]){const{style:o}=t;o.top=`${100*i}%`,o.left=`${100*e}%`,o.width=`${100*s}%`,o.height=`${100*r}%`},Yl=new WeakSet,wA=function(){const t=Xn._svgFactory.create(1,1,!0);return f(this,Uo).append(t),t.setAttribute("aria-hidden",!0),t},R6=function(t,e){const i=Xn._svgFactory.createElement("clipPath");t.append(i);const s=`clip_${e}`;i.setAttribute("id",s),i.setAttribute("clipPathUnits","objectBoundingBox");const r=Xn._svgFactory.createElement("use");return i.append(r),r.setAttribute("href",`#${e}`),r.classList.add("clip"),s},AA=function(t,e){for(const[i,s]of Object.entries(e))s===null?t.removeAttribute(i):t.setAttribute(i,s)},I(Xn,Kv),I(Xn,S2,0);let yA=Xn;globalThis._pdfjsTestingUtils={HighlightOutliner:Kw};globalThis.pdfjsLib={AbortException:tf,AnnotationEditorLayer:mA,AnnotationEditorParamsType:ai,AnnotationEditorType:Fe,AnnotationEditorUIManager:rp,AnnotationLayer:Vw,AnnotationMode:dh,AnnotationType:In,build:z8,ColorPicker:Tv,createValidAbsoluteUrl:A_,DOMSVGFactory:Lv,DrawLayer:yA,FeatureTest:Ts,fetchData:L2,getDocument:Nx,getFilenameFromUrl:kC,getPdfFilenameFromUrl:DC,getUuid:x_,getXfaPageViewport:OC,GlobalWorkerOptions:lc,ImageKind:H5,InvalidPDFException:aw,isDataScheme:ab,isPdfFile:PA,isValidExplicitDest:YC,MathClamp:ga,noContextMenu:Go,normalizeUnicode:TC,OPS:_v,OutputScale:Vl,PasswordResponses:wC,PDFDataRangeTransport:Lx,PDFDateString:OA,PDFWorker:$0,PermissionFlag:yC,PixelsPerInch:ef,RenderingCancelledException:DA,ResponseException:xv,setLayerDimensions:ap,shadow:ei,SignatureExtractor:uc,stopEvent:Bn,SupportedImageMimeTypes:ow,TextLayer:X0,TouchManager:Nv,updateUrlHash:S_,Util:we,VerbosityLevel:ib,version:j8,XfaLayer:Rx};const lT=async l=>{try{const t=await l.arrayBuffer(),e=await Nx({data:t}).promise;let i="";for(let s=1;s<=e.numPages;s++){const c=(await(await e.getPage(s)).getTextContent()).items.map(h=>h.str).join(" ");i+=c+`
`}return i}catch(t){throw console.error("Error parsing PDF:",t),new Error("Failed to parse PDF file")}};function uT({onExtract:l}){const[t,e]=zt.useState(!1),[i,s]=zt.useState(""),r=async o=>{const c=o.target.files[0];if(c){e(!0),s("");try{const h=await lT(c);l(h)}catch(h){console.error("Error extracting resume:",h),s("Failed to extract data from PDF")}e(!1)}};return Pt.jsxs("div",{className:"p-4 bg-white shadow-md rounded-lg",children:[Pt.jsx("h2",{className:"text-xl font-bold mb-2",children:"Upload Existing Resume"}),Pt.jsx("input",{type:"file",accept:".pdf",onChange:r,className:"p-2 border rounded w-full"}),t&&Pt.jsx("p",{className:"text-sm text-gray-500",children:"Extracting data..."}),i&&Pt.jsx("p",{className:"text-sm text-red-500",children:i})]})}const cT=()=>{const[l,t]=zt.useState(""),[e,i]=zt.useState(!1),[s,r]=zt.useState(null),o=async()=>{try{i(!0),r(null),t()}catch(c){r("Failed to get suggestions. Please try again."),console.error(c)}finally{i(!1)}};return Pt.jsxs("div",{className:"mt-4 p-4 bg-white rounded-lg shadow-md",children:[Pt.jsx("h2",{className:"text-xl font-bold mb-4",children:"AI Suggestions"}),Pt.jsx("button",{onClick:o,disabled:e,className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 disabled:bg-blue-300",children:e?"Getting Suggestions...":"Get AI Suggestions"}),s&&Pt.jsx("div",{className:"mt-4 text-red-500",children:s}),l&&Pt.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[Pt.jsx("h3",{className:"font-semibold mb-2",children:"Suggestions for Improvement:"}),Pt.jsx("div",{className:"whitespace-pre-wrap",children:l})]})]})},hT=()=>{const[l,t]=zt.useState({}),[e,i]=zt.useState("Classic"),s=o=>{const c=r(o);t(c)},r=o=>{var c,h,p,m,y,A;return{name:((c=o.match(/Name:\s*(.+)/i))==null?void 0:c[1])||"",email:((h=o.match(/\b[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}\b/i))==null?void 0:h[0])||"",phone:((p=o.match(/Phone:\s*(.+)/i))==null?void 0:p[1])||"",experience:((m=o.match(/Experience:\s*([\s\S]+)/i))==null?void 0:m[1])||"",education:((y=o.match(/Education:\s*([\s\S]+)/i))==null?void 0:y[1])||"",skills:((A=o.match(/Skills:\s*(.+)/i))==null?void 0:A[1])||""}};return Pt.jsxs("div",{className:"p-6",children:[Pt.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Resume Builder"}),Pt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Pt.jsx(mL,{onUpdate:t}),Pt.jsx(mC,{formData:l,selectedTheme:e})]}),Pt.jsxs("div",{className:"mt-6 flex gap-4",children:[Pt.jsx(uT,{onExtract:s}),Pt.jsx(vC,{onSelectTheme:i}),Pt.jsx(w_,{})]}),Pt.jsx(cT,{resumeData:l})]})};function fT(){return Pt.jsx(sL,{basename:"/ResumeBuilder/",children:Pt.jsxs(ON,{children:[Pt.jsx(Gy,{path:"/",element:Pt.jsx(pL,{})}),Pt.jsx(Gy,{path:"/resume-builder",element:Pt.jsx(hT,{})})]})})}GE.createRoot(document.getElementById("root")).render(Pt.jsx(zt.StrictMode,{children:Pt.jsx(fT,{})}));export{xi as _};
